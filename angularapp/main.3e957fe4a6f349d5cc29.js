(self.webpackChunkprimer_proyectito_test=self.webpackChunkprimer_proyectito_test||[]).push([[179],{8255:We=>{function Ce(k){return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+k+"'");throw m.code="MODULE_NOT_FOUND",m})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,We.exports=Ce},3018:(We,Ce,k)=>{"use strict";k.d(Ce,{deG:()=>Kh,tb:()=>gD,AFp:()=>fD,ip1:()=>L0,CZH:()=>ih,hGG:()=>LN,z2F:()=>ah,sBO:()=>BA,Sil:()=>uo,_Vd:()=>so,EJc:()=>U0,SBq:()=>Cs,qLn:()=>W,vpe:()=>hn,gxx:()=>Wa,tBr:()=>ka,XFs:()=>De,OlP:()=>En,zs3:()=>At,ZZ4:()=>Km,aQg:()=>Kd,soG:()=>sh,YKP:()=>pb,v3s:()=>Ap,h0i:()=>cu,PXZ:()=>Y0,R0b:()=>Ri,FiY:()=>ni,Lbi:()=>zS,g9A:()=>pD,Qsj:()=>Gm,FYo:()=>lu,JOm:()=>Qs,Tiy:()=>RE,q3G:()=>nn,tp0:()=>ls,EAV:()=>RD,Rgc:()=>ta,dDg:()=>q0,DyG:()=>Gc,q4F:()=>qm,GfV:()=>ME,s_b:()=>Xm,ifc:()=>mn,eFA:()=>Q0,G48:()=>ED,Gpc:()=>te,X6Q:()=>xy,_c5:()=>Oy,VLi:()=>ix,c2e:()=>mD,zSh:()=>za,wAp:()=>je,vHH:()=>xe,EiD:()=>cf,mCW:()=>hs,qzn:()=>Zs,JVY:()=>al,pB0:()=>Va,eBb:()=>Jc,L6k:()=>yg,LAX:()=>w_,cg1:()=>lE,Tjo:()=>rw,kL8:()=>Gd,yhl:()=>ri,dqk:()=>L,sIi:()=>bl,CqO:()=>Hf,QGY:()=>Rd,F4k:()=>Dm,RDi:()=>Rs,AaK:()=>U,z3N:()=>jr,qOj:()=>ym,TTD:()=>Ah,_Bn:()=>au,xp6:()=>xT,uIk:()=>Dl,ekj:()=>Rm,Suo:()=>nD,Xpm:()=>fa,lG2:()=>jp,Yz7:()=>sn,cJS:()=>gi,oAB:()=>Cu,Yjl:()=>Hp,Y36:()=>Fl,_UZ:()=>Qa,qZA:()=>qe,TgZ:()=>Im,EpF:()=>bm,n5z:()=>zu,Ikx:()=>Pm,LFG:()=>Dn,$8M:()=>Zu,NdJ:()=>Tm,CRH:()=>rD,oxw:()=>cn,Q6J:()=>Ll,iGM:()=>eD,CHM:()=>Nh,LSH:()=>Lo,kYT:()=>ga,YNc:()=>Uv,_uU:()=>Pn,Oqu:()=>Bd,hij:()=>jl});var m=k(9765),oe=k(5319),j=k(7574),ne=k(6682),me=k(2441);var pe=k(1307);function z(){return new m.xQ}function B(s){for(let o in s)if(s[o]===B)return o;throw Error("Could not find renamed property on target object.")}function H(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function U(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(U).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function q(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const le=B({__forward_ref__:B});function te(s){return s.__forward_ref__=te,s.toString=function(){return U(this())},s}function ee(s){return Me(s)?s():s}function Me(s){return"function"==typeof s&&s.hasOwnProperty(le)&&s.__forward_ref__===te}class xe extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function ke(s){return"string"==typeof s?s:null==s?"":String(s)}function at(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ke(s)}function se(s,o){const u=o?` in ${o}`:"";throw new xe("201",`No provider for ${at(s)} found${u}`)}function pn(s,o){null==s&&function(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function gi(s){return{providers:s.providers||[],imports:s.imports||[]}}function br(s){return po(s,Fn)||po(s,Ss)}function po(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ji(s){return s&&(s.hasOwnProperty(mi)||s.hasOwnProperty(dt))?s[mi]:null}const Fn=B({\u0275prov:B}),mi=B({\u0275inj:B}),Ss=B({ngInjectableDef:B}),dt=B({ngInjectorDef:B});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let Ht;function an(s){const o=Ht;return Ht=s,o}function Pt(s,o,u){const c=br(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&De.Optional?null:void 0!==o?o:void se(U(s),"Injector")}function Ke(s){return{toString:s}.toString()}var gn=(()=>((gn=gn||{})[gn.OnPush=0]="OnPush",gn[gn.Default=1]="Default",gn))(),mn=(()=>((mn=mn||{})[mn.Emulated=0]="Emulated",mn[mn.None=2]="None",mn[mn.ShadowDom=3]="ShadowDom",mn))();const kr="undefined"!=typeof globalThis&&globalThis,_o="undefined"!=typeof window&&window,Yt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,L=kr||$||_o||Yt,K={},be=[],Je=B({\u0275cmp:B}),mt=B({\u0275dir:B}),Ct=B({\u0275pipe:B}),Rt=B({\u0275mod:B}),xn=B({\u0275loc:B}),$t=B({\u0275fac:B}),yn=B({__NG_ELEMENT_ID__:B});let vo=0;function fa(s){return Ke(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||be,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||mn.Emulated,id:"c",styles:s.styles||be,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,v=s.pipes;return c.id+=vo++,c.inputs=yi(s.inputs,u),c.outputs=yi(s.outputs),f&&f.forEach(E=>E(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(mh):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(bc):null,c})}function mh(s){return Gn(s)||function(s){return s[mt]||null}(s)}function bc(s){return function(s){return s[Ct]||null}(s)}const pa={};function Cu(s){return Ke(()=>{const o={type:s.type,bootstrap:s.bootstrap||be,declarations:s.declarations||be,imports:s.imports||be,exports:s.exports||be,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(pa[s.id]=s.type),o})}function ga(s,o){return Ke(()=>{const u=ar(s,!0);u.declarations=o.declarations||be,u.imports=o.imports||be,u.exports=o.exports||be})}function yi(s,o){if(null==s)return K;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const jp=fa;function Hp(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gn(s){return s[Je]||null}function ar(s,o){const u=s[Rt]||null;if(!u&&!0===o)throw new Error(`Type ${U(s)} does not have '\u0275mod' property.`);return u}function Vr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Lt(s){return Array.isArray(s)&&!0===s[1]}function Du(s){return 0!=(8&s.flags)}function Tc(s){return 2==(2&s.flags)}function Ur(s){return 1==(1&s.flags)}function _i(s){return null!==s.template}function wh(s){return 0!=(512&s[2])}function ts(s,o){return s.hasOwnProperty($t)?s[$t]:null}class Th{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ah(){return Au}function Au(s){return s.type.prototype.ngOnChanges&&(s.setInput=zy),vi}function vi(){const s=Su(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===K)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function zy(s,o,u,c){const d=Su(s)||function(s,o){return s[Zy]=o}(s,{previous:K,current:null}),f=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[u],b=v[E];f[E]=new Th(b&&b.currentValue,o,v===K),s[c]=o}Ah.ngInherit=!0;const Zy="__ngSimpleChanges__";function Su(s){return s[Zy]||null}let Do;function Rs(s){Do=s}function Qt(s){return!!s.listen}const Mc={createRenderer:(s,o)=>void 0!==Do?Do:"undefined"!=typeof document?document:void 0};function Jt(s){for(;Array.isArray(s);)s=s[0];return s}function Ru(s,o){return Jt(o[s])}function Br(s,o){return Jt(o[s.index])}function Ms(s,o){return s.data[o]}function lr(s,o){const u=o[s];return Vr(u)?u:u[0]}function Ou(s){return 4==(4&s[2])}function Pu(s){return 128==(128&s[2])}function Os(s,o){return null==o?null:s[o]}function Pc(s){s[18]=0}function Sh(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const it={lFrame:tg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xh(){return it.bindingsEnabled}function Ie(){return it.lFrame.lView}function It(){return it.lFrame.tView}function Nh(s){return it.lFrame.contextLView=s,s[8]}function _n(){let s=Qp();for(;null!==s&&64===s.type;)s=s.parent;return s}function Qp(){return it.lFrame.currentTNode}function Yr(s,o){const u=it.lFrame;u.currentTNode=s,u.isParent=o}function Rh(){return it.lFrame.isParent}function wa(){return it.isInCheckNoChangesMode}function ks(s){it.isInCheckNoChangesMode=s}function Fs(){return it.lFrame.bindingIndex++}function Ph(s,o){const u=it.lFrame;u.bindingIndex=u.bindingRootIndex=s,Uu(o)}function Uu(s){it.lFrame.currentDirectiveIndex=s}function So(){return it.lFrame.currentQueryIndex}function Lh(s){it.lFrame.currentQueryIndex=s}function Yy(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Qy(s,o,u){if(u&De.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&De.Host||(d=Yy(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=it.lFrame=eg();return c.currentTNode=o,c.lView=s,!0}function Bu(s){const o=eg(),u=s[1];it.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function eg(){const s=it.lFrame,o=null===s?null:s.child;return null===o?tg(s):o}function tg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ng(){const s=it.lFrame;return it.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Fw=ng;function rg(){const s=ng();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tr(){return it.lFrame.selectedIndex}function xo(s){it.lFrame.selectedIndex=s}function Xt(){const s=it.lFrame;return Ms(s.tView,s.selectedIndex)}function Ca(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:A}=f;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function Ia(s,o,u){jh(s,o,3,u)}function Bh(s,o,u,c){(3&s[2])===u&&jh(s,o,u,c)}function ju(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function jh(s,o,u,c){const f=null!=c?c:-1,v=o.length-1;let E=0;for(let b=void 0!==c?65535&s[18]:0;b<v;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=c&&E>=c)break}else o[b]<0&&(s[18]+=65536),(E<f||-1==f)&&(t_(s,u,o,b),s[18]=(4294901760&s[18])+b+2),b++}function t_(s,o,u,c){const d=u[c]<0,f=u[c+1],E=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class Hu{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function en(s,o,u){const c=Qt(s);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const v=u[d++],E=u[d++],b=u[d++];c?s.setAttribute(o,E,b,v):o.setAttributeNS(v,E,b)}else{const v=f,E=u[++d];Lc(v)?c&&s.setProperty(o,v,E):c?s.setAttribute(o,v,E):o.setAttribute(v,E),d++}}return d}function $h(s){return 3===s||4===s||6===s}function Lc(s){return 64===s.charCodeAt(0)}function Gh(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||qh(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function qh(s,o,u,c,d){let f=0,v=s.length;if(-1===o)v=-1;else for(;f<s.length;){const E=s[f++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=f-1;break}}}for(;f<s.length;){const E=s[f];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==v&&(s.splice(v,0,o),f=v+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function ig(s){return-1!==s}function $u(s){return 32767&s}function Gu(s,o){let u=function(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let qu=!0;function Vc(s){const o=qu;return qu=s,o}let tn=0;function Ar(s,o){const u=cr(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,jc(c.data,s),jc(o,null),jc(c.blueprint,null));const d=ba(s,o),f=s.injectorIndex;if(ig(d)){const v=$u(d),E=Gu(d,o),b=E[1].data;for(let T=0;T<8;T++)o[f+T]=E[v+T]|b[v+T]}return o[f+8]=d,f}function jc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function cr(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ba(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){const f=d[1],v=f.type;if(c=2===v?f.declTNode:1===v?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Da(s,o,u){!function(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(yn)&&(c=u[yn]),null==c&&(c=u[yn]=tn++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function r_(s,o,u){if(u&De.Optional)return s;se(o,"NodeInjector")}function Ta(s,o,u,c){if(u&De.Optional&&void 0===c&&(c=null),0==(u&(De.Self|De.Host))){const d=s[9],f=an(void 0);try{return d?d.get(o,c,u&De.Optional):Pt(o,c,u&De.Optional)}finally{an(f)}}return r_(c,o,u)}function og(s,o,u,c=De.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yn)?s[yn]:void 0;return"number"==typeof o?o>=0?255&o:i_:o}(u);if("function"==typeof f){if(!Qy(o,s,c))return c&De.Host?r_(d,u,c):Ta(o,u,c,d);try{const v=f(c);if(null!=v||c&De.Optional)return v;se(u)}finally{Fw()}}else if("number"==typeof f){let v=null,E=cr(s,o),b=-1,T=c&De.Host?o[16][6]:null;for((-1===E||c&De.SkipSelf)&&(b=-1===E?ba(s,o):o[E+8],-1!==b&&s_(c,!1)?(v=o[1],E=$u(b),o=Gu(b,o)):E=-1);-1!==E;){const A=o[1];if(ug(f,E,A.data)){const N=zh(E,o,u,v,c,T);if(N!==Jr)return N}b=o[E+8],-1!==b&&s_(c,o[1].data[E+8]===T)&&ug(f,E,o)?(v=A,E=$u(b),o=Gu(b,o)):E=-1}}}return Ta(o,u,c,d)}const Jr={};function i_(){return new Xr(_n(),Ie())}function zh(s,o,u,c,d,f){const v=o[1],E=v.data[s+8],A=Wu(E,v,u,null==c?Tc(E)&&qu:c!=v&&0!=(3&E.type),d&De.Host&&f===E);return null!==A?Aa(o,v,A,E):Jr}function Wu(s,o,u,c,d){const f=s.providerIndexes,v=o.data,E=1048575&f,b=s.directiveStart,A=f>>20,O=d?E+A:s.directiveEnd;for(let V=c?E:E+A;V<O;V++){const G=v[V];if(V<b&&u===G||V>=b&&G.type===u)return V}if(d){const V=v[b];if(V&&_i(V)&&V.type===u)return b}return null}function Aa(s,o,u,c){let d=s[u];const f=o.data;if(function(s){return s instanceof Hu}(d)){const v=d;v.resolving&&function(s,o){throw new xe("200",`Circular dependency in DI detected for ${s}`)}(at(f[u]));const E=Vc(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?an(v.injectImpl):null;Qy(s,c,De.Default);try{d=s[u]=v.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const v=Au(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==b&&an(b),Vc(E),v.resolving=!1,Fw()}}return d}function ug(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function s_(s,o){return!(s&De.Self||s&De.Host&&o)}class Xr{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return og(this._tNode,this._lView,o,void 0,u)}}function zu(s){return Ke(()=>{const o=s.prototype.constructor,u=o[$t]||Zh(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[$t]||Zh(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Zh(s){return Me(s)?()=>{const o=Zh(ee(s));return o&&o()}:ts(s)}function Zu(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if($h(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(_n(),s)}const No="__parameters__";function vn(s,o,u){return Ke(()=>{const c=function(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const v=new d(...f);return E.annotation=v,E;function E(b,T,A){const N=b.hasOwnProperty(No)?b[No]:Object.defineProperty(b,No,{value:[]})[No];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(v),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class En{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kh=new En("AnalyzeForEntryComponents"),Gc=Function;function ei(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),ei(c,o)):o!==s&&o.push(c)}return o}function ti(s,o){s.forEach(u=>Array.isArray(u)?ti(u,o):o(u))}function Qu(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ss(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function hr(s,o,u){let c=Hs(s,o);return c>=0?s[1|c]=u:(c=~c,function(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function Xu(s,o){const u=Hs(s,o);if(u>=0)return s[1|u]}function Hs(s,o){return function(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),v=s[f<<u];if(o===v)return f<<u;v>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const Gs={},Xh="__NG_DI_FLAG__",qs="ngTempTokenPath",ef=/\n/gm,pt="__source",os=B({provide:String,useValue:B});let Mo;function as(s){const o=Mo;return Mo=s,o}function h_(s,o=De.Default){if(void 0===Mo)throw new Error("inject() must be called from an injection context");return null===Mo?Pt(s,void 0,o):Mo.get(s,o&De.Optional?null:void 0,o)}function Dn(s,o=De.Default){return(Ht||h_)(ee(s),o)}function Ws(s){const o=[];for(let u=0;u<s.length;u++){const c=ee(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=De.Default;for(let v=0;v<c.length;v++){const E=c[v],b=Zc(E);"number"==typeof b?-1===b?d=E.token:f|=b:d=E}o.push(Dn(d,f))}else o.push(Dn(c))}return o}function Pa(s,o){return s[Xh]=o,s.prototype[Xh]=o,s}function Zc(s){return s[Xh]}function f_(s,o,u,c){const d=s[qs];throw o[pt]&&d.unshift(o[pt]),s.message=function(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=U(o);if(Array.isArray(o))d=o.map(U).join(" -> ");else if("object"==typeof o){let f=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];f.push(v+":"+("string"==typeof E?JSON.stringify(E):U(E)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(ef,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[qs]=null,s}const ka=Pa(vn("Inject",s=>({token:s})),-1),ni=Pa(vn("Optional"),8),ls=Pa(vn("SkipSelf"),4);let Oo;function zs(s){var o;return(null===(o=function(){if(void 0===Oo&&(Oo=null,L.trustedTypes))try{Oo=L.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Oo}())||void 0===o?void 0:o.createHTML(s))||s}class ko{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class v_ extends ko{getTypeName(){return"HTML"}}class Gw extends ko{getTypeName(){return"Style"}}class Fo extends ko{getTypeName(){return"Script"}}class E_ extends ko{getTypeName(){return"URL"}}class mg extends ko{getTypeName(){return"ResourceURL"}}function jr(s){return s instanceof ko?s.changingThisBreaksApplicationSecurity:s}function Zs(s,o){const u=ri(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function ri(s){return s instanceof ko&&s.getTypeName()||null}function al(s){return new v_(s)}function yg(s){return new Gw(s)}function Jc(s){return new Fo(s)}function w_(s){return new E_(s)}function Va(s){return new mg(s)}class C_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(zs(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Xc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=zs(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=zs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const v=u.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const uf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ed=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hs(s){return(s=String(s)).match(uf)||s.match(ed)?s:"unsafe:"+s}function Hr(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Ks(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const td=Hr("area,br,col,hr,img,wbr"),Eg=Hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wg=Hr("rp,rt"),rd=Ks(td,Ks(Eg,Hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ks(wg,Hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ks(wg,Eg)),ll=Hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lf=Hr("srcset"),bg=Ks(ll,lf,Hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),id=Hr("script,style,template");class Dg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!rd.hasOwnProperty(u))return this.sanitizedSomething=!0,!id.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),v=f.name,E=v.toLowerCase();if(!bg.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=f.value;ll[E]&&(b=hs(b)),lf[E]&&(s=b,b=(s=String(s)).split(",").map(o=>hs(o.trim())).join(", ")),this.buf.push(" ",v,'="',sd(b),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();rd.hasOwnProperty(u)&&!td.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(sd(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const cl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b_=/([^\#-~ |!])/g;function sd(s){return s.replace(/&/g,"&amp;").replace(cl,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(b_,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let od;function cf(s,o){let u=null;try{od=od||function(s){const o=new Xc(s);return function(){try{return!!(new window.DOMParser).parseFromString(zs(""),"text/html")}catch(s){return!1}}()?new C_(o):o}(s);let c=o?String(o):"";u=od.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=od.getInertBodyElement(c)}while(c!==f);return zs((new Dg).sanitizeChildren(dl(u)||u))}finally{if(u){const c=dl(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function dl(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var nn=(()=>((nn=nn||{})[nn.NONE=0]="NONE",nn[nn.HTML=1]="HTML",nn[nn.STYLE=2]="STYLE",nn[nn.SCRIPT=3]="SCRIPT",nn[nn.URL=4]="URL",nn[nn.RESOURCE_URL=5]="RESOURCE_URL",nn))();function Lo(s){const o=function(){const s=Ie();return s&&s[12]}();return o?o.sanitize(nn.URL,s)||"":Zs(s,"URL")?jr(s):hs(ke(s))}const Ag="__ngContext__";function Un(s,o){s[Ag]=o}function Wn(s){const o=function(s){return s[Ag]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function I(s){return s.ngOriginalError}function M(s,...o){s.error(...o)}class W{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=this._findContext(o),d=(s=o)&&s.ngErrorLogger||M;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(I(o)):null}_findOriginalError(o){let u=o&&I(o);for(;u&&I(u);)u=I(u);return u||null}}const cd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Li(s){return s instanceof Function?s():s}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function R_(s,o){return undefined(s,o)}function Og(s){const o=s[3];return Lt(o)?o[3]:o}function Pg(s){return Zw(s[13])}function kg(s){return Zw(s[4])}function Zw(s){for(;null!==s&&!Lt(s);)s=s[4];return s}function dd(s,o,u,c,d){if(null!=c){let f,v=!1;Lt(c)?f=c:Vr(c)&&(v=!0,c=c[0]);const E=Jt(c);0===s&&null!==u?null==d?_f(o,u,E):_l(o,u,E,d||null,!0):1===s&&null!==u?_l(o,u,E,d||null,!0):2===s?function(s,o,u){const c=jo(s,o);c&&function(s,o,u,c){Qt(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}(o,E,v):3===s&&o.destroyNode(E),null!=f&&function(s,o,u,c,d){const f=u[7];f!==Jt(u)&&dd(o,s,c,f,d);for(let E=10;E<u.length;E++){const b=u[E];wf(b[1],b,s,o,c,f)}}(o,s,f,u,d)}}function L_(s,o,u){return Qt(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function Qw(s,o){const u=s[9],c=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Sh(d,-1)),u.splice(c,1)}function U_(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&Qw(d,c),o>0&&(s[u-1][4]=c[4]);const f=ss(s,10+o);!function(s,o){wf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=f[19];null!==v&&v.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Jw(s,o){if(!(256&o[2])){const u=o[11];Qt(u)&&u.destroyNode&&wf(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return B_(s[1],s);for(;o;){let u=null;if(Vr(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Vr(o)&&B_(o[1],o),o=o[3];null===o&&(o=s),Vr(o)&&B_(o[1],o),u=o&&o[4]}o=u}}(o)}}function B_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof Hu)){const f=u[c+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const E=d[f[v]],b=f[v+1];try{b.call(E)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const v=u[f+1],E="function"==typeof v?v(o):Jt(o[v]),b=c[d=u[f+2]],T=u[f+3];"boolean"==typeof T?E.removeEventListener(u[f],b,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),f+=2}else{const v=c[d=u[f+1]];u[f].call(v)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();o[7]=null}}(s,o),1===o[1].type&&Qt(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Lt(o[3])){u!==o[3]&&Qw(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function eC(s,o,u){return function(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===mn.None||d===mn.Emulated)return null}return Br(c,u)}(s,o.parent,u)}function _l(s,o,u,c,d){Qt(s)?s.insertBefore(o,u,c,d):o.insertBefore(u,c,d)}function _f(s,o,u){Qt(s)?s.appendChild(o,u):o.appendChild(u)}function Fg(s,o,u,c,d){null!==c?_l(s,o,u,c,d):_f(s,o,u)}function jo(s,o){return Qt(s)?s.parentNode(o):o.parentNode}let nC=function(s,o,u){return 40&s.type?Br(s,u):null};function vf(s,o,u,c){const d=eC(s,c,o),f=o[11],E=function(s,o,u){return nC(s,o,u)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)Fg(f,d,u[b],E,!1);else Fg(f,d,u,E,!1)}function Ef(s,o){if(null!==o){const u=o.type;if(3&u)return Br(o,s);if(4&u)return iC(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Ef(s,c);{const d=s[o.index];return Lt(d)?iC(-1,d):Jt(d)}}if(32&u)return R_(o,s)()||Jt(s[o.index]);{const c=Bg(s,o);return null!==c?Array.isArray(c)?c[0]:Ef(Og(s[16]),c):Ef(s,o.next)}}return null}function Bg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function iC(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return Ef(c,d)}return o[7]}function jg(s,o,u,c,d,f,v){for(;null!=u;){const E=c[u.index],b=u.type;if(v&&0===o&&(E&&Un(Jt(E),c),u.flags|=4),64!=(64&u.flags))if(8&b)jg(s,o,u.child,c,d,f,!1),dd(o,s,d,E,f);else if(32&b){const T=R_(u,c);let A;for(;A=T();)dd(o,s,d,A,f);dd(o,s,d,E,f)}else 16&b?sC(s,o,c,u,d,f):dd(o,s,d,E,f);u=v?u.projectionNext:u.next}}function wf(s,o,u,c,d,f){jg(u,c,s.firstChild,o,d,f,!1)}function sC(s,o,u,c,d,f){const v=u[16],b=v[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)dd(o,s,d,b[T],f);else jg(s,o,b,v[3],d,f,!0)}function aC(s,o,u){Qt(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function j_(s,o,u){Qt(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function H_(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const uC="ng-template";function vT(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==H_(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Hg(s){return 4===s.type&&s.value!==uC}function ET(s,o,u){return o===(4!==s.type||u?s.value:uC)}function wT(s,o,u){let c=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if($h(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!v)if(4&c){if(c=2|1&c,""!==b&&!ET(s,b,u)||""===b&&1===o.length){if(Vi(c))return!1;v=!0}}else{const T=8&c?b:o[++E];if(8&c&&null!==s.attrs){if(!vT(s.attrs,T,u)){if(Vi(c))return!1;v=!0}continue}const N=CT(8&c?"class":b,d,Hg(s),u);if(-1===N){if(Vi(c))return!1;v=!0;continue}if(""!==T){let O;O=N>f?"":d[N+1].toLowerCase();const V=8&c?O:null;if(V&&-1!==H_(V,T,0)||2&c&&T!==O){if(Vi(c))return!1;v=!0}}}}else{if(!v&&!Vi(c)&&!Vi(b))return!1;if(v&&Vi(b))continue;v=!1,c=b|1&c}}return Vi(c)||v}function Vi(s){return 0==(1&s)}function CT(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)f=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function IT(s,o,u=!1){for(let c=0;c<o.length;c++)if(wT(s,o[c],u))return!0;return!1}function lC(s,o){return s?":not("+o.trim()+")":o}function TT(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&c){const E=s[++u];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!Vi(v)&&(o+=lC(f,d),d=""),c=v,f=f||!Vi(c);u++}return""!==d&&(o+=lC(f,d)),o}const tt={};function xT(s){cC(It(),Ie(),Tr()+s,wa())}function cC(s,o,u,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&Ia(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Bh(o,f,0,u)}xo(u)}function ve(s,o){return s<<17|o<<2}function Ii(s){return s>>17&32767}function Mt(s){return 2|s}function gs(s){return(131068&s)>>2}function q_(s,o){return-131069&s|o<<2}function z_(s){return 1|s}function If(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const v=s.data[f];Lh(d),v.contentQueries(2,o[f],f)}}}function El(s,o,u,c,d,f,v,E,b,T){const A=o.blueprint.slice();return A[0]=d,A[2]=140|c,Pc(A),A[3]=A[15]=s,A[8]=u,A[10]=v||s&&s[10],A[11]=E||s&&s[11],A[12]=b||s&&s[12]||null,A[9]=T||s&&s[9]||null,A[6]=f,A[16]=2==o.type?s[16]:A,A}function pd(s,o,u,c,d){let f=s.data[o];if(null===f)f=function(s,o,u,c,d){const f=Qp(),v=Rh(),b=s.data[o]=function(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=b),null!==f&&(v?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(s,o,u,c,d),it.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const v=function(){const s=it.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return Yr(f,!0),f}function Ga(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function gd(s,o,u){Bu(o);try{const c=s.viewQuery;null!==c&&im(1,c,u);const d=s.template;null!==d&&gr(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&If(s,o),s.staticViewQueries&&im(2,s.viewQuery,u);const f=s.components;null!==f&&function(s,o){for(let u=0;u<o.length;u++)SC(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,rg()}}function md(s,o,u,c){const d=o[2];if(256==(256&d))return;Bu(o);const f=wa();try{Pc(o),function(s){it.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&gr(s,o,u,2,c);const v=3==(3&d);if(!f)if(v){const T=s.preOrderCheckHooks;null!==T&&Ia(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Bh(o,T,0,null),ju(o,0)}if(function(s){for(let o=Pg(s);null!==o;o=kg(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(1024&d[2])&&Sh(f,1),d[2]|=1024}}}(o),function(s){for(let o=Pg(s);null!==o;o=kg(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];Pu(c)&&md(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&If(s,o),!f)if(v){const T=s.contentCheckHooks;null!==T&&Ia(o,T)}else{const T=s.contentHooks;null!==T&&Bh(o,T,1),ju(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)xo(~d);else{const f=d,v=u[++c],E=u[++c];Ph(v,f),E(2,o[f])}}}finally{xo(-1)}}(s,o);const E=s.components;null!==E&&function(s,o){for(let u=0;u<o.length;u++)AC(s,o[u])}(o,E);const b=s.viewQuery;if(null!==b&&im(2,b,c),!f)if(v){const T=s.viewCheckHooks;null!==T&&Ia(o,T)}else{const T=s.viewHooks;null!==T&&Bh(o,T,2),ju(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Sh(o[3],-1))}finally{rg()}}function UT(s,o,u,c){const d=o[10],f=!wa(),v=Ou(o);try{f&&!v&&d.begin&&d.begin(),v&&gd(s,o,c),md(s,o,u,c)}finally{f&&!v&&d.end&&d.end()}}function gr(s,o,u,c,d){const f=Tr(),v=2&c;try{xo(-1),v&&o.length>20&&cC(s,o,20,wa()),u(c,d)}finally{xo(f)}}function ov(s,o,u){!xh()||(function(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||Ar(u,o),Un(c,o);const v=u.initialInputs;for(let E=d;E<f;E++){const b=s.data[E],T=_i(b);T&&fv(o,u,b);const A=Aa(o,s,E,u);Un(A,o),null!==v&&Xg(0,E-d,A,b,0,v),T&&(lr(u.index,o)[8]=A)}}(s,o,u,Br(u,o)),128==(128&u.flags)&&function(s,o,u){const c=u.directiveStart,d=u.directiveEnd,v=u.index,E=it.lFrame.currentDirectiveIndex;try{xo(v);for(let b=c;b<d;b++){const T=s.data[b],A=o[b];Uu(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&CC(T,A)}}finally{xo(-1),Uu(E)}}(s,o,u))}function wl(s,o,u=Br){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const v=c[f+1],E=-1===v?u(o,s):s[v];s[d++]=E}}}function yC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Wg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Wg(s,o,u,c,d,f,v,E,b,T){const A=20+c,N=A+d,O=function(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:tt);return u}(A,N),V="function"==typeof T?T():T;return O[1]={type:s,blueprint:O,template:u,queries:null,viewQuery:E,declTNode:o,data:O.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:V,incompleteFirstPass:!1}}function Kg(s,o,u,c){const d=Nr(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&Ev(s).push(c,d.length-1))}function uv(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function oi(s,o,u,c,d,f,v,E){const b=Br(o,u);let A,T=o.inputs;!E&&null!=T&&(A=T[c])?(wv(s,u,A,c,d),Tc(o)&&function(s,o){const u=lr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=v?v(d,o.value||"",c):d,Qt(f)?f.setProperty(b,c,d):Lc(c)||(b.setProperty?b.setProperty(c,d):b[c]=d))}function Bn(s,o,u,c){let d=!1;if(xh()){const f=function(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const v=c[f];IT(u,v.selectors,!1)&&(d||(d=[]),Da(Ar(u,o),s,v.type),_i(v)?(bC(s,u),d.unshift(v)):d.push(v))}return d}(s,o,u),v=null===c?null:{"":-1};if(null!==f){d=!0,Jg(u,s.data.length,f.length);for(let A=0;A<f.length;A++){const N=f[A];N.providersResolver&&N.providersResolver(N)}let E=!1,b=!1,T=Ga(s,o,f.length,null);for(let A=0;A<f.length;A++){const N=f[A];u.mergedAttrs=Gh(u.mergedAttrs,N.hostAttrs),DC(s,u,o,T,N),hv(T,N,v),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const O=N.type.prototype;!E&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!b&&(O.ngOnChanges||O.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),T++}!function(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,v=[];let E=null,b=null;for(let T=o.directiveStart;T<c;T++){const A=d[T],N=A.inputs,O=null===f||Hg(o)?null:gv(N,f);v.push(O),E=uv(N,T,E),b=uv(A.outputs,T,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=b}(s,u)}v&&function(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new xe("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],f)}}}(u,c,v)}return u.mergedAttrs=Gh(u.mergedAttrs,u.attrs),d}function er(s,o,u,c,d,f){const v=f.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const b=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=b&&E.push(b),E.push(c,d,v)}}function CC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function bC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function hv(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;_i(o)&&(u[""]=s)}}function Jg(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function DC(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=ts(d.type)),v=new Hu(f,_i(d),null);s.blueprint[c]=v,u[c]=v,er(s,o,0,c,Ga(s,u,d.hostVars,tt),d)}function fv(s,o,u){const c=Br(o,s),d=yC(u),f=s[10],v=nm(s,El(s,d,null,u.onPush?64:16,c,o,f,f.createRenderer(c,u),null,null));s[o.index]=v}function ms(s,o,u,c,d,f){const v=Br(s,o);!function(s,o,u,c,d,f,v){if(null==f)Qt(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const E=null==v?ke(f):v(f,c||"",d);Qt(s)?s.setAttribute(o,d,E,u):u?o.setAttributeNS(u,d,E):o.setAttribute(d,E)}}(o[11],v,f,s.value,u,c,d)}function Xg(s,o,u,c,d,f){const v=f[o];if(null!==v){const E=c.setInput;for(let b=0;b<v.length;){const T=v[b++],A=v[b++],N=v[b++];null!==E?c.setInput(u,N,T,A):u[A]=N}}}function gv(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function mv(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function AC(s,o){const u=lr(o,s);if(Pu(u)){const c=u[1];80&u[2]?md(c,u,c.template,u[8]):u[5]>0&&em(u)}}function em(s){for(let c=Pg(s);null!==c;c=kg(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const v=f[1];md(v,f,v.template,f[8])}else f[5]>0&&em(f)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=lr(u[c],s);Pu(d)&&d[5]>0&&em(d)}}function SC(s,o){const u=lr(o,s),c=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),gd(c,u,u[8])}function nm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function yv(s){for(;s;){s[2]|=64;const o=Og(s);if(wh(s)&&!o)return s;s=o}return null}function vv(s,o,u){const c=o[10];c.begin&&c.begin();try{md(s,o,s.template,u)}catch(d){throw Tf(o,d),d}finally{c.end&&c.end()}}function qa(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=Wn(u),d=c[1];UT(d,c,d.template,u)}}(s[8])}function im(s,o,u){Lh(0),o(s,u)}const NC=(()=>Promise.resolve(null))();function Nr(s){return s[7]||(s[7]=[])}function Ev(s){return s.cleanup||(s.cleanup=[])}function Tf(s,o){const u=s[9],c=u?u.get(W,null):null;c&&c.handleError(o)}function wv(s,o,u,c,d){for(let f=0;f<u.length;){const v=u[f++],E=u[f++],b=o[v],T=s.data[v];null!==T.setInput?T.setInput(b,d,c,E):b[E]=d}}function ys(s,o,u){const c=Ru(o,s);!function(s,o,u){Qt(s)?s.setValue(o,u):o.textContent=u}(s[11],c,u)}function Af(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?f=E:1==f?d=q(d,E):2==f&&(c=q(c,E+": "+o[++v]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}const Wa=new En("INJECTOR",-1);class om{get(o,u=Gs){if(u===Gs){const c=new Error(`NullInjectorError: No provider for ${U(o)}!`);throw c.name="NullInjectorError",c}return u}}const za=new En("Set Injector scope."),Go={},OC={};let Cv;function am(){return void 0===Cv&&(Cv=new om),Cv}function lm(s,o=null,u=null,c){return new PC(s,u,o||am(),c)}class PC{constructor(o,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&ti(u,E=>this.processProvider(E,o,u)),ti([o],E=>this.processInjectorType(E,[],f)),this.records.set(Wa,Cl(void 0,this));const v=this.records.get(za);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:U(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Gs,c=De.Default){this.assertNotDestroyed();const d=as(this),f=an(void 0);try{if(!(c&De.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=("function"==typeof(s=o)||"object"==typeof s&&s instanceof En)&&br(o);E=b&&this.injectableDefInScope(b)?Cl(cm(o),Go):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&De.Self?am():this.parent).get(o,u=c&De.Optional&&u===Gs?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[qs]=v[qs]||[]).unshift(U(o)),d)throw v;return f_(v,o,"R3InjectorError",this.source)}throw v}finally{an(f),as(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(U(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=ee(o)))return!1;let d=Ji(o);const f=null==d&&o.ngModule||void 0,v=void 0===f?o:f,E=-1!==c.indexOf(v);if(void 0!==f&&(d=Ji(f)),null==d)return!1;if(null!=d.imports&&!E){let A;c.push(v);try{ti(d.imports,N=>{this.processInjectorType(N,u,c)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:O,providers:V}=A[N];ti(V,G=>this.processProvider(G,O,V||be))}}this.injectorDefTypes.add(v);const b=ts(v)||(()=>new v);this.records.set(v,Cl(b,Go));const T=d.providers;if(null!=T&&!E){const A=o;ti(T,N=>this.processProvider(N,A,T))}return void 0!==f&&void 0!==o.providers}processProvider(o,u,c){let d=Za(o=ee(o))?o:ee(o&&o.provide);const f=xf(s=o)?Cl(void 0,s.useValue):Cl(Ed(s),Go);var s;if(Za(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Cl(void 0,Go,!0),v.factory=()=>Ws(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,f)}hydrate(o,u){return u.value===Go&&(u.value=OC,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=ee(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function cm(s){const o=br(s),u=null!==o?o.factory:ts(s);if(null!==u)return u;if(s instanceof En)throw new Error(`Token ${U(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=function(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${U(s)}: (${c.join(", ")}).`)}const u=function(s){const o=s&&(s[Fn]||s[Ss]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function Ed(s,o,u){let c;if(Za(s)){const d=ee(s);return ts(d)||cm(d)}if(xf(s))c=()=>ee(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Ws(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>Dn(ee(s.useExisting));else{const d=ee(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return ts(d)||cm(d);c=()=>new d(...Ws(s.deps))}return c}function Cl(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function xf(s){return null!==s&&"object"==typeof s&&os in s}function Za(s){return"function"==typeof s}const LC=function(s,o,u){return function(s,o=null,u=null,c){const d=lm(s,o,u,c);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};class At{static create(o,u){return Array.isArray(o)?LC(o,u,""):LC(o.providers,o.parent,o.name||"")}}function Mf(s,o){Ca(Wn(s)[1],_n())}function ym(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(_i(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){c.push(d);const v=s;v.inputs=Rv(s.inputs),v.declaredInputs=Rv(s.declaredInputs),v.outputs=Rv(s.outputs);const E=d.hostBindings;E&&JC(s,E);const b=d.viewQuery,T=d.contentQueries;if(b&&JT(s,b),T&&XT(s,T),H(s.inputs,d.inputs),H(s.declaredInputs,d.declaredInputs),H(s.outputs,d.outputs),_i(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let v=0;v<f.length;v++){const E=f[v];E&&E.ngInherit&&E(s),E===ym&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Gh(d.hostAttrs,u=Gh(u,d.hostAttrs))}}(c)}function Rv(s){return s===K?{}:s===be?[]:s}function JT(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function XT(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function JC(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}At.THROW_IF_NOT_FOUND=Gs,At.NULL=new om,At.\u0275prov=sn({token:At,providedIn:"any",factory:()=>Dn(Wa)}),At.__NG_ELEMENT_ID__=-1;let Of=null;function ai(){if(!Of){const s=L.Symbol;if(s&&s.iterator)Of=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Of=c)}}}return Of}function bl(s){return!!kf(s)&&(Array.isArray(s)||!(s instanceof Map)&&ai()in s)}function kf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function tr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Dl(s,o,u,c){const d=Ie();return tr(d,Fs(),o)&&(It(),ms(Xt(),d,s,o,u,c)),Dl}function Uv(s,o,u,c,d,f,v,E){const b=Ie(),T=It(),A=s+20,N=T.firstCreatePass?function(s,o,u,c,d,f,v,E,b){const T=o.consts,A=pd(o,s,4,v||null,Os(T,E));Bn(o,u,A,Os(T,b)),Ca(o,A);const N=A.tViews=Wg(2,A,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),N.queries=o.queries.embeddedTView(A)),A}(A,T,b,o,u,c,d,f,v):T.data[A];Yr(N,!1);const O=b[11].createComment("");vf(T,b,O,N),Un(O,b),nm(b,b[A]=mv(O,b,O,N)),Ur(N)&&ov(T,b,N),null!=v&&wl(b,N,E)}function Fl(s,o=De.Default){const u=Ie();return null===u?Dn(s,o):og(_n(),u,ee(s),o)}function Ll(s,o,u){const c=Ie();return tr(c,Fs(),o)&&oi(It(),Xt(),c,s,o,c[11],u,!1),Ll}function zo(s,o,u,c,d){const v=d?"class":"style";wv(s,u,o.inputs[v],v,c)}function Im(s,o,u,c){const d=Ie(),f=It(),v=20+s,E=d[11],b=d[v]=L_(E,o,it.lFrame.currentNamespace),T=f.firstCreatePass?function(s,o,u,c,d,f,v){const E=o.consts,T=pd(o,s,2,d,Os(E,f));return Bn(o,u,T,Os(E,v)),null!==T.attrs&&Af(T,T.attrs,!1),null!==T.mergedAttrs&&Af(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(v,f,d,0,o,u,c):f.data[v];Yr(T,!0);const A=T.mergedAttrs;null!==A&&en(E,b,A);const N=T.classes;null!==N&&j_(E,b,N);const O=T.styles;null!==O&&aC(E,b,O),64!=(64&T.flags)&&vf(f,d,b,T),0===it.lFrame.elementDepthCount&&Un(b,d),it.lFrame.elementDepthCount++,Ur(T)&&(ov(f,d,T),function(s,o,u){if(Du(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const v=s.data[f];v.contentQueries&&v.contentQueries(1,u[f],f)}}}(f,T,d)),null!==c&&wl(d,T)}function qe(){let s=_n();Rh()?it.lFrame.isParent=!1:(s=s.parent,Yr(s,!1));const o=s;it.lFrame.elementDepthCount--;const u=It();u.firstCreatePass&&(Ca(u,s),Du(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&zo(u,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&zo(u,o,Ie(),o.stylesWithoutHost,!1)}function Qa(s,o,u,c){Im(s,o,u,c),qe()}function bm(){return Ie()}function Rd(s){return!!s&&"function"==typeof s.then}function Dm(s){return!!s&&"function"==typeof s.subscribe}const Hf=Dm;function Tm(s,o,u,c){const d=Ie(),f=It(),v=_n();return function(s,o,u,c,d,f,v,E){const b=Ur(c),A=s.firstCreatePass&&Ev(s),N=o[8],O=Nr(o);let V=!0;if(3&c.type||E){const J=Br(c,o),Ne=E?E(J):J,_e=O.length,Ye=E?st=>E(Jt(st[c.index])):c.index;if(Qt(u)){let st=null;if(!E&&b&&(st=function(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const v=d[f];if(v===u&&d[f+1]===c){const E=o[7],b=d[f+2];return E.length>b?E[b]:null}"string"==typeof v&&(f+=2)}return null}(s,o,d,c.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=f,st.__ngLastListenerFn__=f,V=!1;else{f=Sm(c,o,N,f,!1);const Dt=u.listen(Ne,d,f);O.push(f,Dt),A&&A.push(d,Ye,_e,_e+1)}}else f=Sm(c,o,N,f,!0),Ne.addEventListener(d,f,v),O.push(f),A&&A.push(d,Ye,_e,v)}else f=Sm(c,o,N,f,!1);const G=c.outputs;let ae;if(V&&null!==G&&(ae=G[d])){const J=ae.length;if(J)for(let Ne=0;Ne<J;Ne+=2){const Qn=o[ae[Ne]][ae[Ne+1]].subscribe(f),Qi=O.length;O.push(f,Qn),A&&A.push(d,c.index,Qi,-(Qi+1))}}}(f,d,d[11],v,s,o,!!u,c),Tm}function vr(s,o,u,c){try{return!1!==u(c)}catch(d){return Tf(s,d),!1}}function Sm(s,o,u,c,d){return function f(v){if(v===Function)return c;const E=2&s.flags?lr(s.index,o):o;0==(32&o[2])&&yv(E);let b=vr(o,0,c,v),T=f.__ngNextListenerFn__;for(;T;)b=vr(o,0,T,v)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function cn(s=1){return function(s){return(it.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,it.lFrame.contextLView))[8]}(s)}function Pd(s,o,u,c,d){const f=s[u+1],v=null===o;let E=c?Ii(f):gs(f),b=!1;for(;0!==E&&(!1===b||v);){const A=s[E+1];xm(s[E],o)&&(b=!0,s[E+1]=c?z_(A):Mt(A)),E=c?Ii(A):gs(A)}b&&(s[u+1]=c?Mt(f):z_(f))}function xm(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Hs(s,o)>=0}function Rm(s,o){return function(s,o,u,c){const d=Ie(),f=It(),v=function(s){const o=it.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[Tr()],v=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(f,c)&&null===o&&!v&&(o=!1),o=function(s,o,u,c){const d=function(s){const o=it.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=Vd(u=Yo(null,s,o,u,c),o.attrs,c),f=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(u=Yo(d,s,o,u,c),null===f){let b=function(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==gs(c))return s[Ii(c)]}(s,o,c);void 0!==b&&Array.isArray(b)&&(b=Yo(null,s,o,b[1],c),b=Vd(b,o.attrs,c),function(s,o,u,c){s[Ii(u?o.classBindings:o.styleBindings)]=c}(s,o,c,b))}else f=function(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=Vd(c,s[f].hostAttrs,u);return Vd(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function(s,o,u,c,d,f){let v=f?o.classBindings:o.styleBindings,E=Ii(v),b=gs(v);s[c]=u;let A,T=!1;if(Array.isArray(u)){const N=u;A=N[1],(null===A||Hs(N,A)>0)&&(T=!0)}else A=u;if(d)if(0!==b){const O=Ii(s[E+1]);s[c+1]=ve(O,E),0!==O&&(s[O+1]=q_(s[O+1],c)),s[E+1]=function(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=ve(E,0),0!==E&&(s[E+1]=q_(s[E+1],c)),E=c;else s[c+1]=ve(b,0),0===E?E=c:s[b+1]=q_(s[b+1],c),b=c;T&&(s[c+1]=Mt(s[c+1])),Pd(s,A,c,!0),Pd(s,A,c,!1),function(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Hs(f,o)>=0&&(u[c+1]=z_(u[c+1]))}(o,A,s,c,f),v=ve(E,b),f?o.classBindings=v:o.styleBindings=v}(d,f,o,u,v,c)}}(f,s,v,c),o!==tt&&tr(d,v,o)&&function(s,o,u,c,d,f,v,E){if(!(3&o.type))return;const b=s.data,T=b[E+1];Ja(function(s){return 1==(1&s)}(T)?tE(b,o,u,d,gs(T),v):void 0)||(Ja(f)||function(s){return 2==(2&s)}(T)&&(f=tE(b,null,u,d,E,v)),function(s,o,u,c,d){const f=Qt(s);if(o)d?f?s.addClass(u,c):u.classList.add(c):f?s.removeClass(u,c):u.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:Qs.DashCase;if(null==d)f?s.removeStyle(u,c,v):u.style.removeProperty(c);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),v|=Qs.Important),f?s.setStyle(u,c,d,v):u.style.setProperty(c,d,E?"important":"")}}}(c,v,Ru(Tr(),u),d,f))}(f,f.data[Tr()],d,d[11],s,d[v+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=U(jr(s)))),s}(o,u),c,v)}(s,o,null,!0),Rm}function Yo(s,o,u,c,d){let f=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(f=o[E],c=Vd(c,f.hostAttrs,d),f!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function Vd(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const v=o[f];"number"==typeof v?d=v:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),hr(s,v,!!u||o[++f]))}return void 0===s?null:s}function tE(s,o,u,c,d,f){const v=null===o;let E;for(;d>0;){const b=s[d],T=Array.isArray(b),A=T?b[1]:b,N=null===A;let O=u[d+1];O===tt&&(O=N?be:void 0);let V=N?Xu(O,c):A===c?O:void 0;if(T&&!Ja(V)&&(V=Xu(b,c)),Ja(V)&&(E=V,v))return E;const G=s[d+1];d=v?Ii(G):gs(G)}if(null!==o){let b=f?o.residualClasses:o.residualStyles;null!=b&&(E=Xu(b,c))}return E}function Ja(s){return void 0!==s}function Pn(s,o=""){const u=Ie(),c=It(),d=s+20,f=c.firstCreatePass?pd(c,d,1,o,null):c.data[d],v=u[d]=function(s,o){return Qt(s)?s.createText(o):s.createTextNode(o)}(u[11],o);vf(c,u,v,f),Yr(f,!1)}function Bd(s){return jl("",s,""),Bd}function jl(s,o,u){const c=Ie(),d=function(s,o,u,c){return tr(s,Fs(),u)?o+ke(u)+c:tt}(c,s,o,u);return d!==tt&&ys(c,Tr(),d),jl}function Pm(s,o,u){const c=Ie();return tr(c,Fs(),o)&&oi(It(),Xt(),c,s,o,c[11],u,!0),Pm}const Xa=void 0;var kI=["en",[["a","p"],["AM","PM"],Xa],[["AM","PM"],Xa,Xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xa,"{1} 'at' {0}",Xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Hl={};function lE(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=cE(o);if(u)return u;const c=o.split("-")[0];if(u=cE(c),u)return u;if("en"===c)return kI;throw new Error(`Missing locale data for the locale "${s}".`)}function Gd(s){return lE(s)[je.PluralCase]}function cE(s){return s in Hl||(Hl[s]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[s]),Hl[s]}var je=(()=>((je=je||{})[je.LocaleId=0]="LocaleId",je[je.DayPeriodsFormat=1]="DayPeriodsFormat",je[je.DayPeriodsStandalone=2]="DayPeriodsStandalone",je[je.DaysFormat=3]="DaysFormat",je[je.DaysStandalone=4]="DaysStandalone",je[je.MonthsFormat=5]="MonthsFormat",je[je.MonthsStandalone=6]="MonthsStandalone",je[je.Eras=7]="Eras",je[je.FirstDayOfWeek=8]="FirstDayOfWeek",je[je.WeekendRange=9]="WeekendRange",je[je.DateFormat=10]="DateFormat",je[je.TimeFormat=11]="TimeFormat",je[je.DateTimeFormat=12]="DateTimeFormat",je[je.NumberSymbols=13]="NumberSymbols",je[je.NumberFormats=14]="NumberFormats",je[je.CurrencyCode=15]="CurrencyCode",je[je.CurrencySymbol=16]="CurrencySymbol",je[je.CurrencyName=17]="CurrencyName",je[je.Currencies=18]="Currencies",je[je.Directionality=19]="Directionality",je[je.PluralCase=20]="PluralCase",je[je.ExtraData=21]="ExtraData",je))();const Si="en-US";let fE=Si;function pE(s){pn(s,"Expected localeId to be defined"),"string"==typeof s&&(fE=s.toLowerCase().replace(/_/g,"-"))}function io(s,o,u,c,d){if(s=ee(s),Array.isArray(s))for(let f=0;f<s.length;f++)io(s[f],o,u,c,d);else{const f=It(),v=Ie();let E=Za(s)?s:ee(s.provide),b=Ed(s);const T=_n(),A=1048575&T.providerIndexes,N=T.directiveStart,O=T.providerIndexes>>20;if(Za(s)||!s.multi){const V=new Hu(b,d,Fl),G=ea(E,o,d?A:A+O,N);-1===G?(Da(Ar(T,v),f,E),su(f,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(V),v.push(V)):(u[G]=V,v[G]=V)}else{const V=ea(E,o,A+O,N),G=ea(E,o,A,A+O),ae=V>=0&&u[V],J=G>=0&&u[G];if(d&&!J||!d&&!ae){Da(Ar(T,v),f,E);const Ne=function(s,o,u,c,d){const f=new Hu(s,u,Fl);return f.multi=[],f.index=o,f.componentProviders=0,DE(f,d,c&&!u),f}(d?Zd:NA,u.length,d,c,b);!d&&J&&(u[G].providerFactory=Ne),su(f,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Ne),v.push(Ne)}else su(f,s,V>-1?V:G,DE(u[d?G:V],b,!d&&c));!d&&c&&J&&u[G].componentProviders++}}}function su(s,o,u,c){const d=Za(o);if(d||function(s){return!!s.useClass}(o)){const v=(o.useClass||o).prototype.ngOnDestroy;if(v){const E=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const b=E.indexOf(u);-1===b?E.push(u,[c,v]):E[b+1].push(c,v)}else E.push(u,v)}}}function DE(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function ea(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function NA(s,o,u,c){return Bm(this.multi,[])}function Zd(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Aa(u,u[1],this.providerFactory.index,c);f=E.slice(0,v),Bm(d,f);for(let b=v;b<E.length;b++)f.push(E[b])}else f=[],Bm(d,f);return f}function Bm(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function au(s,o=[]){return u=>{u.providersResolver=(c,d)=>function(s,o,u){const c=It();if(c.firstCreatePass){const d=_i(s);io(u,c.data,c.blueprint,d,!0),io(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class AE{}const ib="ngComponent";class RA{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${U(s)}. Did you add it to @NgModule.entryComponents?`);return o[ib]=s,o}(o)}}class so{}function Hm(...s){}function Zl(s,o){return new Cs(Br(s,o))}so.NULL=new RA;const OA=function(){return Zl(_n(),Ie())};let Cs=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=OA,s})();function $m(s){return s instanceof Cs?s.nativeElement:s}class lu{}let Gm=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>ob(),s})();const ob=function(){const s=Ie(),u=lr(_n().index,s);return function(s){return s[11]}(Vr(u)?u:s)};let RE=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class ME{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const qm=new ME("12.2.5");class Wm{constructor(){}supports(o){return bl(o)}create(o){return new FA(o)}}const PA=(s,o)=>o;class FA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||PA}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const v=!c||u&&u.currentIndex<Yl(c,d,f)?u:c,E=Yl(v,d,f),b=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{f||(f=[]);const T=E-d,A=b-d;if(T!=A){for(let O=0;O<T;O++){const V=O<f.length?f[O]:f[O]=0,G=V+O;A<=G&&G<T&&(f[O]=V+1)}f[v.previousIndex]=A-T}}E!==b&&o(v,E,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!bl(o))throw new Error(`Error trying to diff '${U(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)f=o[E],v=this._trackByFn(E,f),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,f,v,E)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,v,E),c=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ai()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(d,E),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,E,v,d)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new ub(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Kl),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kl),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ub{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Kl{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new LA,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yl(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class zm{constructor(){}supports(o){return o instanceof Map||kf(o)}create(){return new Zm}}class Zm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||kf(o)))throw new Error(`Error trying to diff '${U(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,v=d._next;return f&&(f._next=v),v&&(v._prev=f),d._next=null,d._prev=null,d}const c=new lb(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class lb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OE(){return new Km([new Wm])}let Km=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||OE()),deps:[[s,new ls,new ni]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:OE}),s})();function cb(){return new Kd([new zm])}let Kd=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||cb()),deps:[[s,new ls,new ni]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:cb}),s})();function Ym(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(Jt(f)),Lt(f))for(let E=10;E<f.length;E++){const b=f[E],T=b[1].firstChild;null!==T&&Ym(b[1],b,T,c)}const v=u.type;if(8&v)Ym(s,o,u.child,c);else if(32&v){const E=R_(u,o);let b;for(;b=E();)c.push(b)}else if(16&v){const E=Bg(o,u);if(Array.isArray(E))c.push(...E);else{const b=Og(o[16]);Ym(b[1],b,E,c,!0)}}u=d?u.projectionNext:u.next}return c}class Ql{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Ym(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Lt(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(U_(o,c),ss(u,c))}this._attachedToViewContainer=!1}Jw(this._lView[1],this._lView)}onDestroy(o){Kg(this._lView[1],this._lView,null,o)}markForCheck(){yv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){ks(!0);try{vv(s,o,u)}finally{ks(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,wf(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class VA extends Ql{constructor(o){super(o),this._view=o}detectChanges(){qa(this._view)}checkNoChanges(){!function(s){ks(!0);try{qa(s)}finally{ks(!1)}}(this._view)}get context(){return null}}const UA=function(s){return function(s,o,u){if(Tc(s)&&!u){const c=lr(s.index,o);return new Ql(c,c)}return 47&s.type?new Ql(o[16],o):null}(_n(),Ie(),16==(16&s))};let BA=(()=>{class s{}return s.__NG_ELEMENT_ID__=UA,s})();const $A=[new zm],FE=new Km([new Wm]),db=new Kd($A),Qm=function(){return Yd(_n(),Ie())};let ta=(()=>{class s{}return s.__NG_ELEMENT_ID__=Qm,s})();const Jm=ta,LE=class extends Jm{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=El(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),gd(u,c,o),new Ql(c)}};function Yd(s,o){return 4&s.type?new LE(o,s,Zl(s,o)):null}class cu{}class pb{}const qA=function(){return yb(_n(),Ie())};let Xm=(()=>{class s{}return s.__NG_ELEMENT_ID__=qA,s})();const ey=Xm,Qd=class extends ey{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ba(this._hostTNode,this._hostLView);if(ig(o)){const u=Gu(o,this._hostLView),c=$u(o);return new Xr(u[1].data[c+8],u)}return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=ty(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const d=o.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(o,u,c,d,f){const v=c||this.parentInjector;if(!f&&null==o.ngModule&&v){const b=v.get(cu,null);b&&(f=b)}const E=o.create(v,d,void 0,f);return this.insert(E.hostView,u),E}insert(o,u){const c=o._lView,d=c[1];if(Lt(c[3])){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const N=c[3],O=new Qd(N,N[6],N[3]);O.detach(O.indexOf(o))}}const f=this._adjustIndex(u),v=this._lContainer;!function(s,o,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=o),c<f-10?(o[4]=u[d],Qu(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,c,v,f);const E=iC(f,v),b=c[11],T=jo(b,v[7]);return null!==T&&function(s,o,u,c,d,f){c[0]=d,c[6]=o,wf(s,c,u,1,d,f)}(d,v[6],b,c,T,E),o.attachToViewContainerRef(),Qu(ny(v),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=ty(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=U_(this._lContainer,u);c&&(ss(ny(this._lContainer),u),Jw(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=U_(this._lContainer,u);return c&&null!=ss(ny(this._lContainer),u)?new Ql(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function ty(s){return s[8]}function ny(s){return s[8]||(s[8]=[])}function yb(s,o){let u;const c=o[s.index];if(Lt(c))u=c;else{let d;if(8&s.type)d=Jt(c);else{const f=o[11];d=f.createComment("");const v=Br(s,o);_l(f,jo(f,v),d,function(s,o){return Qt(s)?s.nextSibling(o):o.nextSibling}(f,v),!1)}o[s.index]=u=mv(c,o,d,s),nm(o,u)}return new Qd(u,s,o)}const fu={};class uy extends so{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Gn(o);return new jb(u,this.ngModule)}}function f0(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const cS=new En("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>cd});class jb extends AE{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(TT).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return f0(this.componentDef.inputs)}get outputs(){return f0(this.componentDef.outputs)}create(o,u,c,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(u,c,d)=>{const f=s.get(u,fu,d);return f!==fu||c===fu?f:o.get(u,c,d)}}}(o,d.injector):o,v=f.get(lu,Mc),E=f.get(RE,null),b=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=c?function(s,o,u){if(Qt(s))return s.selectRootElement(o,u===mn.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(b,c,this.componentDef.encapsulation):L_(v.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,O=function(s,o){return{components:[],scheduler:s||cd,clean:NC,playerHandler:o||null,flags:0}}(),V=Wg(0,null,null,1,0,null,null,null,null,null),G=El(null,V,O,N,null,null,v,b,E,f);let ae,J;Bu(G);try{const Ne=function(s,o,u,c,d,f){const v=u[1];u[20]=s;const b=pd(v,20,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(Af(b,T,!0),null!==s&&(en(d,s,T),null!==b.classes&&j_(d,s,b.classes),null!==b.styles&&aC(d,s,b.styles)));const A=c.createRenderer(s,o),N=El(u,yC(o),null,o.onPush?64:16,u[20],b,c,A,f||null,null);return v.firstCreatePass&&(Da(Ar(b,u),v,o.type),bC(v,b),Jg(b,u.length,1)),nm(u,N),u[20]=N}(A,this.componentDef,G,v,b);if(A)if(c)en(b,A,["ng-version",qm.full]);else{const{attrs:_e,classes:Ye}=function(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!Vi(d))break;d=f}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);_e&&en(b,A,_e),Ye&&Ye.length>0&&j_(b,A,Ye.join(" "))}if(J=Ms(V,20),void 0!==u){const _e=J.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const st=u[Ye];_e.push(null!=st?Array.from(st):null)}}ae=function(s,o,u,c,d){const f=u[1],v=function(s,o,u){const c=_n();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),DC(s,c,o,Ga(s,o,1,null),u));const d=Aa(o,s,c.directiveStart,c);Un(d,o);const f=Br(c,o);return f&&Un(f,o),d}(f,u,o);if(c.components.push(v),s[8]=v,d&&d.forEach(b=>b(v,o)),o.contentQueries){const b=_n();o.contentQueries(1,v,b.directiveStart)}const E=_n();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(xo(E.index),er(u[1],E,0,E.directiveStart,E.directiveEnd,o),CC(o,v)),v}(Ne,this.componentDef,G,O,[Mf]),gd(V,G,null)}finally{rg()}return new p0(this.componentType,ae,Zl(J,G),G,J)}}class p0 extends class{}{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new VA(d),this.componentType=o}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const pu=new Map;class m0 extends cu{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uy(this);const c=ar(o),d=o[xn]||null;d&&pE(d),this._bootstrapComponents=Li(c.bootstrap),this._r3Injector=lm(o,u,[{provide:cu,useValue:this},{provide:so,useValue:this.componentFactoryResolver}],U(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=At.THROW_IF_NOT_FOUND,c=De.Default){return o===At||o===cu||o===Wa?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class hy extends pb{constructor(o){super(),this.moduleType=o,null!==ar(o)&&function(s){const o=new Set;!function u(c){const d=ar(c,!0),f=d.id;null!==f&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${U(o)} vs ${U(o.name)}`)}(f,pu.get(f),c),pu.set(f,c));const v=Li(d.imports);for(const E of v)o.has(E)||(o.add(E),u(E))}(s)}(o)}create(o){return new m0(this.moduleType,o)}}function Zt(s){return o=>{setTimeout(s,void 0,o)}}const hn=class extends m.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var d,f,v;let E=o,b=u||(()=>null),T=c;if(o&&"object"==typeof o){const N=o;E=null===(d=N.next)||void 0===d?void 0:d.bind(N),b=null===(f=N.error)||void 0===f?void 0:f.bind(N),T=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(b=Zt(b),E&&(E=Zt(E)),T&&(T=Zt(T)));const A=super.subscribe({next:E,error:b,complete:T});return o instanceof oe.w&&o.add(A),A}};function oo(){return this._results[ai()]()}class yp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ai(),c=yp.prototype;c[u]||(c[u]=oo)}get changes(){return this._changes||(this._changes=new hn)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=ei(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class gy{constructor(o){this.queryList=o,this.matches=null}clone(){return new gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class w0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const v=u.getByIndex(f);d.push(this.queries[v.indexInDeclarationView].clone())}return new w0(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==sD(o,u).matches&&this.queries[u].setDirty()}}class my{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class C0{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new C0(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class I0{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new I0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,Mn(u,f)),this.matchTNodeWithReadOption(o,u,Wu(u,o,f,!1,!1))}else c===ta?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Wu(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Cs||d===Xm||d===ta&&4&u.type)this.addMatch(u.index,-2);else{const f=Wu(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Mn(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function lN(s,o,u,c){return-1===u?function(s,o){return 11&s.type?Zl(s,o):4&s.type?Yd(s,o):null}(o,s):-2===u?function(s,o,u){return u===Cs?Zl(o,s):u===ta?Yd(o,s):u===Xm?yb(o,s):void 0}(s,o,c):Aa(s,s[1],u,o)}function b0(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,v=u.matches,E=[];for(let b=0;b<v.length;b+=2){const T=v[b];E.push(T<0?null:lN(o,f[T],v[b+1],u.metadata.read))}d.matches=E}return d.matches}function D0(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const v=b0(s,o,d,u);for(let E=0;E<f.length;E+=2){const b=f[E];if(b>0)c.push(v[E/2]);else{const T=f[E+1],A=o[-b];for(let N=10;N<A.length;N++){const O=A[N];O[17]===O[3]&&D0(O[1],O,T,c)}if(null!==A[9]){const N=A[9];for(let O=0;O<N.length;O++){const V=N[O];D0(V[1],V,T,c)}}}}}return c}function eD(s){const o=Ie(),u=It(),c=So();Lh(c+1);const d=sD(u,c);if(s.dirty&&Ou(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?D0(u,o,c,[]):b0(u,o,d,c);s.reset(f,$m),s.notifyOnChanges()}return!0}return!1}function nD(s,o,u,c){const d=It();if(d.firstCreatePass){const f=_n();(function(s,o,u){null===s.queries&&(s.queries=new C0),s.queries.track(new I0(o,u))})(d,new my(o,u,c),f.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function(s,o,u){const c=new yp(4==(4&u));Kg(s,o,c,c.destroy),null===o[19]&&(o[19]=new w0),o[19].queries.push(new gy(c))}(d,Ie(),u)}function rD(){return s=Ie(),o=So(),s[19].queries[o].queryList;var s,o}function sD(s,o){return s.queries.getByIndex(o)}const L0=new En("Application Initializer");let ih=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Hm,this.reject=Hm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Rd(f))u.push(f);else if(Hf(f)){const v=new Promise((E,b)=>{f.subscribe({complete:E,error:b})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Dn(L0,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const fD=new En("AppId"),WS={provide:fD,useFactory:function(){return`${V0()}${V0()}${V0()}`},deps:[]};function V0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pD=new En("Platform Initializer"),zS=new En("Platform ID"),gD=new En("appBootstrapListener");let mD=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const sh=new En("LocaleId"),U0=new En("DefaultCurrencyCode");class Dy{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const Ty=function(s){return new hy(s)},pc=Ty,_D=function(s){return Promise.resolve(Ty(s))},oh=function(s){const o=Ty(s),c=Li(ar(s).declarations).reduce((d,f)=>{const v=Gn(f);return v&&d.push(new jb(v)),d},[]);return new Dy(o,c)},Tp=oh,B0=function(s){return Promise.resolve(oh(s))};let uo=(()=>{class s{constructor(){this.compileModuleSync=pc,this.compileModuleAsync=_D,this.compileModuleAndAllComponentsSync=Tp,this.compileModuleAndAllComponentsAsync=B0}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const mc=(()=>Promise.resolve(0))();function H0(s){"undefined"==typeof Zone?mc.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ri{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hn(!1),this.onMicrotaskEmpty=new hn(!1),this.onStable=new hn(!1),this.onError=new hn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=L.requestAnimationFrame,o=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(L,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,$0(s),s.isCheckStableRunning=!0,yc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),$0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,v,E)=>{try{return vD(s),u.invokeTask(d,f,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),G0(s)}},onInvoke:(u,c,d,f,v,E,b)=>{try{return vD(s),u.invoke(d,f,v,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),G0(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,$0(s),yc(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ri.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ri.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+d,o,XS,Hm,Hm);try{return f.runTask(v,u,c)}finally{f.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const XS={};function yc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function $0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function vD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function G0(s){s._nesting--,yc(s)}class nx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hn,this.onMicrotaskEmpty=new hn,this.onStable=new hn,this.onError=new hn}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}let q0=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ri.assertNotInAngularZone(),H0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())H0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Dn(Ri))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),Ay=(()=>{class s{constructor(){this._applications=new Map,Sy.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Sy.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();class rx{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function ix(s){Sy=s}let Sy=new rx,W0=!0,z0=!1;function xy(){return z0=!0,W0}function ED(){if(z0)throw new Error("Cannot enable prod mode after platform setup.");W0=!1}let Ki;const DD=new En("AllowMultipleToken");class Y0{constructor(o,u){this.name=o,this.token=u}}function Q0(s,o,u=[]){const c=`Platform: ${o}`,d=new En(c);return(f=[])=>{let v=AD();if(!v||v.injector.get(DD,!1))if(s)s(u.concat(f).concat({provide:d,useValue:!0}));else{const E=u.concat(f).concat({provide:d,useValue:!0},{provide:za,useValue:"platform"});!function(s){if(Ki&&!Ki.destroyed&&!Ki.injector.get(DD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ki=s.get(J0);const o=s.get(pD,null);o&&o.forEach(u=>u())}(At.create({providers:E,name:c}))}return function(s){const o=AD();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function AD(){return Ki&&!Ki.destroyed?Ki:null}let J0=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const E=function(s,o){let u;return u="noop"===s?new nx:("zone.js"===s?void 0:s)||new Ri({enableLongStackTrace:xy(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:Ri,useValue:E}];return E.run(()=>{const T=At.create({providers:b,parent:this.injector,name:u.moduleType.name}),A=u.create(T),N=A.injector.get(W,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const O=E.onError.subscribe({next:V=>{N.handleError(V)}});A.onDestroy(()=>{_c(this._modules,A),O.unsubscribe()})}),function(s,o,u){try{const c=u();return Rd(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(N,E,()=>{const O=A.injector.get(ih);return O.runInitializers(),O.donePromise.then(()=>(pE(A.injector.get(sh,Si)||Si),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const d=xD({},c);return function(s,o,u){const c=new hy(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(ah);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${U(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Dn(At))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function xD(s,o){return Array.isArray(o)?o.reduce(xD,s):Object.assign(Object.assign({},s),o)}let ah=(()=>{class s{constructor(u,c,d,f,v){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new j.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new j.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ri.assertNotInAngularZone(),H0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Ri.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ne.T)(E,b.pipe(s=>(0,pe.x)()(function(s,o){return function(c){let d;d="function"==typeof s?s:function(){return s};const f=Object.create(c,me.N);return f.source=c,f.subjectFactory=d,f}}(z)(s))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof AE?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(cu),E=d.create(At.NULL,[],c||d.selector,f),b=E.location.nativeElement,T=E.injector.get(q0,null),A=T&&E.injector.get(Ay);return T&&A&&A.registerApplication(b,T),E.onDestroy(()=>{this.detachView(E.hostView),_c(this.components,E),A&&A.unregisterApplication(b)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;_c(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(gD,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Dn(Ri),Dn(At),Dn(W),Dn(so),Dn(ih))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function _c(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class Ap{}class lo{}const cx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let RD=(()=>{class s{constructor(u,c){this._compiler=u,this._config=c||cx}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),k(8255)(c).then(f=>f[d]).then(f=>MD(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),k(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(v=>v[d+f]).then(v=>MD(v,c,d))}}return s.\u0275fac=function(u){return new(u||s)(Dn(uo),Dn(lo,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function MD(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const rw=function(s){return null},Oy=Q0(null,"core",[{provide:zS,useValue:"unknown"},{provide:J0,deps:[At]},{provide:Ay,deps:[]},{provide:mD,deps:[]}]),$D=[{provide:ah,useClass:ah,deps:[Ri,At,W,so,ih]},{provide:cS,deps:[Ri],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:ih,useClass:ih,deps:[[new ni,L0]]},{provide:uo,useClass:uo,deps:[]},WS,{provide:Km,useFactory:function(){return FE},deps:[]},{provide:Kd,useFactory:function(){return db},deps:[]},{provide:sh,useFactory:function(s){return pE(s=s||"undefined"!=typeof $localize&&$localize.locale||Si),s},deps:[[new ka(sh),new ni,new ls]]},{provide:U0,useValue:"USD"}];let LN=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Dn(ah))},s.\u0275mod=Cu({type:s}),s.\u0275inj=gi({providers:$D}),s})()},8939:(We,Ce,k)=>{"use strict";k.d(Ce,{hO:()=>U,xv:()=>z,Dh:()=>pe,GT:()=>ie,on:()=>F,pX:()=>me});var m=k(3018),oe=k(7841),j=k(9126);We=k.hmd(We);const ne=["ngOnDestroy"],me=(q,le,te,ee={})=>new Proxy(q,{get:(Me,Ae)=>te.runOutsideAngular(()=>{var xe;if(q[Ae])return(null===(xe=null==ee?void 0:ee.spy)||void 0===xe?void 0:xe.get)&&ee.spy.get(Ae,q[Ae]),q[Ae];if(ne.indexOf(Ae)>-1)return()=>{};const Oe=le.toPromise().then(Le=>{const ke=Le&&Le[Ae];return"function"==typeof ke?ke.bind(Le):ke&&ke.then?ke.then(at=>te.run(()=>at)):te.run(()=>ke)});return new Proxy(()=>{},{get:(Le,ke)=>Oe[ke],apply:(Le,ke,at)=>Oe.then(qt=>{var ye;const re=qt&&qt(...at);return(null===(ye=null==ee?void 0:ee.spy)||void 0===ye?void 0:ye.apply)&&ee.spy.apply(Ae,at,re),re})})})}),ie=(q,le)=>{le.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(ee=>{Object.defineProperty(q.prototype,ee,Object.getOwnPropertyDescriptor(te.prototype||te,ee))})})};class Ee{constructor(le){return le}}const pe=new m.OlP("angularfire2.app.options"),z=new m.OlP("angularfire2.app.name");function F(q,le,te){const Me="object"==typeof te&&te||{};Me.name=Me.name||"string"==typeof te&&te||"[DEFAULT]";const xe=oe.Z.apps.filter(Oe=>Oe&&Oe.name===Me.name)[0]||le.runOutsideAngular(()=>oe.Z.initializeApp(q,Me));try{JSON.stringify(q)!==JSON.stringify(xe.options)&&B("error",`${xe.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Oe){}return new Ee(xe)}const B=(q,...le)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[q](...le)},H={provide:Ee,useFactory:F,deps:[pe,m.R0b,[new m.FiY,z]]};let U=(()=>{class q{constructor(te){oe.Z.registerVersion("angularfire",j.q4.full,"core"),oe.Z.registerVersion("angularfire",j.q4.full,"app-compat"),oe.Z.registerVersion("angular",m.q4F.full,te.toString())}static initializeApp(te,ee){return{ngModule:q,providers:[{provide:pe,useValue:te},{provide:z,useValue:ee}]}}}return q.\u0275fac=function(te){return new(te||q)(m.LFG(m.Lbi))},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({providers:[H]}),q})()},9126:(We,Ce,k)=>{"use strict";k.d(Ce,{q4:()=>F,iC:()=>re,HU:()=>Oe,cc:()=>U});var m=k(3018);(0,k(5452).registerVersion)("firebase","9.0.2","app");var me=k(7771),ie=k(3637),Ee=k(3342),pe=k(3101),z=k(309);We=k.hmd(We);const F=new m.GfV("7.0.4"),B=!!We.hot,H=(fe,...Q)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[fe](...Q)};function U(fe,Q,Re,ze,Et){const[,Xe,wt]=globalThis.\u0275AngularfireInstanceCache.find(Bt=>Bt[0]===fe)||[];if(Xe)return function(fe,Q){try{return fe.toString()===Q.toString()}catch(Re){return fe===Q}}(Et,wt)||(H("error",`${Q} was already initialized on the ${Re} Firebase App with different settings.${B?" You may need to reload as Firebase is not HMR aware.":""}`),H("warn",{is:Et,was:wt})),Xe;{const Bt=ze();return globalThis.\u0275AngularfireInstanceCache.push([fe,Bt,Et]),Bt}}function Me(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ae{constructor(Q,Re=me.N){this.zone=Q,this.delegate=Re}now(){return this.delegate.now()}schedule(Q,Re,ze){const Et=this.zone;return this.delegate.schedule(function(wt){Et.runGuarded(()=>{Q.apply(this,[wt])})},Re,ze)}}class xe{constructor(Q){this.zone=Q,this.task=null}call(Q,Re){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)),Re.pipe((0,Ee.b)({next:ze,complete:ze,error:ze})).subscribe(Q).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oe=(()=>{class fe{constructor(Re){this.ngZone=Re,this.outsideAngular=Re.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=Re.run(()=>new Ae(Zone.current,ie.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return fe.\u0275fac=function(Re){return new(Re||fe)(m.LFG(m.R0b))},fe.\u0275prov=m.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function Le(){const fe=globalThis.\u0275AngularFireScheduler;if(!fe)throw new Error("AngularFireModule has not been provided");return fe}function re(fe){return Le(),function(fe){return function(Re){return(Re=Re.lift(new xe(fe.ngZone))).pipe((0,pe.R)(fe.outsideAngular),(0,z.QV)(fe.insideAngular))}}(Le())(fe)}},4486:(We,Ce,k)=>{"use strict";k.d(Ce,{Z:()=>te});var m=k(4685),oe=k(6034),j=k(5452),ne=k(300);class me{constructor(Me,Ae){this._delegate=Me,this.firebase=Ae,(0,j._addComponent)(Me,new oe.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Me,Ae=j._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(Me);return!Oe.isInitialized()&&"EXPLICIT"===(null===(xe=Oe.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:Ae})}_removeServiceInstance(Me,Ae=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Ae)}_addComponent(Me){(0,j._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,j._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function z(){const ee=function(ee){const Me={},Ae={__esModule:!0,initializeApp:function(ye,re={}){const se=j.initializeApp(ye,re);if((0,m.r3)(Me,se.name))return Me[se.name];const he=new ee(se,Ae);return Me[se.name]=he,he},app:Oe,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function(ye){const re=ye.name,se=re.replace("-compat","");if(j._registerComponent(ye)&&"PUBLIC"===ye.type){const he=(ue=Oe())=>{if("function"!=typeof ue[se])throw Ee.create("invalid-app-argument",{appName:re});return ue[se]()};void 0!==ye.serviceProps&&(0,m.ZB)(he,ye.serviceProps),Ae[se]=he,ee.prototype[se]=function(...ue){return this._getService.bind(this,re).apply(this,ye.multipleInstances?ue:[])}}return"PUBLIC"===ye.type?Ae[se]:null},removeApp:function(ye){delete Me[ye]},useAsService:function(ye,re){return"serverAuth"===re?null:re},modularAPIs:j}};function Oe(ye){if(!(0,m.r3)(Me,ye=ye||j._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:ye});return Me[ye]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function(){return Object.keys(Me).map(ye=>Me[ye])}}),Oe.App=ee,Ae}(me);return ee.INTERNAL=Object.assign(Object.assign({},ee.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(Ae){(0,m.ZB)(ee,Ae)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),ee}(),B=new ne.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ee=self.firebase.SDK_VERSION;ee&&ee.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const le=F;(0,j.registerVersion)("@firebase/app-compat","0.1.1",undefined);const te=le},5452:(We,Ce,k)=>{"use strict";k.r(Ce),k.d(Ce,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Kr,_DEFAULT_ENTRY_NAME:()=>Et,_addComponent:()=>fn,_addOrOverwriteComponent:()=>zr,_apps:()=>wt,_clearComponents:()=>Nt,_components:()=>Bt,_getProvider:()=>pn,_registerComponent:()=>Zr,_removeServiceInstance:()=>ut,deleteApp:()=>go,getApp:()=>br,getApps:()=>po,initializeApp:()=>gi,onLog:()=>Fn,registerVersion:()=>Ji,setLogLevel:()=>mi});var m=k(8239),oe=k(6034),j=k(300),ne=k(4685);class me{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function(dt){const De=dt.getComponent();return"VERSION"===(null==De?void 0:De.type)}(Ht)){const on=Ht.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Ht=>Ht).join(" ")}}const Ee="@firebase/app",z=new j.Yd("@firebase/app"),Et="[DEFAULT]",Xe={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Bt=new Map;function fn(dt,De){try{dt.container.addComponent(De)}catch(Ht){z.debug(`Component ${De.name} failed to register with FirebaseApp ${dt.name}`,Ht)}}function zr(dt,De){dt.container.addOrOverwriteComponent(De)}function Zr(dt){const De=dt.name;if(Bt.has(De))return z.debug(`There were multiple attempts to register component ${De}.`),!1;Bt.set(De,dt);for(const Ht of wt.values())fn(Ht,dt);return!0}function pn(dt,De){return dt.container.getProvider(De)}function ut(dt,De,Ht=Et){pn(dt,De).clearInstance(Ht)}function Nt(){Bt.clear()}const fo=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class sn{constructor(De,Ht,on){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}const Kr="9.0.0";function gi(dt,De={}){"object"!=typeof De&&(De={name:De});const Ht=Object.assign({name:Et,automaticDataCollectionEnabled:!1},De),on=Ht.name;if("string"!=typeof on||!on)throw fo.create("bad-app-name",{appName:String(on)});const an=wt.get(on);if(an){if((0,ne.vZ)(dt,an.options)&&(0,ne.vZ)(Ht,an.config))return an;throw fo.create("duplicate-app",{appName:on})}const Pt=new oe.H0(on);for(const Ke of Bt.values())Pt.addComponent(Ke);const Ze=new sn(dt,Ht,Pt);return wt.set(on,Ze),Ze}function br(dt=Et){const De=wt.get(dt);if(!De)throw fo.create("no-app",{appName:dt});return De}function po(){return Array.from(wt.values())}function go(dt){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(dt){const De=dt.name;wt.has(De)&&(wt.delete(De),yield Promise.all(dt.container.getProviders().map(Ht=>Ht.delete())),dt.isDeleted=!0)})).apply(this,arguments)}function Ji(dt,De,Ht){var on;let an=null!==(on=Xe[dt])&&void 0!==on?on:dt;Ht&&(an+=`-${Ht}`);const Pt=an.match(/\s|\//),Ze=De.match(/\s|\//);if(Pt||Ze){const Ke=[`Unable to register library "${an}" with version "${De}":`];return Pt&&Ke.push(`library name "${an}" contains illegal characters (whitespace or "/")`),Pt&&Ze&&Ke.push("and"),Ze&&Ke.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void z.warn(Ke.join(" "))}Zr(new oe.wA(`${an}-version`,()=>({library:an,version:De}),"VERSION"))}function Fn(dt,De){if(null!==dt&&"function"!=typeof dt)throw fo.create("invalid-log-argument");(0,j.Am)(dt,De)}function mi(dt){(0,j.Ub)(dt)}Zr(new oe.wA("platform-logger",De=>new me(De),"PRIVATE")),Ji(Ee,"0.7.0",undefined),Ji("fire-js","")},6034:(We,Ce,k)=>{"use strict";k.d(Ce,{wA:()=>j,H0:()=>pe});var m=k(4762),oe=k(4685),j=function(){function z(F,B,H){this.name=F,this.instanceFactory=B,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(F){return this.instantiationMode=F,this},z.prototype.setMultipleInstances=function(F){return this.multipleInstances=F,this},z.prototype.setServiceProps=function(F){return this.serviceProps=F,this},z.prototype.setInstanceCreatedCallback=function(F){return this.onInstanceCreated=F,this},z}(),ne="[DEFAULT]",me=function(){function z(F,B){this.name=F,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(F){var B=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(B)){var H=new oe.BH;if(this.instancesDeferred.set(B,H),this.isInitialized(B)||this.shouldAutoInitialize())try{var U=this.getOrInitializeService({instanceIdentifier:B});U&&H.resolve(U)}catch(q){}}return this.instancesDeferred.get(B).promise},z.prototype.getImmediate=function(F){var B,H=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),U=null!==(B=null==F?void 0:F.optional)&&void 0!==B&&B;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(U)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(q){if(U)return null;throw q}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(F){var B,H;if(F.name!==this.name)throw Error("Mismatching Component "+F.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=F,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ne})}catch(xe){}try{for(var U=(0,m.XA)(this.instancesDeferred.entries()),q=U.next();!q.done;q=U.next()){var le=(0,m.CR)(q.value,2),ee=le[1],Me=this.normalizeInstanceIdentifier(le[0]);try{var Ae=this.getOrInitializeService({instanceIdentifier:Me});ee.resolve(Ae)}catch(xe){}}}catch(xe){B={error:xe}}finally{try{q&&!q.done&&(H=U.return)&&H.call(U)}finally{if(B)throw B.error}}}},z.prototype.clearInstance=function(F){void 0===F&&(F=ne),this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)},z.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var F;return(0,m.Jh)(this,function(B){switch(B.label){case 0:return F=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(F.filter(function(H){return"INTERNAL"in H}).map(function(H){return H.INTERNAL.delete()}))),(0,m.CR)(F.filter(function(H){return"_delete"in H}).map(function(H){return H._delete()}))))];case 1:return B.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(F){return void 0===F&&(F=ne),this.instances.has(F)},z.prototype.getOptions=function(F){return void 0===F&&(F=ne),this.instancesOptions.get(F)||{}},z.prototype.initialize=function(F){var B,H;void 0===F&&(F={});var U=F.options,q=void 0===U?{}:U,le=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(le))throw Error(this.name+"("+le+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var te=this.getOrInitializeService({instanceIdentifier:le,options:q});try{for(var ee=(0,m.XA)(this.instancesDeferred.entries()),Me=ee.next();!Me.done;Me=ee.next()){var Ae=(0,m.CR)(Me.value,2),Oe=Ae[1];le===this.normalizeInstanceIdentifier(Ae[0])&&Oe.resolve(te)}}catch(ke){B={error:ke}}finally{try{Me&&!Me.done&&(H=ee.return)&&H.call(ee)}finally{if(B)throw B.error}}return te},z.prototype.onInit=function(F,B){var H,U=this.normalizeInstanceIdentifier(B),q=null!==(H=this.onInitCallbacks.get(U))&&void 0!==H?H:new Set;q.add(F),this.onInitCallbacks.set(U,q);var le=this.instances.get(U);return le&&F(le,U),function(){q.delete(F)}},z.prototype.invokeOnInitCallbacks=function(F,B){var H,U,q=this.onInitCallbacks.get(B);if(q)try{for(var le=(0,m.XA)(q),te=le.next();!te.done;te=le.next()){var ee=te.value;try{ee(F,B)}catch(Me){}}}catch(Me){H={error:Me}}finally{try{te&&!te.done&&(U=le.return)&&U.call(le)}finally{if(H)throw H.error}}},z.prototype.getOrInitializeService=function(F){var B=F.instanceIdentifier,H=F.options,U=void 0===H?{}:H,q=this.instances.get(B);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:ie(B),options:U}),this.instances.set(B,q),this.instancesOptions.set(B,U),this.invokeOnInitCallbacks(q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,q)}catch(le){}return q||null},z.prototype.normalizeInstanceIdentifier=function(F){return void 0===F&&(F=ne),this.component?this.component.multipleInstances?F:ne:F},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function ie(z){return z===ne?void 0:z}var pe=function(){function z(F){this.name=F,this.providers=new Map}return z.prototype.addComponent=function(F){var B=this.getProvider(F.name);if(B.isComponentSet())throw new Error("Component "+F.name+" has already been registered with "+this.name);B.setComponent(F)},z.prototype.addOrOverwriteComponent=function(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)},z.prototype.getProvider=function(F){if(this.providers.has(F))return this.providers.get(F);var B=new me(F,this);return this.providers.set(F,B),B},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(We,Ce,k)=>{"use strict";function m(){for(var H=0,U=0,q=arguments.length;U<q;U++)H+=arguments[U].length;var le=Array(H),te=0;for(U=0;U<q;U++)for(var ee=arguments[U],Me=0,Ae=ee.length;Me<Ae;Me++,te++)le[te]=ee[Me];return le}k.d(Ce,{in:()=>ne,Yd:()=>z,Ub:()=>F,Am:()=>B});var oe,j=[],ne=(()=>{return(H=ne||(ne={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ne;var H})(),me={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ie=ne.INFO,Ee=((oe={})[ne.DEBUG]="log",oe[ne.VERBOSE]="log",oe[ne.INFO]="info",oe[ne.WARN]="warn",oe[ne.ERROR]="error",oe),pe=function(H,U){for(var q=[],le=2;le<arguments.length;le++)q[le-2]=arguments[le];if(!(U<H.logLevel)){var te=(new Date).toISOString(),ee=Ee[U];if(!ee)throw new Error("Attempted to log a message with an invalid logType (value: "+U+")");console[ee].apply(console,m(["["+te+"]  "+H.name+":"],q))}},z=function(){function H(U){this.name=U,this._logLevel=ie,this._logHandler=pe,this._userLogHandler=null,j.push(this)}return Object.defineProperty(H.prototype,"logLevel",{get:function(){return this._logLevel},set:function(U){if(!(U in ne))throw new TypeError('Invalid value "'+U+'" assigned to `logLevel`');this._logLevel=U},enumerable:!1,configurable:!0}),H.prototype.setLogLevel=function(U){this._logLevel="string"==typeof U?me[U]:U},Object.defineProperty(H.prototype,"logHandler",{get:function(){return this._logHandler},set:function(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(U){this._userLogHandler=U},enumerable:!1,configurable:!0}),H.prototype.debug=function(){for(var U=[],q=0;q<arguments.length;q++)U[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,ne.DEBUG],U)),this._logHandler.apply(this,m([this,ne.DEBUG],U))},H.prototype.log=function(){for(var U=[],q=0;q<arguments.length;q++)U[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,ne.VERBOSE],U)),this._logHandler.apply(this,m([this,ne.VERBOSE],U))},H.prototype.info=function(){for(var U=[],q=0;q<arguments.length;q++)U[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,ne.INFO],U)),this._logHandler.apply(this,m([this,ne.INFO],U))},H.prototype.warn=function(){for(var U=[],q=0;q<arguments.length;q++)U[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,ne.WARN],U)),this._logHandler.apply(this,m([this,ne.WARN],U))},H.prototype.error=function(){for(var U=[],q=0;q<arguments.length;q++)U[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,ne.ERROR],U)),this._logHandler.apply(this,m([this,ne.ERROR],U))},H}();function F(H){j.forEach(function(U){U.setLogLevel(H)})}function B(H,U){for(var q=function(Me){var Ae=null;U&&U.level&&(Ae=me[U.level]),Me.userLogHandler=null===H?null:function(xe,Oe){for(var Le=[],ke=2;ke<arguments.length;ke++)Le[ke-2]=arguments[ke];var at=Le.map(function(qt){if(null==qt)return null;if("string"==typeof qt)return qt;if("number"==typeof qt||"boolean"==typeof qt)return qt.toString();if(qt instanceof Error)return qt.message;try{return JSON.stringify(qt)}catch(ye){return null}}).filter(function(qt){return qt}).join(" ");Oe>=(null!=Ae?Ae:xe.logLevel)&&H({level:ne[Oe].toLowerCase(),message:at,args:Le,type:xe.name})}},le=0,te=j;le<te.length;le++)q(te[le])}},4685:(We,Ce,k)=>{"use strict";k.d(Ce,{BH:()=>q,LL:()=>Re,ZR:()=>Q,tV:()=>F,r3:()=>ut,Sg:()=>le,ne:()=>mo,vZ:()=>sn,ZB:()=>H,pd:()=>po,m9:()=>Yt,z$:()=>te,jU:()=>Ae,ru:()=>xe,d:()=>Le,xb:()=>As,w1:()=>ke,hl:()=>re,uI:()=>ee,UG:()=>Me,b$:()=>Oe,G6:()=>ye,Mn:()=>at,xO:()=>gi,zd:()=>br});var m=k(4762),me=function($){for(var L=[],X=0,ce=0;ce<$.length;ce++){var K=$.charCodeAt(ce);K<128?L[X++]=K:K<2048?(L[X++]=K>>6|192,L[X++]=63&K|128):55296==(64512&K)&&ce+1<$.length&&56320==(64512&$.charCodeAt(ce+1))?(K=65536+((1023&K)<<10)+(1023&$.charCodeAt(++ce)),L[X++]=K>>18|240,L[X++]=K>>12&63|128,L[X++]=K>>6&63|128,L[X++]=63&K|128):(L[X++]=K>>12|224,L[X++]=K>>6&63|128,L[X++]=63&K|128)}return L},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function($,L){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var X=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[],K=0;K<$.length;K+=3){var be=$[K],Je=K+1<$.length,mt=Je?$[K+1]:0,Ct=K+2<$.length,Rt=Ct?$[K+2]:0,yn=(15&mt)<<2|Rt>>6,vo=63&Rt;Ct||(vo=64,Je||(yn=64)),ce.push(X[be>>2],X[(3&be)<<4|mt>>4],X[yn],X[vo])}return ce.join("")},encodeString:function($,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa($):this.encodeByteArray(me($),L)},decodeString:function($,L){return this.HAS_NATIVE_SUPPORT&&!L?atob($):function($){for(var L=[],X=0,ce=0;X<$.length;){var K=$[X++];if(K<128)L[ce++]=String.fromCharCode(K);else if(K>191&&K<224){var be=$[X++];L[ce++]=String.fromCharCode((31&K)<<6|63&be)}else if(K>239&&K<365){var Ct=((7&K)<<18|(63&(be=$[X++]))<<12|(63&(Je=$[X++]))<<6|63&$[X++])-65536;L[ce++]=String.fromCharCode(55296+(Ct>>10)),L[ce++]=String.fromCharCode(56320+(1023&Ct))}else{be=$[X++];var Je=$[X++];L[ce++]=String.fromCharCode((15&K)<<12|(63&be)<<6|63&Je)}}return L.join("")}(this.decodeStringToByteArray($,L))},decodeStringToByteArray:function($,L){this.init_();for(var X=L?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[],K=0;K<$.length;){var be=X[$.charAt(K++)],mt=K<$.length?X[$.charAt(K)]:0,Rt=++K<$.length?X[$.charAt(K)]:64,$t=++K<$.length?X[$.charAt(K)]:64;if(++K,null==be||null==mt||null==Rt||null==$t)throw Error();ce.push(be<<2|mt>>4),64!==Rt&&(ce.push(mt<<4&240|Rt>>2),64!==$t&&ce.push(Rt<<6&192|$t))}return ce},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},z=function($){return function($){var L=me($);return Ee.encodeByteArray(L,!0)}($).replace(/\./g,"")},F=function($){try{return Ee.decodeString($,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function H($,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return L}for(var ce in L)!L.hasOwnProperty(ce)||!U(ce)||($[ce]=H($[ce],L[ce]));return $}function U($){return"__proto__"!==$}var q=function(){function $(){var L=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(X,ce){L.resolve=X,L.reject=ce})}return $.prototype.wrapCallback=function(L){var X=this;return function(ce,K){ce?X.reject(ce):X.resolve(K),"function"==typeof L&&(X.promise.catch(function(){}),1===L.length?L(ce):L(ce,K))}},$}();function le($,L){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ce=L||"demo-project",K=$.iat||0,be=$.sub||$.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Je=(0,m.pi)({iss:"https://securetoken.google.com/"+ce,aud:ce,iat:K,exp:K+3600,auth_time:K,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},$);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Je)),""].join(".")}function te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(te())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function xe(){var $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return te().indexOf("Electron/")>=0}function ke(){var $=te();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function at(){return te().indexOf("MSAppHost/")>=0}function ye(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){return"indexedDB"in self&&null!=indexedDB}var Q=function($){function L(X,ce,K){var be=$.call(this,ce)||this;return be.code=X,be.customData=K,be.name="FirebaseError",Object.setPrototypeOf(be,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(be,Re.prototype.create),be}return(0,m.ZT)(L,$),L}(Error),Re=function(){function $(L,X,ce){this.service=L,this.serviceName=X,this.errors=ce}return $.prototype.create=function(L){for(var X=[],ce=1;ce<arguments.length;ce++)X[ce-1]=arguments[ce];var K=X[0]||{},be=this.service+"/"+L,Je=this.errors[L],mt=Je?ze(Je,K):"Error",Ct=this.serviceName+": "+mt+" ("+be+").",Rt=new Q(be,Ct,K);return Rt},$}();function ze($,L){return $.replace(Et,function(X,ce){var K=L[ce];return null!=K?String(K):"<"+ce+"?>"})}var Et=/\{\$([^}]+)}/g;function ut($,L){return Object.prototype.hasOwnProperty.call($,L)}function As($){for(var L in $)if(Object.prototype.hasOwnProperty.call($,L))return!1;return!0}function sn($,L){if($===L)return!0;for(var X=Object.keys($),ce=Object.keys(L),K=0,be=X;K<be.length;K++){if(!ce.includes(Je=be[K]))return!1;var mt=$[Je],Ct=L[Je];if(Kr(mt)&&Kr(Ct)){if(!sn(mt,Ct))return!1}else if(mt!==Ct)return!1}for(var Rt=0,xn=ce;Rt<xn.length;Rt++){var Je;if(!X.includes(Je=xn[Rt]))return!1}return!0}function Kr($){return null!==$&&"object"==typeof $}function gi($){for(var L=[],X=function(Ct,Rt){Array.isArray(Rt)?Rt.forEach(function(xn){L.push(encodeURIComponent(Ct)+"="+encodeURIComponent(xn))}):L.push(encodeURIComponent(Ct)+"="+encodeURIComponent(Rt))},ce=0,K=Object.entries($);ce<K.length;ce++){var be=K[ce];X(be[0],be[1])}return L.length?"&"+L.join("&"):""}function br($){var L={};return $.replace(/^\?/,"").split("&").forEach(function(ce){if(ce){var K=ce.split("="),Je=K[1];L[decodeURIComponent(K[0])]=decodeURIComponent(Je)}}),L}function po($){var L=$.indexOf("?");if(!L)return"";var X=$.indexOf("#",L);return $.substring(L,X>0?X:void 0)}function mo($,L){var X=new Ji($,L);return X.subscribe.bind(X)}!function(){function $(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}$.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},$.prototype.compress_=function(L,X){X||(X=0);var ce=this.W_;if("string"==typeof L)for(var K=0;K<16;K++)ce[K]=L.charCodeAt(X)<<24|L.charCodeAt(X+1)<<16|L.charCodeAt(X+2)<<8|L.charCodeAt(X+3),X+=4;else for(K=0;K<16;K++)ce[K]=L[X]<<24|L[X+1]<<16|L[X+2]<<8|L[X+3],X+=4;for(K=16;K<80;K++)ce[K]=4294967295&((be=ce[K-3]^ce[K-8]^ce[K-14]^ce[K-16])<<1|be>>>31);var $t,yn,Je=this.chain_[0],mt=this.chain_[1],Ct=this.chain_[2],Rt=this.chain_[3],xn=this.chain_[4];for(K=0;K<80;K++){K<40?K<20?($t=Rt^mt&(Ct^Rt),yn=1518500249):($t=mt^Ct^Rt,yn=1859775393):K<60?($t=mt&Ct|Rt&(mt|Ct),yn=2400959708):($t=mt^Ct^Rt,yn=3395469782);var be=(Je<<5|Je>>>27)+$t+xn+yn+ce[K]&4294967295;xn=Rt,Rt=Ct,Ct=4294967295&(mt<<30|mt>>>2),mt=Je,Je=be}this.chain_[0]=this.chain_[0]+Je&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+Rt&4294967295,this.chain_[4]=this.chain_[4]+xn&4294967295},$.prototype.update=function(L,X){if(null!=L){void 0===X&&(X=L.length);for(var ce=X-this.blockSize,K=0,be=this.buf_,Je=this.inbuf_;K<X;){if(0===Je)for(;K<=ce;)this.compress_(L,K),K+=this.blockSize;if("string"==typeof L){for(;K<X;)if(be[Je]=L.charCodeAt(K),++K,++Je===this.blockSize){this.compress_(be),Je=0;break}}else for(;K<X;)if(be[Je]=L[K],++K,++Je===this.blockSize){this.compress_(be),Je=0;break}}this.inbuf_=Je,this.total_+=X}},$.prototype.digest=function(){var L=[],X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ce=this.blockSize-1;ce>=56;ce--)this.buf_[ce]=255&X,X/=256;this.compress_(this.buf_);var K=0;for(ce=0;ce<5;ce++)for(var be=24;be>=0;be-=8)L[K]=this.chain_[ce]>>be&255,++K;return L}}();var Ji=function(){function $(L,X){var ce=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(function(){L(ce)}).catch(function(K){ce.error(K)})}return $.prototype.next=function(L){this.forEachObserver(function(X){X.next(L)})},$.prototype.error=function(L){this.forEachObserver(function(X){X.error(L)}),this.close(L)},$.prototype.complete=function(){this.forEachObserver(function(L){L.complete()}),this.close()},$.prototype.subscribe=function(L,X,ce){var be,K=this;if(void 0===L&&void 0===X&&void 0===ce)throw new Error("Missing Observer.");void 0===(be=function($,L){if("object"!=typeof $||null===$)return!1;for(var X=0,ce=["next","error","complete"];X<ce.length;X++){var K=ce[X];if(K in $&&"function"==typeof $[K])return!0}return!1}(L)?L:{next:L,error:X,complete:ce}).next&&(be.next=Ss),void 0===be.error&&(be.error=Ss),void 0===be.complete&&(be.complete=Ss);var Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{K.finalError?be.error(K.finalError):be.complete()}catch(mt){}}),this.observers.push(be),Je},$.prototype.unsubscribeOne=function(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},$.prototype.forEachObserver=function(L){if(!this.finalized)for(var X=0;X<this.observers.length;X++)this.sendOne(X,L)},$.prototype.sendOne=function(L,X){var ce=this;this.task.then(function(){if(void 0!==ce.observers&&void 0!==ce.observers[L])try{X(ce.observers[L])}catch(K){"undefined"!=typeof console&&console.error&&console.error(K)}})},$.prototype.close=function(L){var X=this;this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(function(){X.observers=void 0,X.onNoObservers=void 0}))},$}();function Ss(){}function Yt($){return $&&$._delegate?$._delegate:$}},7841:(We,Ce,k)=>{"use strict";k.d(Ce,{Z:()=>m.Z});var m=k(4486);m.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(We,Ce,k)=>{"use strict";k.r(Ce);var m=k(8239),oe=k(4486),j=k(4685),ne=k(5452),me=k(4762),ie=k(300),Ee=k(6034);const le=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},te=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ee=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new ie.Yd("@firebase/auth");function xe(w,...p){Ae.logLevel<=ie.in.ERROR&&Ae.error(`Auth (${ne.SDK_VERSION}): ${w}`,...p)}function Oe(w,...p){throw qt(w,...p)}function Le(w,...p){return qt(w,...p)}function ke(w,p,_){const I=Object.assign(Object.assign({},te()),{[p]:_});return new j.LL("auth","Firebase",I).create(p,{appName:w.name})}function at(w,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Oe(w,"argument-error"),ke(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qt(w,...p){if("string"!=typeof w){const _=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(_,...I)}return ee.create(w,...p)}function ye(w,p,..._){if(!w)throw qt(p,..._)}function re(w){const p="INTERNAL ASSERTION FAILED: "+w;throw xe(p),new Error(p)}function se(w,p){w||re(p)}const he=new Map;function ue(w){se(w instanceof Function,"Expected a class definition");let p=he.get(w);return p?(se(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,he.set(w,p),p)}function Re(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function ze(){return"http:"===Et()||"https:"===Et()}function Et(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Bt{constructor(p,_){this.shortDelay=p,this.longDelay=_,se(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ze()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fn(w,p){se(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class zr{static initialize(p,_,I){this.fetchImpl=p,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pn=new Bt(3e4,6e4);function ut(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Nt(w,p,_,I){return As.apply(this,arguments)}function As(){return(As=(0,m.Z)(function*(w,p,_,I,S={}){return fo(w,S,()=>{let M={},W={};I&&("GET"===p?W=I:M={body:JSON.stringify(I)});const ge=(0,j.xO)(Object.assign({key:w.config.apiKey},W)).slice(1),Fe=new(zr.headers());return Fe.set("Content-Type","application/json"),Fe.set("X-Client-Version",w._getSdkClientVersion()),w.languageCode&&Fe.set("X-Firebase-Locale",w.languageCode),zr.fetch()(br(w,w.config.apiHost,_,ge),Object.assign({method:p,headers:Fe,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function fo(w,p,_){return sn.apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(w,p,_){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},Zr),p);try{const S=new po(w),M=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const W=yield M.json();if("needConfirmation"in W)throw go(w,"account-exists-with-different-credential",W);if(M.ok&&!("errorMessage"in W))return W;{const ge=M.ok?W.errorMessage:W.error.message,[Fe,$e]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw go(w,"credential-already-in-use",W);if("EMAIL_EXISTS"===Fe)throw go(w,"email-already-in-use",W);const rt=I[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw ke(w,rt,$e);Oe(w,rt)}}catch(S){if(S instanceof j.ZR)throw S;Oe(w,"network-request-failed")}})).apply(this,arguments)}function Kr(w,p,_,I){return gi.apply(this,arguments)}function gi(){return(gi=(0,m.Z)(function*(w,p,_,I,S={}){const M=yield Nt(w,p,_,I,S);return"mfaPendingCredential"in M&&Oe(w,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function br(w,p,_,I){const S=`${p}${_}?${I}`;return w.config.emulator?fn(w.config,S):`${w.config.apiScheme}://${S}`}class po{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I(Le(this.auth,"timeout")),pn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function go(w,p,_){const I={appName:w.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const S=Le(w,p,I);return S.customData._tokenResponse=_,S}function Ji(){return(Ji=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Fn(w,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ss(w,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function De(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function an(){return(an=(0,m.Z)(function*(w,p=!1){const _=(0,j.m9)(w),I=yield _.getIdToken(p),S=Ze(I);ye(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,W=null==M?void 0:M.sign_in_provider;return{claims:S,token:I,authTime:De(Pt(S.auth_time)),issuedAtTime:De(Pt(S.iat)),expirationTime:De(Pt(S.exp)),signInProvider:W||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Pt(w){return 1e3*Number(w)}function Ze(w){const[p,_,I]=w.split(".");if(void 0===p||void 0===_||void 0===I)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,j.tV)(_);return S?JSON.parse(S):(xe("Failed to decode base64 JWT payload"),null)}catch(S){return xe("Caught error parsing JWT payload as JSON",S),null}}function gn(w,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(w,p,_=!1){if(_)return p;try{return yield p}catch(I){throw I instanceof j.ZR&&Mi(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function Mi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class mn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,m.Z)(function*(){yield _.iteration()}),I)}iteration(){var p=this;return(0,m.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class kr{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=De(this.lastLoginAt),this.creationTime=De(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _o(w){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,m.Z)(function*(w){var p;const _=w.auth,I=yield w.getIdToken(),S=yield gn(w,Ss(_,{idToken:I}));ye(null==S?void 0:S.users.length,_,"internal-error");const M=S.users[0];w._notifyReloadListener(M);const W=(null===(p=M.providerUserInfo)||void 0===p?void 0:p.length)?ce(M.providerUserInfo):[],ge=X(w.providerData,W),rt=!!w.isAnonymous&&!(w.email&&M.passwordHash||(null==ge?void 0:ge.length)),et={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ge,metadata:new kr(M.createdAt,M.lastLoginAt),isAnonymous:rt};Object.assign(w,et)})).apply(this,arguments)}function L(){return(L=(0,m.Z)(function*(w){const p=(0,j.m9)(w);yield _o(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function X(w,p){return[...w.filter(I=>!p.some(S=>S.providerId===I.providerId)),...p]}function ce(w){return w.map(p=>{var{providerId:_}=p,I=(0,me._T)(p,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function be(){return(be=(0,m.Z)(function*(w,p){const _=yield fo(w,{},()=>{const I=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:M}=w.config,W=br(w,S,"/v1/token",`key=${M}`);return zr.fetch()(W,{method:"POST",headers:{"X-Client-Version":w._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ye(p.idToken,"internal-error"),ye(void 0!==p.idToken,"internal-error"),ye(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(w){const p=Ze(w);return ye(p,"internal-error"),ye(void 0!==p.exp,"internal-error"),ye(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var I=this;return(0,m.Z)(function*(){return ye(!I.accessToken||I.refreshToken,p,"user-token-expired"),_||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var I=this;return(0,m.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:W}=yield function(w,p){return be.apply(this,arguments)}(p,_);I.updateTokensAndExpiration(S,M,Number(W))})()}updateTokensAndExpiration(p,_,I){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,_){const{refreshToken:I,accessToken:S,expirationTime:M}=_,W=new Je;return I&&(ye("string"==typeof I,"internal-error",{appName:p}),W.refreshToken=I),S&&(ye("string"==typeof S,"internal-error",{appName:p}),W.accessToken=S),M&&(ye("number"==typeof M,"internal-error",{appName:p}),W.expirationTime=M),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return re("not implemented")}}function mt(w,p){ye("string"==typeof w||void 0===w,"internal-error",{appName:p})}class Ct{constructor(p){var{uid:_,auth:I,stsTokenManager:S}=p,M=(0,me._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.metadata=new kr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,m.Z)(function*(){const I=yield gn(_,_.stsTokenManager.getToken(_.auth,p));return ye(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(p){return function(w){return an.apply(this,arguments)}(this,p)}reload(){return function(w){return L.apply(this,arguments)}(this)}_assign(p){this!==p&&(ye(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Ct(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var I=this;return(0,m.Z)(function*(){let S=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield _o(I)),yield I.auth._persistUserIfCurrent(I),S&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,m.Z)(function*(){const _=yield p.getIdToken();return yield gn(p,function(w,p){return Ji.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var I,S,M,W,ge,Fe,$e,rt;const et=null!==(I=_.displayName)&&void 0!==I?I:void 0,zt=null!==(S=_.email)&&void 0!==S?S:void 0,wn=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,ps=null!==(W=_.photoURL)&&void 0!==W?W:void 0,xg=null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,mf=null!==(Fe=_._redirectEventId)&&void 0!==Fe?Fe:void 0,Uo=null!==($e=_.createdAt)&&void 0!==$e?$e:void 0,S_=null!==(rt=_.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:cd,emailVerified:Ng,isAnonymous:Rg,providerData:yf,stsTokenManager:Bo}=_;ye(cd&&Bo,p,"internal-error");const Li=Je.fromJSON(this.name,Bo);ye("string"==typeof cd,p,"internal-error"),mt(et,p.name),mt(zt,p.name),ye("boolean"==typeof Ng,p,"internal-error"),ye("boolean"==typeof Rg,p,"internal-error"),mt(wn,p.name),mt(ps,p.name),mt(xg,p.name),mt(mf,p.name),mt(Uo,p.name),mt(S_,p.name);const Mg=new Ct({uid:cd,auth:p,email:zt,emailVerified:Ng,displayName:et,isAnonymous:Rg,photoURL:ps,phoneNumber:wn,tenantId:xg,stsTokenManager:Li,createdAt:Uo,lastLoginAt:S_});return yf&&Array.isArray(yf)&&(Mg.providerData=yf.map(zw=>Object.assign({},zw))),mf&&(Mg._redirectEventId=mf),Mg}static _fromIdTokenResponse(p,_,I=!1){return(0,m.Z)(function*(){const S=new Je;S.updateFromServerResponse(_);const M=new Ct({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:I});return yield _o(M),M})()}}const xn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(_,I){var S=this;return(0,m.Z)(function*(){S.storage[_]=I})()}_get(_){var I=this;return(0,m.Z)(function*(){const S=I.storage[_];return void 0===S?null:S})()}_remove(_){var I=this;return(0,m.Z)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return w.type="NONE",w})();function $t(w,p,_){return`firebase:${w}:${p}:${_}`}class yn{constructor(p,_,I){this.persistence=p,this.auth=_,this.userKey=I;const{config:S,name:M}=this.auth;this.fullUserKey=$t(this.userKey,S.apiKey,M),this.fullPersistenceKey=$t("persistence",S.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,m.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Ct._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,m.Z)(function*(){if(_.persistence===p)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,I="authUser"){return(0,m.Z)(function*(){if(!_.length)return new yn(ue(xn),p,I);const S=(yield Promise.all(_.map(function(){var $e=(0,m.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return $e.apply(this,arguments)}}()))).filter($e=>$e);let M=S[0]||ue(xn);const W=$t(I,p.config.apiKey,p.name);let ge=null;for(const $e of _)try{const rt=yield $e._get(W);if(rt){const et=Ct._fromJSON(p,rt);$e!==M&&(ge=et),M=$e;break}}catch(rt){}const Fe=S.filter($e=>$e._shouldAllowMigration);return M._shouldAllowMigration&&Fe.length?(M=Fe[0],ge&&(yield M._set(W,ge.toJSON())),yield Promise.all(_.map(function(){var $e=(0,m.Z)(function*(rt){if(rt!==M)try{yield rt._remove(W)}catch(et){}});return function(rt){return $e.apply(this,arguments)}}())),new yn(M,p,I)):new yn(M,p,I)})()}}function vo(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(bc(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(fa(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Cu(p))return"Blackberry";if(ga(p))return"Webos";if(gh(p))return"Safari";if((p.includes("chrome/")||mh(p))&&!p.includes("edge/"))return"Chrome";if(pa(p))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function fa(w=(0,j.z$)()){return/firefox\//i.test(w)}function gh(w=(0,j.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function mh(w=(0,j.z$)()){return/crios\//i.test(w)}function bc(w=(0,j.z$)()){return/iemobile/i.test(w)}function pa(w=(0,j.z$)()){return/android/i.test(w)}function Cu(w=(0,j.z$)()){return/blackberry/i.test(w)}function ga(w=(0,j.z$)()){return/webos/i.test(w)}function yi(w=(0,j.z$)()){return/iphone|ipad|ipod/i.test(w)}function Oi(w=(0,j.z$)()){return yi(w)||pa(w)||ga(w)||Cu(w)||/windows phone/i.test(w)||bc(w)}function ar(w,p=[]){let _;switch(w){case"Browser":_=vo((0,j.z$)());break;case"Worker":_=`${vo((0,j.z$)())}-${w}`;break;default:_=w}const I=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${ne.SDK_VERSION}/${I}`}class qy{constructor(p,_){this.app=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ee,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(p,_){var I=this;return _&&(this._popupRedirectResolver=ue(_)),this._initializationPromise=this.queue((0,m.Z)(function*(){var S;I._deleted||(I.persistenceManager=yield yn.create(I,p),!I._deleted&&((null===(S=I._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(_),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,m.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_)}})()}initializeCurrentUser(p){var _=this;return(0,m.Z)(function*(){var I;let S=yield _.assertedPersistence.getCurrentUser();if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const M=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,W=null==S?void 0:S._redirectEventId,ge=yield _.tryRedirectSignIn(p);(!M||M===W)&&(null==ge?void 0:ge.user)&&(S=ge.user)}return S?S._redirectEventId?(ye(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var _=this;return(0,m.Z)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(S){yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,m.Z)(function*(){try{yield _o(p)}catch(I){if("auth/network-request-failed"!==I.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,m.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,m.Z)(function*(){const I=p?(0,j.m9)(p):null;return I&&ye(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,m.Z)(function*(){if(!_._deleted)return p&&ye(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),_.queue((0,m.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,m.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var _=this;return this.queue((0,m.Z)(function*(){yield _.assertedPersistence.setPersistence(ue(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,I){return this.registerStateListener(this.authStateSubscription,p,_,I)}onIdTokenChanged(p,_,I){return this.registerStateListener(this.idTokenSubscription,p,_,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var I=this;return(0,m.Z)(function*(){const S=yield I.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,m.Z)(function*(){if(!_.redirectPersistenceManager){const I=p&&ue(p)||_._popupRedirectResolver;ye(I,_,"argument-error"),_.redirectPersistenceManager=yield yn.create(_,[ue(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,m.Z)(function*(){var I,S;return _._isInitialized&&(yield _.queue((0,m.Z)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,m.Z)(function*(){if(p===_.currentUser)return _.queue((0,m.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,I,S){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),W=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(W,this,"internal-error"),W.then(()=>M(this.currentUser)),"function"==typeof _?p.addObserver(_,I,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,m.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ft(w){return(0,j.m9)(w)}class Be{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wt(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function xs(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class ur{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return re("not implemented")}_getIdTokenResponse(p){return re("not implemented")}_linkToIdToken(p,_){return re("not implemented")}_getReauthenticationResolver(p){return re("not implemented")}}function un(w,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:resetPassword",ut(w,p))})).apply(this,arguments)}function ma(w,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dc(w,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:update",ut(w,p))})).apply(this,arguments)}function Xi(){return(Xi=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signInWithPassword",ut(w,p))})).apply(this,arguments)}function Ln(w,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:sendOobCode",ut(w,p))})).apply(this,arguments)}function Pi(w,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,m.Z)(function*(w,p){return Ln(w,p)})).apply(this,arguments)}function Gt(w,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,m.Z)(function*(w,p){return Ln(w,p)})).apply(this,arguments)}function _h(w,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,m.Z)(function*(w,p){return Ln(w,p)})).apply(this,arguments)}function vh(w,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,m.Z)(function*(w,p){return Ln(w,p)})).apply(this,arguments)}function es(){return(es=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signInWithEmailLink",ut(w,p))})).apply(this,arguments)}function Eh(){return(Eh=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signInWithEmailLink",ut(w,p))})).apply(this,arguments)}class Vr extends ur{constructor(p,_,I,S=null){super("password",I),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Vr(p,_,"password")}static _fromEmailAndCode(p,_,I=null){return new Vr(p,_,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,m.Z)(function*(){switch(_.signInMethod){case"password":return function(w,p){return Xi.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(w,p){return es.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Oe(p,"internal-error")}})()}_linkToIdToken(p,_){var I=this;return(0,m.Z)(function*(){switch(I.signInMethod){case"password":return ma(p,{idToken:_,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(w,p){return Eh.apply(this,arguments)}(p,{idToken:_,email:I._email,oobCode:I._password});default:Oe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Lt(w,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signInWithIdp",ut(w,p))})).apply(this,arguments)}class Ur extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Ur(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Oe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:S}=_,M=(0,me._T)(_,["providerId","signInMethod"]);if(!I||!S)return null;const W=new Ur(I,S);return Object.assign(W,M),W}_getIdTokenResponse(p){return Lt(p,this.buildRequest())}_linkToIdToken(p,_){const I=this.buildRequest();return I.idToken=_,Lt(p,I)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Lt(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function _i(w,p){return wh.apply(this,arguments)}function wh(){return(wh=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:sendVerificationCode",ut(w,p))})).apply(this,arguments)}function Ch(){return(Ch=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signInWithPhoneNumber",ut(w,p))})).apply(this,arguments)}function $p(){return($p=(0,m.Z)(function*(w,p){const _=yield Kr(w,"POST","/v1/accounts:signInWithPhoneNumber",ut(w,p));if(_.temporaryProof)throw go(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Aw={USER_NOT_FOUND:"user-not-found"};function Gp(){return(Gp=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signInWithPhoneNumber",ut(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Aw)})).apply(this,arguments)}class va extends ur{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new va({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new va({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function(w,p){return Ch.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function(w,p){return $p.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(w,p){return Gp.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:I,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:I,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:I,phoneNumber:S,temporaryProof:M}=p;return I||_||S||M?new va({verificationId:_,verificationCode:I,phoneNumber:S,temporaryProof:M}):null}}class Ac{constructor(p){var _,I,S,M,W,ge;const Fe=(0,j.zd)((0,j.pd)(p)),$e=null!==(_=Fe.apiKey)&&void 0!==_?_:null,rt=null!==(I=Fe.oobCode)&&void 0!==I?I:null,et=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Fe.mode)&&void 0!==S?S:null);ye($e&&rt&&et,"argument-error"),this.apiKey=$e,this.operation=et,this.code=rt,this.continueUrl=null!==(M=Fe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(W=Fe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ge=Fe.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const _=function(w){const p=(0,j.zd)((0,j.pd)(w)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,I=(0,j.zd)((0,j.pd)(w)).deep_link_id;return(I?(0,j.zd)((0,j.pd)(I)).link:null)||I||_||p||w}(p);try{return new Ac(_)}catch(I){return null}}}let qp=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,I){return Vr._fromEmailAndPassword(_,I)}static credentialWithLink(_,I){const S=Ac.parseLink(I);return ye(S,"argument-error"),Vr._fromEmailAndCode(_,S.code,S.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Io{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Tu extends Io{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class bo extends Tu{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ye("providerId"in _&&"signInMethod"in _,"argument-error"),Ur._fromParams(_)}credential(p){return this._credential(p)}_credential(p){return ye(p.idToken||p.accessToken,"argument-error"),Ur._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return bo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return bo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:S,pendingToken:M,nonce:W,providerId:ge}=p;if(!I&&!S&&!_&&!M||!ge)return null;try{return new bo(ge)._credential({idToken:_,accessToken:I,rawNonce:W,pendingToken:M})}catch(Fe){return null}}}let Ih=(()=>{class w extends Tu{constructor(){super("facebook.com")}static credential(_){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch(I){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),bh=(()=>{class w extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:S}=_;if(!I&&!S)return null;try{return w.credential(I,S)}catch(M){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Dh=(()=>{class w extends Tu{constructor(){super("github.com")}static credential(_){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch(I){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ea extends ur{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Lt(p,this.buildRequest())}_linkToIdToken(p,_){const I=this.buildRequest();return I.idToken=_,Lt(p,I)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Lt(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:S,pendingToken:M}=_;return I&&S&&M&&I===S?new Ea(I,M):null}static _create(p,_){return new Ea(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Th=(()=>{class w extends Tu{constructor(){super("twitter.com")}static credential(_,I){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:S}=_;if(!I||!S)return null;try{return w.credential(I,S)}catch(M){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ah(w,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signUp",ut(w,p))})).apply(this,arguments)}class vi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,I,S=!1){return(0,m.Z)(function*(){const M=yield Ct._fromIdTokenResponse(p,I,S),W=zy(I);return new vi({user:M,providerId:W,_tokenResponse:I,operationType:_})})()}static _forOperation(p,_,I){return(0,m.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const S=zy(I);return new vi({user:p,providerId:S,_tokenResponse:I,operationType:_})})()}}function zy(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Su(){return(Su=(0,m.Z)(function*(w){var p;const _=Ft(w);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new vi({user:_.currentUser,providerId:null,operationType:"signIn"});const I=yield Ah(_,{returnSecureToken:!0}),S=yield vi._fromIdTokenResponse(_,"signIn",I,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Sc extends j.ZR{constructor(p,_,I,S){var M;super(_.code,_.message),this.operationType=I,this.user=S,this.name="FirebaseError",Object.setPrototypeOf(this,Sc.prototype),this.appName=p.name,this.code=_.code,this.tenantId=null!==(M=p.tenantId)&&void 0!==M?M:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(p,_,I,S){return new Sc(p,_,I,S)}}function xu(w,p,_,I){return("reauthenticate"===p?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Sc._fromErrorAndOperation(w,M,p,I):M})}function Wp(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function xc(){return(xc=(0,m.Z)(function*(w,p){const _=(0,j.m9)(w);yield Rs(!0,_,p);const{providerUserInfo:I}=yield Fn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=Wp(I||[]);return _.providerData=_.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Nc(w,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,m.Z)(function*(w,p,_=!1){const I=yield gn(w,p._linkToIdToken(w.auth,yield w.getIdToken()),_);return vi._forOperation(w,"link",I)})).apply(this,arguments)}function Rs(w,p,_){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,m.Z)(function*(w,p,_){yield _o(p);const S=!1===w?"provider-already-linked":"no-such-provider";ye(Wp(p.providerData).has(_)===w,p.auth,S)})).apply(this,arguments)}function Rc(w,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,m.Z)(function*(w,p,_=!1){const{auth:I}=w,S="reauthenticate";try{const M=yield gn(w,xu(I,S,p,w),_);ye(M.idToken,I,"internal-error");const W=Ze(M.idToken);ye(W,I,"internal-error");const{sub:ge}=W;return ye(w.uid===ge,I,"user-mismatch"),vi._forOperation(w,S,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Oe(I,"user-mismatch"),M}})).apply(this,arguments)}function zp(w,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,m.Z)(function*(w,p,_=!1){const I="signIn",S=yield xu(w,I,p),M=yield vi._fromIdTokenResponse(w,I,S);return _||(yield w._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Oc(w,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,m.Z)(function*(w,p){return zp(Ft(w),p)})).apply(this,arguments)}function Zp(w,p){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,m.Z)(function*(w,p){const _=(0,j.m9)(w);return yield Rs(!1,_,p.providerId),Nc(_,p)})).apply(this,arguments)}function Ru(w,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,m.Z)(function*(w,p){return Rc((0,j.m9)(w),p)})).apply(this,arguments)}function Pw(w,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,m.Z)(function*(w,p){return Kr(w,"POST","/v1/accounts:signInWithCustomToken",ut(w,p))})).apply(this,arguments)}function lr(){return(lr=(0,m.Z)(function*(w,p){const _=Ft(w),I=yield Pw(_,{token:p,returnSecureToken:!0}),S=yield vi._fromIdTokenResponse(_,"signIn",I);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ou{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Pu._fromServerResponse(p,_):Oe(p,"internal-error")}}class Pu extends Ou{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Pu(_)}}function ku(w,p,_){var I;ye((null===(I=_.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),ye(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ye(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iosBundleId=_.iOS.bundleId),_.android&&(ye(_.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Pc(){return(Pc=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w),S={requestType:"PASSWORD_RESET",email:p};_&&ku(I,S,_),yield Gt(I,S)})).apply(this,arguments)}function it(){return(it=(0,m.Z)(function*(w,p,_){yield un((0,j.m9)(w),{oobCode:p,newPassword:_})})).apply(this,arguments)}function To(){return(To=(0,m.Z)(function*(w,p){yield Dc((0,j.m9)(w),{oobCode:p})})).apply(this,arguments)}function Fu(w,p){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,m.Z)(function*(w,p){const _=(0,j.m9)(w),I=yield un(_,{oobCode:p}),S=I.requestType;switch(ye(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(I.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(I.mfaInfo,_,"internal-error");default:ye(I.email,_,"internal-error")}let M=null;return I.mfaInfo&&(M=Ou._fromServerResponse(Ft(_),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function Ao(){return(Ao=(0,m.Z)(function*(w,p){const{data:_}=yield Fu((0,j.m9)(w),p);return _.email})).apply(this,arguments)}function Ie(){return(Ie=(0,m.Z)(function*(w,p,_){const I=Ft(w),S=yield Ah(I,{returnSecureToken:!0,email:p,password:_}),M=yield vi._fromIdTokenResponse(I,"signIn",S);return yield I._updateCurrentUser(M.user),M})).apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w),S={requestType:"EMAIL_SIGNIN",email:p};ye(_.handleCodeInApp,I,"argument-error"),_&&ku(I,S,_),yield _h(I,S)})).apply(this,arguments)}function Yr(){return(Yr=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w),S=qp.credentialWithLink(p,_||Re());return ye(S._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Oc(I,S)})).apply(this,arguments)}function Rh(w,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:createAuthUri",ut(w,p))})).apply(this,arguments)}function Jp(){return(Jp=(0,m.Z)(function*(w,p){const I={identifier:p,continueUri:ze()?Re():"http://localhost"},{signinMethods:S}=yield Rh((0,j.m9)(w),I);return S||[]})).apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(w,p){const _=(0,j.m9)(w),S={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&ku(_.auth,S,p);const{email:M}=yield Pi(_.auth,S);M!==w.email&&(yield w.reload())})).apply(this,arguments)}function Qr(){return(Qr=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};_&&ku(I.auth,M,_);const{email:W}=yield vh(I.auth,M);W!==w.email&&(yield w.reload())})).apply(this,arguments)}function Mh(w,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,m.Z)(function*(w,p){return Nt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Oh(){return(Oh=(0,m.Z)(function*(w,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const I=(0,j.m9)(w),M={idToken:yield I.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},W=yield gn(I,Mh(I.auth,M));I.displayName=W.displayName||null,I.photoURL=W.photoUrl||null;const ge=I.providerData.find(({providerId:Fe})=>"password"===Fe);ge&&(ge.displayName=I.displayName,ge.photoURL=I.photoURL),yield I._updateTokensIfNecessary(W)})).apply(this,arguments)}function kh(w,p,_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,m.Z)(function*(w,p,_){const{auth:I}=w,M={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(M.email=p),_&&(M.password=_);const W=yield gn(w,ma(I,M));yield w._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class So{constructor(p,_,I={}){this.isNewUser=p,this.providerId=_,this.profile=I}}class Lh extends So{constructor(p,_,I,S){super(p,_,I),this.username=S}}class Yy extends So{constructor(p,_){super(p,"facebook.com",_)}}class Qy extends Lh{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Bu extends So{constructor(p,_){super(p,"google.com",_)}}class eg extends Lh{constructor(p,_,I){super(p,"twitter.com",_,I)}}function tg(w){const{user:p,_tokenResponse:_}=w;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(w){var p,_;if(!w)return null;const{providerId:I}=w,S=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},M=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&(null==w?void 0:w.idToken)){const W=null===(_=null===(p=Ze(w.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(W)return new So(M,"anonymous"!==W&&"custom"!==W?W:null)}if(!I)return null;switch(I){case"facebook.com":return new Yy(M,S);case"github.com":return new Qy(M,S);case"google.com":return new Bu(M,S);case"twitter.com":return new eg(M,S,w.screenName||null);case"custom":case"anonymous":return new So(M,null);default:return new So(M,I,S)}}(_)}class rs{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new rs("enroll",p)}static _fromMfaPendingCredential(p){return new rs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,I;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return rs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(I=p.multiFactorSession)||void 0===I?void 0:I.idToken)return rs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vh{constructor(p,_,I){this.session=p,this.hints=_,this.signInResolver=I}static _fromError(p,_){const I=Ft(p),S=(_.serverResponse.mfaInfo||[]).map(W=>Ou._fromServerResponse(I,W));ye(_.serverResponse.mfaPendingCredential,I,"internal-error");const M=rs._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new Vh(M,S,function(){var W=(0,m.Z)(function*(ge){const Fe=yield ge._process(I,M);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const $e=Object.assign(Object.assign({},_.serverResponse),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(_.operationType){case"signIn":const rt=yield vi._fromIdTokenResponse(I,_.operationType,$e);return yield I._updateCurrentUser(rt.user),rt;case"reauthenticate":return ye(_.user,I,"internal-error"),vi._forOperation(_.user,_.operationType,$e);default:Oe(I,"internal-error")}});return function(ge){return W.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,m.Z)(function*(){return _.signInResolver(p)})()}}function Jy(w,p){return Nt(w,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:w.tenantId},p))}class Ca{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>Ou._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new Ca(p)}getSession(){var p=this;return(0,m.Z)(function*(){return rs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var I=this;return(0,m.Z)(function*(){const S=p,M=yield I.getSession(),W=yield gn(I.user,S._process(I.user.auth,M,_));return yield I.user._updateTokensIfNecessary(W),I.user.reload()})()}unenroll(p){var _=this;return(0,m.Z)(function*(){const I="string"==typeof p?p:p.uid,S=yield _.user.getIdToken(),M=yield gn(_.user,function(w,p){return Nt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:w.tenantId},p))}(_.user.auth,{idToken:S,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:W})=>W!==I),yield _.user._updateTokensIfNecessary(M);try{yield _.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Ia=new WeakMap,ju="__sak";class jh{constructor(p,_){this.storage=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const kc=(()=>{class w extends jh{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,j.z$)();return gh(w)||yi(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const S=this.storage.getItem(I),M=this.localCache[I];S!==M&&_(I,M,S)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys((ge,Fe,$e)=>{this.notifyListeners(ge,$e)});const S=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(S);if(_.newValue!==ge)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!I)return}const M=()=>{const ge=this.storage.getItem(S);!I&&this.localCache[S]===ge||this.notifyListeners(S,ge)},W=this.storage.getItem(S);(0,j.w1)()&&10===document.documentMode&&W!==_.newValue&&_.newValue!==_.oldValue?setTimeout(M,10):M()}notifyListeners(_,I){this.localCache[_]=I;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var S=()=>super._set,M=this;return(0,m.Z)(function*(){yield S().call(M,_,I),M.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,S=this;return(0,m.Z)(function*(){const M=yield I().call(S,_);return S.localCache[_]=JSON.stringify(M),M})()}_remove(_){var I=()=>super._remove,S=this;return(0,m.Z)(function*(){yield I().call(S,_),delete S.localCache[_]})()}}return w.type="LOCAL",w})(),is=(()=>{class w extends jh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return w.type="SESSION",w})();let Vs=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const I=this.receivers.find(M=>M.isListeningto(_));if(I)return I;const S=new w(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var I=this;return(0,m.Z)(function*(){const S=_,{eventId:M,eventType:W,data:ge}=S.data,Fe=I.handlersMap[W];if(!(null==Fe?void 0:Fe.size))return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:W});const $e=Array.from(Fe).map(function(){var et=(0,m.Z)(function*(zt){return zt(S.origin,ge)});return function(zt){return et.apply(this,arguments)}}()),rt=yield function(w){return Promise.all(w.map(function(){var p=(0,m.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(I){return{fulfilled:!1,reason:I}}});return function(_){return p.apply(this,arguments)}}()))}($e);S.ports[0].postMessage({status:"done",eventId:M,eventType:W,response:rt})})()}_subscribe(_,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(I)}_unsubscribe(_,I){this.handlersMap[_]&&I&&this.handlersMap[_].delete(I),(!I||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Fc(w="",p=10){let _="";for(let I=0;I<p;I++)_+=Math.floor(10*Math.random());return w+_}class Lw{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,I=50){var S=this;return(0,m.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let W,ge;return new Promise((Fe,$e)=>{const rt=Fc("",20);M.port1.start();const et=setTimeout(()=>{$e(new Error("unsupported_event"))},I);ge={messageChannel:M,onMessage(zt){const wn=zt;if(wn.data.eventId===rt)switch(wn.data.status){case"ack":clearTimeout(et),W=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Fe(wn.data.response);break;default:clearTimeout(et),clearTimeout(W),$e(new Error("invalid_response"))}}},S.handlers.add(ge),M.port1.addEventListener("message",ge.onMessage),S.target.postMessage({eventType:p,eventId:rt,data:_},[M.port2])}).finally(()=>{ge&&S.removeMessageHandler(ge)})})()}}function en(){return window}function Lc(){return void 0!==en().WorkerGlobalScope&&"function"==typeof en().importScripts}function qh(){return(qh=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const sg="firebaseLocalStorageDb",qu="firebaseLocalStorage",Vc="fbase_key";class Uc{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Bc(w,p){return w.transaction([qu],p?"readwrite":"readonly").objectStore(qu)}function tn(){const w=indexedDB.open(sg,1);return new Promise((p,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(qu,{keyPath:Vc})}catch(S){_(S)}}),w.addEventListener("success",(0,m.Z)(function*(){const I=w.result;I.objectStoreNames.contains(qu)?p(I):(I.close(),yield function(){const w=indexedDB.deleteDatabase(sg);return new Uc(w).toPromise()}(),p(yield tn()))}))})}function nt(w,p,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,m.Z)(function*(w,p,_){const I=Bc(w,!0).put({[Vc]:p,value:_});return new Uc(I).toPromise()})).apply(this,arguments)}function cr(){return(cr=(0,m.Z)(function*(w,p){const _=Bc(w,!1).get(p),I=yield new Uc(_).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ba(w,p){const _=Bc(w,!0).delete(p);return new Uc(_).toPromise()}const Ta=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,m.Z)(function*(){return _.db||(_.db=yield tn()),_.db})()}_withRetries(_){var I=this;return(0,m.Z)(function*(){let S=0;for(;;)try{const M=yield I._openDb();return yield _(M)}catch(M){if(S++>3)throw M;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,m.Z)(function*(){return Lc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,m.Z)(function*(){_.receiver=Vs._getInstance(Lc()?self:null),_.receiver._subscribe("keyChanged",function(){var I=(0,m.Z)(function*(S,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(S,M){return I.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var I=(0,m.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return I.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,m.Z)(function*(){var I,S;if(_.activeServiceWorker=yield function(){return qh.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Lw(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);!M||(null===(I=M[0])||void 0===I?void 0:I.fulfilled)&&(null===(S=M[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var I=this;return(0,m.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:_},I.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const _=yield tn();return yield nt(_,ju,"1"),yield ba(_,ju),!0}catch(_){}return!1})()}_withPendingWrite(_){var I=this;return(0,m.Z)(function*(){I.pendingWrites++;try{yield _()}finally{I.pendingWrites--}})()}_set(_,I){var S=this;return(0,m.Z)(function*(){return S._withPendingWrite((0,m.Z)(function*(){return yield S._withRetries(M=>nt(M,_,I)),S.localCache[_]=I,S.notifyServiceWorker(_)}))})()}_get(_){var I=this;return(0,m.Z)(function*(){const S=yield I._withRetries(M=>function(w,p){return cr.apply(this,arguments)}(M,_));return I.localCache[_]=S,S})()}_remove(_){var I=this;return(0,m.Z)(function*(){return I._withPendingWrite((0,m.Z)(function*(){return yield I._withRetries(S=>ba(S,_)),delete I.localCache[_],I.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,m.Z)(function*(){const I=yield _._withRetries(W=>{const ge=Bc(W,!1).getAll();return new Uc(ge).toPromise()});if(!I)return[];if(0!==_.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:W,value:ge}of I)M.add(W),JSON.stringify(_.localCache[W])!==JSON.stringify(ge)&&(_.notifyListeners(W,ge),S.push(W));for(const W of Object.keys(_.localCache))_.localCache[W]&&!M.has(W)&&(_.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(_,I){this.localCache[_]=I;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(I)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function og(w,p){return Nt(w,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:w.tenantId},p))}function zh(){return(zh=(0,m.Z)(function*(w){return(yield Nt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Aa(w){return new Promise((p,_)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=p,I.onerror=S=>{const M=Le("internal-error");M.customData=S,_(M)},I.type="text/javascript",I.charset="UTF-8",function(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(I)})}function ag(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Xr=1e12;class zu{constructor(p){this.auth=p,this.counter=Xr,this._widgets=new Map}render(p,_){const I=this.counter;return this._widgets.set(I,new Zh(p,this.auth.name,_||{})),this.counter++,I}reset(p){var _;const I=p||Xr;null===(_=this._widgets.get(I))||void 0===_||_.delete(),this._widgets.delete(I)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Xr))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,m.Z)(function*(){var I;return null===(I=_._widgets.get(p||Xr))||void 0===I||I.execute(),""})()}}class Zh{constructor(p,_,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ye(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}();const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dr=ag("rcb"),No=new Bt(3e4,6e4);class ft{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!en().grecaptcha}load(p,_=""){return ye((w=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(en().grecaptcha):new Promise((I,S)=>{const M=en().setTimeout(()=>{S(Le(p,"network-request-failed"))},No.get());en()[dr]=()=>{en().clearTimeout(M),delete en()[dr];const ge=en().grecaptcha;if(!ge)return void S(Le(p,"internal-error"));const Fe=ge.render;ge.render=($e,rt)=>{const et=Fe($e,rt);return this.counter++,et},this.hostLanguage=_,I(ge)},Aa(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:dr,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),S(Le(p,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!en().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vn{load(p){return(0,m.Z)(function*(){return new zu(p)})()}clearedOneInstance(){}}const o_="recaptcha",Vw={theme:"light",type:"image"};class Uw{constructor(p,_=Object.assign({},Vw),I){this.parameters=_,this.type=o_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(I),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ye(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vn:new ft,this.validateStartingState()}verify(){var p=this;return(0,m.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(_)||new Promise(M=>{const W=ge=>{!ge||(p.tokenChangeListeners.delete(W),M(ge))};p.tokenChangeListeners.add(W),p.isInvisible&&I.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(I=>I(_)),"function"==typeof p)p(_);else if("string"==typeof p){const I=en()[p];"function"==typeof I&&I(_)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,m.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const I=document.createElement("div");_.appendChild(I),_=I}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,m.Z)(function*(){ye(ze()&&!Lc(),p.auth,"internal-error"),yield function(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function(w){return zh.apply(this,arguments)}(p.auth);ye(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ku{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=va._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Kh(){return(Kh=(0,m.Z)(function*(w,p,_){const I=Ft(w),S=yield Ci(I,p,(0,j.m9)(_));return new Ku(S,M=>Oc(I,M))})).apply(this,arguments)}function xa(){return(xa=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w);yield Rs(!1,I,"phone");const S=yield Ci(I.auth,p,(0,j.m9)(_));return new Ku(S,M=>Zp(I,M))})).apply(this,arguments)}function lg(){return(lg=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w),S=yield Ci(I.auth,p,(0,j.m9)(_));return new Ku(S,M=>Ru(I,M))})).apply(this,arguments)}function Ci(w,p,_){return cg.apply(this,arguments)}function cg(){return(cg=(0,m.Z)(function*(w,p,_){var I;const S=yield _.verify();try{let M;if(ye("string"==typeof S,w,"argument-error"),ye(_.type===o_,w,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const W=M.session;if("phoneNumber"in M)return ye("enroll"===W.type,w,"internal-error"),(yield Jy(w,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ye("signin"===W.type,w,"internal-error");const ge=(null===(I=M.multiFactorHint)||void 0===I?void 0:I.uid)||M.multiFactorUid;return ye(ge,w,"missing-multi-factor-info"),(yield og(w,{mfaPendingCredential:W.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield _i(w,{phoneNumber:M.phoneNumber,recaptchaToken:S});return W}}finally{_._reset()}})).apply(this,arguments)}function Bs(){return(Bs=(0,m.Z)(function*(w,p){yield Nc((0,j.m9)(w),p)})).apply(this,arguments)}let Hc=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Ft(_)}verifyPhoneNumber(_,I){return Ci(this.auth,_,(0,j.m9)(I))}static credential(_,I){return va._fromVerification(_,I)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:S}=_;return I&&S?va._fromTokenResponse(I,S):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Na(w,p){return p?ue(p):(ye(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class In extends ur{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Lt(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Lt(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Lt(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function $c(w){return zp(w.auth,new In(w),w.bypassAuthState)}function bn(w){const{auth:p,user:_}=w;return ye(_,p,"internal-error"),Rc(_,new In(w),w.bypassAuthState)}function Gc(w){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,m.Z)(function*(w){const{auth:p,user:_}=w;return ye(_,p,"internal-error"),Nc(_,new In(w),w.bypassAuthState)})).apply(this,arguments)}class dg{constructor(p,_,I,S,M=!1){this.auth=p,this.resolver=I,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,m.Z)(function*(I,S){p.pendingPromise={resolve:I,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(I,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,m.Z)(function*(){const{urlResponse:I,sessionId:S,postBody:M,tenantId:W,error:ge,type:Fe}=p;if(ge)return void _.reject(ge);const $e={auth:_.auth,requestUri:I,sessionId:S,tenantId:W||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Fe)($e))}catch(rt){_.reject(rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $c;case"linkViaPopup":case"linkViaRedirect":return Gc;case"reauthViaPopup":case"reauthViaRedirect":return bn;default:Oe(this.auth,"internal-error")}}resolve(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const u_=new Bt(2e3,1e4);function ti(){return(ti=(0,m.Z)(function*(w,p,_){const I=Ft(w);at(w,p,Io);const S=Na(I,_);return new Yh(I,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function ss(){return(ss=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w);at(I.auth,p,Io);const S=Na(I.auth,_);return new Yh(I.auth,"reauthViaPopup",p,S,I).executeNotNull()})).apply(this,arguments)}function Ju(){return(Ju=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w);at(I.auth,p,Io);const S=Na(I.auth,_);return new Yh(I.auth,"linkViaPopup",p,S,I).executeNotNull()})).apply(this,arguments)}let Yh=(()=>{class w extends dg{constructor(_,I,S,M,W){super(_,I,M,W),this.provider=S,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,m.Z)(function*(){const I=yield _.execute();return ye(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,m.Z)(function*(){se(1===_.filter.length,"Popup operations only handle one event");const I=Fc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Le(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,S;this.pollId=(null===(S=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,u_.get())};_()}}return w.currentPopupAction=null,w})();const Sr=new Map;class Hw extends dg{constructor(p,_,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,m.Z)(function*(){let I=Sr.get(_.auth._key());if(!I){try{const M=(yield function(w,p){return hr.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;I=()=>Promise.resolve(M)}catch(S){I=()=>Promise.reject(S)}Sr.set(_.auth._key(),I)}return I()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,I=this;return(0,m.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(I,p);if("unknown"!==p.type){if(p.eventId){const S=yield I.auth._redirectUserForId(p.eventId);if(S)return I.user=S,_().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function hr(){return(hr=(0,m.Z)(function*(w,p){const _=Oa(p),I="true"===(yield Ma(w)._get(_));return yield Ma(w)._remove(_),I})).apply(this,arguments)}function Xu(w,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,m.Z)(function*(w,p){return Ma(w)._set(Oa(p),"true")})).apply(this,arguments)}function Ma(w){return ue(w._redirectPersistence)}function Oa(w){return $t("pendingRedirect",w.config.apiKey,w.name)}function Jh(){return(Jh=(0,m.Z)(function*(w,p,_){const I=Ft(w);at(w,p,Io);const S=Na(I,_);return yield Xu(S,I),S._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function tl(){return(tl=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w);at(I.auth,p,Io);const S=Na(I.auth,_);yield Xu(S,I.auth);const M=yield tf(I);return S._openRedirect(I.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(w,p,_){const I=(0,j.m9)(w);at(I.auth,p,Io);const S=Na(I.auth,_);yield Rs(!1,I,p.providerId),yield Xu(S,I.auth);const M=yield tf(I);return S._openRedirect(I.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function qs(){return(qs=(0,m.Z)(function*(w,p){return yield Ft(w)._initializationPromise,Wc(w,p,!1)})).apply(this,arguments)}function Wc(w,p){return ef.apply(this,arguments)}function ef(){return(ef=(0,m.Z)(function*(w,p,_=!1){const I=Ft(w),S=Na(I,p),W=yield new Hw(I,S,_).execute();return W&&!_&&(delete W.user._redirectEventId,yield I._persistUserIfCurrent(W.user),yield I._setRedirectUser(null,p)),W})).apply(this,arguments)}function tf(w){return pt.apply(this,arguments)}function pt(){return(pt=(0,m.Z)(function*(w){const p=Fc(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class os{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(_=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var I;if(p.error&&!as(p)){const S=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError(Le(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const I=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mo(p))}saveEventToCache(p){this.cachedEventUids.add(Mo(p)),this.lastProcessedEventTime=Date.now()}}function Mo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function as({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Dn(w){return zc.apply(this,arguments)}function zc(){return(zc=(0,m.Z)(function*(w,p={}){return Nt(w,"GET","/v1/projects",p)})).apply(this,arguments)}const us=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ws=/^https?/;function Zc(){return(Zc=(0,m.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Dn(w);for(const _ of p)try{if(f_(_))return}catch(I){}Oe(w,"unauthorized-domain")})).apply(this,arguments)}function f_(w){const p=Re(),{protocol:_,hostname:I}=new URL(p);if(w.startsWith("chrome-extension://")){const W=new URL(w);return""===W.hostname&&""===I?"chrome-extension:"===_&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&W.hostname===I}if(!Ws.test(_))return!1;if(us.test(w))return I===w;const S=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(I)}const Vn=new Bt(3e4,6e4);function ki(){const w=en().___jsl;if(null==w?void 0:w.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let ni=null;function nl(w){return ni=ni||function(w){return new Promise((p,_)=>{var I,S,M;function W(){ki(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ki(),_(Le(w,"network-request-failed"))},timeout:Vn.get()})}if(null===(S=null===(I=en().gapi)||void 0===I?void 0:I.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(M=en().gapi)||void 0===M?void 0:M.load)){const ge=ag("iframefcb");return en()[ge]=()=>{gapi.load?W():_(Le(w,"network-request-failed"))},Aa(`https://apis.google.com/js/api.js?onload=${ge}`)}W()}}).catch(p=>{throw ni=null,p})}(w),ni}const ls=new Bt(5e3,15e3),rf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},rl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sf(w){const p=w.config;ye(p.authDomain,w,"auth-domain-config-required");const _=p.emulator?fn(p,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:p.apiKey,appName:w.name,v:ne.SDK_VERSION},S=rl.get(w.config.apiHost);S&&(I.eid=S);const M=w._getFrameworks();return M.length&&(I.fw=M.join(",")),`${_}?${(0,j.xO)(I).slice(1)}`}function cs(){return(cs=(0,m.Z)(function*(w){const p=yield nl(w),_=en().gapi;return ye(_,w,"internal-error"),p.open({where:document.body,url:sf(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rf,dontclear:!0},I=>new Promise(function(){var S=(0,m.Z)(function*(M,W){yield I.restyle({setHideOnLeave:!1});const ge=Le(w,"network-request-failed"),Fe=en().setTimeout(()=>{W(ge)},ls.get());function $e(){en().clearTimeout(Fe),M(I)}I.ping($e).then($e,()=>{W(ge)})});return function(M,W){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const yt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Oo(w,p,_,I,S,M){ye(w.config.authDomain,w,"auth-domain-config-required"),ye(w.config.apiKey,w,"invalid-api-key");const W={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:I,v:ne.SDK_VERSION,eventId:S};if(p instanceof Io){p.setDefaultLanguage(w.languageCode),W.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Fe,$e]of Object.entries(M||{}))W[Fe]=$e}if(p instanceof Tu){const Fe=p.getScopes().filter($e=>""!==$e);Fe.length>0&&(W.scopes=Fe.join(","))}w.tenantId&&(W.tid=w.tenantId);const ge=W;for(const Fe of Object.keys(ge))void 0===ge[Fe]&&delete ge[Fe];return`${function({config:w}){return w.emulator?fn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,j.xO)(ge).slice(1)}`}const zs="webStorageSupport";class Po extends class{constructor(p){this.factorId=p}_process(p,_,I){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,I);case"signin":return this._finalizeSignIn(p,_.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Po(p)}_finalizeEnroll(p,_,I){return function(w,p){return Nt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:w.tenantId},p))}(p,{idToken:_,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function(w,p){return Nt(w,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:w.tenantId},p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class af{constructor(){}static assertion(p){return Po._fromCredential(p)}}var w;class ol{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,m.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(I=>{var S;p((null===(S=I)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fo(){return window}function jr(){return(jr=(0,m.Z)(function*(w,p,_){var I;const{BuildInfo:S}=Fo();se(p.sessionId,"AuthEvent did not contain a session ID");const M=yield Va(p.sessionId),W={};return yi()?W.ibi=S.packageName:pa()?W.apn=S.packageName:Oe(w,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=M,Oo(w,_,p.type,void 0,null!==(I=p.eventId)&&void 0!==I?I:void 0,W)})).apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(w){const{BuildInfo:p}=Fo(),_={};yi()?_.iosBundleId=p.packageName:pa()?_.androidPackageName=p.packageName:Oe(w,"operation-not-supported-in-this-environment"),yield Dn(w,_)})).apply(this,arguments)}function Jc(){return(Jc=(0,m.Z)(function*(w,p,_){const{cordova:I}=Fo();let S=()=>{};try{yield new Promise((M,W)=>{let ge=null;function Fe(){var et;M();const zt=null===(et=I.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof zt&&zt(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function $e(){ge||(ge=window.setTimeout(()=>{W(Le(w,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}p.addPassiveListener(Fe),document.addEventListener("resume",$e,!1),pa()&&document.addEventListener("visibilitychange",rt,!1),S=()=>{p.removePassiveListener(Fe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",rt,!1),ge&&window.clearTimeout(ge)}})}finally{S()}})).apply(this,arguments)}function Va(w){return ul.apply(this,arguments)}function ul(){return(ul=(0,m.Z)(function*(w){const p=C_(w),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function C_(w){if(se(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(w);const p=new ArrayBuffer(w.length),_=new Uint8Array(p);for(let I=0;I<w.length;I++)_[I]=w.charCodeAt(I);return _}w="Browser",(0,ne._registerComponent)(new Ee.wA("auth",(p,{options:_})=>{const I=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:M}=I.options;return(W=>{ye(S&&!S.includes(":"),"invalid-api-key",{appName:W.name}),ye(!(null==M?void 0:M.includes(":")),"argument-error",{appName:W.name});const ge={apiKey:S,authDomain:M,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(w)},Fe=new qy(W,ge);return function(w,p){const _=(null==p?void 0:p.persistence)||[],I=(Array.isArray(_)?_:[_]).map(ue);(null==p?void 0:p.errorMap)&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(I,null==p?void 0:p.popupRedirectResolver)}(Fe,_),Fe})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,I)=>{p.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new Ee.wA("auth-internal",p=>{const _=Ft(p.getProvider("auth").getImmediate());return new ol(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)("@firebase/auth","0.17.2",void 0);class _g extends os{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,m.Z)(function*(){yield p.initPromise})()}}function ed(w){return hs.apply(this,arguments)}function hs(){return(hs=(0,m.Z)(function*(w){const p=yield Ks()._get(td(w));return p&&(yield Ks()._remove(td(w))),p})).apply(this,arguments)}function Hr(){const w=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const I=Math.floor(Math.random()*p.length);w.push(p.charAt(I))}return w.join("")}function Ks(){return ue(kc)}function td(w){return $t("authEvent",w.config.apiKey,w.name)}function Ua(w){if(!(null==w?void 0:w.includes("?")))return{};const[p,..._]=w.split("?");return(0,j.zd)(_.join("?"))}function ll(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Le("no-auth-event")}}function id(){var w;return(null===(w=null==self?void 0:self.location)||void 0===w?void 0:w.protocol)||null}function cl(w=(0,j.z$)()){return!("file:"!==id()&&"ionic:"!==id()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function dl(){try{const w=self.localStorage,p=Fc();if(w)return w.setItem(p,"1"),w.removeItem(p),!function(w=(0,j.z$)()){return(0,j.w1)()&&11===(null==document?void 0:document.documentMode)||function(w=(0,j.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,j.hl)()}catch(w){return df()&&(0,j.hl)()}return!1}function df(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nn(){return("http:"===id()||"https:"===id()||(0,j.ru)()||cl())&&!((0,j.b$)()||(0,j.UG)())&&dl()&&!df()}function hf(){return cl()&&"undefined"!=typeof document}function Lo(){return(Lo=(0,m.Z)(function*(){return!!hf()&&new Promise(w=>{const p=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),w(!0)})})})).apply(this,arguments)}const Tn={LOCAL:"local",NONE:"none",SESSION:"session"},hl=ye,Ys="persistence";function ff(w){return pf.apply(this,arguments)}function pf(){return(pf=(0,m.Z)(function*(w){yield w._initializationPromise;const p=fl(),_=$t(Ys,w.config.apiKey,w.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(_,w._getPersistence())})).apply(this,arguments)}function fl(){return"undefined"!=typeof window?window:null}const fs=ye;class ln{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=is,this._completeRedirectFn=Wc}_openPopup(p,_,I,S){var M=this;return(0,m.Z)(function*(){var W;se(null===(W=M.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ge=Oo(p,_,I,Re(),S);return function(w,p,_,I=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-I)/2,0).toString();let ge="";const Fe=Object.assign(Object.assign({},yt),{width:I.toString(),height:S.toString(),top:M,left:W}),$e=(0,j.z$)().toLowerCase();_&&(ge=mh($e)?"_blank":_),fa($e)&&(p=p||"http://localhost",Fe.scrollbars="yes");const rt=Object.entries(Fe).reduce((zt,[wn,ps])=>`${zt}${wn}=${ps},`,"");if(function(w=(0,j.z$)()){var p;return yi(w)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}($e)&&"_self"!==ge)return function(w,p){const _=document.createElement("a");_.href=w,_.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(p||"",ge),new Yc(null);const et=window.open(p||"",ge,rt);ye(et,w,"popup-blocked");try{et.focus()}catch(zt){}return new Yc(et)}(p,ge,Fc())})()}_openRedirect(p,_,I,S){var M=this;return(0,m.Z)(function*(){return yield M._originValidation(p),w=Oo(p,_,I,Re(),S),en().location.href=w,new Promise(()=>{});var w})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:M}=this.eventManagers[_];return S?Promise.resolve(S):(se(M,"If manager is not set, promise should be"),M)}const I=this.initAndGetManager(p);return this.eventManagers[_]={promise:I},I}initAndGetManager(p){var _=this;return(0,m.Z)(function*(){const I=yield function(w){return cs.apply(this,arguments)}(p),S=new os(p);return I.register("authEvent",M=>(ye(null==M?void 0:M.authEvent,p,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=I,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(zs,{type:zs},S=>{var M;const W=null===(M=null==S?void 0:S[0])||void 0===M?void 0:M[zs];void 0!==W&&_(!!W),Oe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(w){return Zc.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Oi()||gh()||yi()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wc}_initialize(p){var _=this;return(0,m.Z)(function*(){const I=p._key();let S=_.eventManagers.get(I);return S||(S=new _g(p),_.eventManagers.set(I,S),_.attachCallbackListeners(p,S)),S})()}_openPopup(p){Oe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,I,S){var M=this;return(0,m.Z)(function*(){!function(w){var p,_,I,S,M,W,ge,Fe,$e,rt;const et=Fo();ye("function"==typeof(null===(p=null==et?void 0:et.universalLinks)||void 0===p?void 0:p.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(void 0!==(null===(_=null==et?void 0:et.BuildInfo)||void 0===_?void 0:_.packageName),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye("function"==typeof(null===(M=null===(S=null===(I=null==et?void 0:et.cordova)||void 0===I?void 0:I.plugins)||void 0===S?void 0:S.browsertab)||void 0===M?void 0:M.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(Fe=null===(ge=null===(W=null==et?void 0:et.cordova)||void 0===W?void 0:W.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Fe?void 0:Fe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(rt=null===($e=null==et?void 0:et.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===rt?void 0:rt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield M._initialize(p);yield W.initialized(),W.resetRedirect(),Sr.clear(),yield M._originValidation(p);const ge=function(w,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:Hr(),postBody:null,tenantId:w.tenantId,error:Le(w,"no-auth-event")}}(p,I,S);yield function(w,p){return Ks()._set(td(w),p)}(p,ge);const Fe=yield function(w,p,_){return jr.apply(this,arguments)}(p,ge,_),$e=yield function(w){const{cordova:p}=Fo();return new Promise(_=>{p.plugins.browsertab.isAvailable(I=>{let S=null;I?p.plugins.browsertab.openUrl(w):S=p.InAppBrowser.open(w,function(w=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),_(S)})})}(Fe);return function(w,p,_){return Jc.apply(this,arguments)}(p,W,$e)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(w){return ri.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:I,handleOpenURL:S,BuildInfo:M}=Fo(),W=setTimeout((0,m.Z)(function*(){yield ed(p),_.onEvent(ll())}),500),ge=function(){var rt=(0,m.Z)(function*(et){clearTimeout(W);const zt=yield ed(p);let wn=null;zt&&(null==et?void 0:et.url)&&(wn=function(w,p){var _,I;const S=function(w){const p=Ua(w),_=p.link?decodeURIComponent(p.link):void 0,I=Ua(_).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ua(S).link||S||I||_||w}(p);if(S.includes("/__/auth/callback")){const M=Ua(S),W=M.firebaseError?function(w){try{return JSON.parse(w)}catch(p){return null}}(decodeURIComponent(M.firebaseError)):null,ge=null===(I=null===(_=null==W?void 0:W.code)||void 0===_?void 0:_.split("auth/"))||void 0===I?void 0:I[1],Fe=ge?Le(ge):null;return Fe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:S,postBody:null}}return null}(zt,et.url)),_.onEvent(wn||ll())});return function(zt){return rt.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,ge);const Fe=S,$e=`${M.packageName.toLowerCase()}://`;Fo().handleOpenURL=function(){var rt=(0,m.Z)(function*(et){if(et.toLowerCase().startsWith($e)&&ge({url:et}),"function"==typeof Fe)try{Fe(et)}catch(zt){console.error(zt)}});return function(et){return rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=is,this._completeRedirectFn=Wc}_initialize(p){var _=this;return(0,m.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,I,S){var M=this;return(0,m.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,_,I,S)})()}_openRedirect(p,_,I,S){var M=this;return(0,m.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,_,I,S)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return hf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fs(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,m.Z)(function*(){if(p.underlyingResolver)return;const _=yield function(){return Lo.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function pl(w){return w.unwrap()}function Ag(w){return qn(w)}function Un(w,p){var _;const I=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new A_(w,function(w,p){var _;const I=(0,j.m9)(w),S=p;return ye(p.operationType,I,"argument-error"),ye(null===(_=S.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),Vh._fromError(I,S)}(w,p));else if(I){const S=qn(p),M=p;S&&(M.credential=S,M.tenantId=I.tenantId||void 0,M.email=I.email||void 0,M.phoneNumber=I.phoneNumber||void 0)}}function qn(w){const{_tokenResponse:p}=w instanceof j.ZR?w.customData:w;if(!p)return null;if(!(w instanceof j.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Hc.credentialFromResult(w);const _=p.providerId;if(!_||"password"===_)return null;let I;switch(_){case"google.com":I=bh;break;case"facebook.com":I=Ih;break;case"github.com":I=Dh;break;case"twitter.com":I=Th;break;default:const{oauthIdToken:S,oauthAccessToken:M,oauthTokenSecret:W,pendingToken:ge,nonce:Fe}=p;return M||W||S||ge?ge?_.startsWith("saml.")?Ea._create(_,ge):Ur._fromParams({providerId:_,signInMethod:_,pendingToken:ge,idToken:S,accessToken:M}):new bo(_).credential({idToken:S,accessToken:M,rawNonce:Fe}):null}return w instanceof j.ZR?I.credentialFromError(w):I.credentialFromResult(w)}function Wn(w,p){return ad.apply(this,arguments)}function ad(){return(ad=(0,m.Z)(function*(w,p){let _;try{_=yield p}catch(M){throw M instanceof j.ZR&&Un(w,M),M}const{operationType:I,user:S}=_;return{operationType:I,credential:Ag(_),additionalUserInfo:tg(_),user:Fi.getOrCreate(S)}})).apply(this,arguments)}function Ba(w,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,m.Z)(function*(w,p){const _=yield p;return{verificationId:_.verificationId,confirm:I=>Wn(w,_.confirm(I))}})).apply(this,arguments)}class A_{constructor(p,_){this.resolver=_,this.auth=function(w){return w.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Wn(pl(this.auth),this.resolver.resolveSignIn(p))}}class Fi{constructor(p){this._delegate=p,this.multiFactor=function(w){const p=(0,j.m9)(w);return Ia.has(p)||Ia.set(p,Ca._fromUser(p)),Ia.get(p)}(p)}static getOrCreate(p){return Fi.USER_MAP.has(p)||Fi.USER_MAP.set(p,new Fi(p)),Fi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,m.Z)(function*(){return Wn(_.auth,Zp(_._delegate,p))})()}linkWithPhoneNumber(p,_){var I=this;return(0,m.Z)(function*(){return Ba(I.auth,function(w,p,_){return xa.apply(this,arguments)}(I._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,m.Z)(function*(){return Wn(_.auth,function(w,p,_){return Ju.apply(this,arguments)}(_._delegate,p,ln))})()}linkWithRedirect(p){var _=this;return(0,m.Z)(function*(){return yield ff(Ft(_.auth)),function(w,p,_){return function(w,p,_){return Gs.apply(this,arguments)}(w,p,_)}(_._delegate,p,ln)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,m.Z)(function*(){return Wn(_.auth,Ru(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return Ba(this.auth,function(w,p,_){return lg.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return Wn(this.auth,function(w,p,_){return ss.apply(this,arguments)}(this._delegate,p,ln))}reauthenticateWithRedirect(p){var _=this;return(0,m.Z)(function*(){return yield ff(Ft(_.auth)),function(w,p,_){return function(w,p,_){return tl.apply(this,arguments)}(w,p,_)}(_._delegate,p,ln)})()}sendEmailVerification(p){return function(w,p){return ks.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,m.Z)(function*(){return yield function(w,p){return xc.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function(w,p){return kh((0,j.m9)(w),p,null)}(this._delegate,p)}updatePassword(p){return function(w,p){return kh((0,j.m9)(w),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(w,p){return Bs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(w,p){return Oh.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function(w,p,_){return Qr.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fi.USER_MAP=new WeakMap;const gl=ye;let gf=(()=>{class w{constructor(_,I){if(this.app=_,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=_.options;gl(S,"invalid-api-key",{appName:_.name});let M=[xn];if("undefined"!=typeof window){M=function(w,p){const _=fl();if(!(null==_?void 0:_.sessionStorage))return[];const I=$t(Ys,w,p);switch(_.sessionStorage.getItem(I)){case Tn.NONE:return[xn];case Tn.LOCAL:return[Ta,is];case Tn.SESSION:return[is];default:return[]}}(S,_.name);for(const ge of[Ta,kc,is])M.includes(ge)||M.push(ge)}gl(S,"invalid-api-key",{appName:_.name});const W="undefined"!=typeof window?ln:void 0;this._delegate=I.initialize({options:{persistence:M,popupRedirectResolver:W}}),this._delegate._updateErrorMap(le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,I){!function(w,p,_){const I=Ft(w);ye(I._canInitEmulator,I,"emulator-config-failed"),ye(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),M=Wt(p),{host:W,port:ge}=function(w){const p=Wt(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!_)return{host:"",port:null};const I=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(I);if(S){const M=S[1];return{host:M,port:xs(I.substr(M.length+1))}}{const[M,W]=I.split(":");return{host:M,port:xs(W)}}}(p);I.config.emulator={url:`${M}//${W}${null===ge?"":`:${ge}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:W,port:ge,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),function(w){function p(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!w&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}(S)}(this._delegate,_,I)}applyActionCode(_){return function(w,p){return To.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Fu(this._delegate,_)}confirmPasswordReset(_,I){return function(w,p,_){return it.apply(this,arguments)}(this._delegate,_,I)}createUserWithEmailAndPassword(_,I){var S=this;return(0,m.Z)(function*(){return Wn(S._delegate,function(w,p,_){return Ie.apply(this,arguments)}(S._delegate,_,I))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(w,p){return Jp.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(w,p){const _=Ac.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,m.Z)(function*(){gl(nn(),_._delegate,"operation-not-supported-in-this-environment");const I=yield function(w,p){return qs.apply(this,arguments)}(_._delegate,ln);return I?Wn(_._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(w,p){Ft(w)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,I,S){const{next:M,error:W,complete:ge}=ml(_,I,S);return this._delegate.onAuthStateChanged(M,W,ge)}onIdTokenChanged(_,I,S){const{next:M,error:W,complete:ge}=ml(_,I,S);return this._delegate.onIdTokenChanged(M,W,ge)}sendSignInLinkToEmail(_,I){return function(w,p,_){return _n.apply(this,arguments)}(this._delegate,_,I)}sendPasswordResetEmail(_,I){return function(w,p,_){return Pc.apply(this,arguments)}(this._delegate,_,I||void 0)}setPersistence(_){var I=this;return(0,m.Z)(function*(){let S;switch(function(w,p){hl(Object.values(Tn).includes(p),w,"invalid-persistence-type"),(0,j.b$)()?hl(p!==Tn.SESSION,w,"unsupported-persistence-type"):(0,j.UG)()?hl(p===Tn.NONE,w,"unsupported-persistence-type"):df()?hl(p===Tn.NONE||p===Tn.LOCAL&&(0,j.hl)(),w,"unsupported-persistence-type"):hl(p===Tn.NONE||dl(),w,"unsupported-persistence-type")}(I._delegate,_),_){case Tn.SESSION:S=is;break;case Tn.LOCAL:S=(yield ue(Ta)._isAvailable())?Ta:kc;break;case Tn.NONE:S=xn;break;default:return Oe("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Wn(this._delegate,function(w){return Su.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Wn(this._delegate,Oc(this._delegate,_))}signInWithCustomToken(_){return Wn(this._delegate,function(w,p){return lr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,I){return Wn(this._delegate,function(w,p,_){return Oc((0,j.m9)(w),qp.credential(p,_))}(this._delegate,_,I))}signInWithEmailLink(_,I){return Wn(this._delegate,function(w,p,_){return Yr.apply(this,arguments)}(this._delegate,_,I))}signInWithPhoneNumber(_,I){return Ba(this._delegate,function(w,p,_){return Kh.apply(this,arguments)}(this._delegate,_,I))}signInWithPopup(_){var I=this;return(0,m.Z)(function*(){return gl(nn(),I._delegate,"operation-not-supported-in-this-environment"),Wn(I._delegate,function(w,p,_){return ti.apply(this,arguments)}(I._delegate,_,ln))})()}signInWithRedirect(_){var I=this;return(0,m.Z)(function*(){return gl(nn(),I._delegate,"operation-not-supported-in-this-environment"),yield ff(I._delegate),function(w,p,_){return function(w,p,_){return Jh.apply(this,arguments)}(w,p,_)}(I._delegate,_,ln)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(w,p){return Ao.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=Tn,w})();function ml(w,p,_){let I=w;"function"!=typeof w&&({next:I,error:p,complete:_}=w);const S=I;return{next:W=>S(W&&Fi.getOrCreate(W)),error:p,complete:_}}class ud{constructor(){this.providerId="phone",this._delegate=new Hc(pl(oe.Z.auth()))}static credential(p,_){return Hc.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}ud.PHONE_SIGN_IN_METHOD=Hc.PHONE_SIGN_IN_METHOD,ud.PROVIDER_ID=Hc.PROVIDER_ID;const Sg=ye;class ja{constructor(p,_,I=oe.Z.app()){var S;Sg(null===(S=I.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Uw(p,_,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(w){w.INTERNAL.registerComponent(new Ee.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),I=p.getProvider("auth");return new gf(_,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qp,FacebookAuthProvider:Ih,GithubAuthProvider:Dh,GoogleAuthProvider:bh,OAuthProvider:bo,PhoneAuthProvider:ud,PhoneMultiFactorGenerator:af,RecaptchaVerifier:ja,TwitterAuthProvider:Th,Auth:gf,AuthCredential:ur,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.1.2")}(oe.Z)},7574:(We,Ce,k)=>{"use strict";k.d(Ce,{y:()=>B});var m=k(7393),j=k(9181),ne=k(6490),ie=k(6554),Ee=k(4487);var F=k(2494);let B=(()=>{class U{constructor(le){this._isScalar=!1,le&&(this._subscribe=le)}lift(le){const te=new U;return te.source=this,te.operator=le,te}subscribe(le,te,ee){const{operator:Me}=this,Ae=function(U,q,le){if(U){if(U instanceof m.L)return U;if(U[j.b])return U[j.b]()}return U||q||le?new m.L(U,q,le):new m.L(ne.c)}(le,te,ee);if(Ae.add(Me?Me.call(Ae,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),F.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(le){try{return this._subscribe(le)}catch(te){F.v.useDeprecatedSynchronousErrorHandling&&(le.syncErrorThrown=!0,le.syncErrorValue=te),function(U){for(;U;){const{closed:q,destination:le,isStopped:te}=U;if(q||te)return!1;U=le&&le instanceof m.L?le:null}return!0}(le)?le.error(te):console.warn(te)}}forEach(le,te){return new(te=H(te))((ee,Me)=>{let Ae;Ae=this.subscribe(xe=>{try{le(xe)}catch(Oe){Me(Oe),Ae&&Ae.unsubscribe()}},Me,ee)})}_subscribe(le){const{source:te}=this;return te&&te.subscribe(le)}[ie.L](){return this}pipe(...le){return 0===le.length?this:function(U){return 0===U.length?Ee.y:1===U.length?U[0]:function(le){return U.reduce((te,ee)=>ee(te),le)}}(le)(this)}toPromise(le){return new(le=H(le))((te,ee)=>{let Me;this.subscribe(Ae=>Me=Ae,Ae=>ee(Ae),()=>te(Me))})}}return U.create=q=>new U(q),U})();function H(U){if(U||(U=F.v.Promise||Promise),!U)throw new Error("no Promise impl found");return U}},6490:(We,Ce,k)=>{"use strict";k.d(Ce,{c:()=>j});var m=k(2494),oe=k(4449);const j={closed:!0,next(ne){},error(ne){if(m.v.useDeprecatedSynchronousErrorHandling)throw ne;(0,oe.z)(ne)},complete(){}}},9765:(We,Ce,k)=>{"use strict";k.d(Ce,{Yc:()=>Ee,xQ:()=>pe});var m=k(7574),oe=k(7393),j=k(5319),ne=k(7971),me=k(8858),ie=k(9181);class Ee extends oe.L{constructor(B){super(B),this.destination=B}}let pe=(()=>{class F extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new Ee(this)}lift(H){const U=new z(this,this);return U.operator=H,U}next(H){if(this.closed)throw new ne.N;if(!this.isStopped){const{observers:U}=this,q=U.length,le=U.slice();for(let te=0;te<q;te++)le[te].next(H)}}error(H){if(this.closed)throw new ne.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:U}=this,q=U.length,le=U.slice();for(let te=0;te<q;te++)le[te].error(H);this.observers.length=0}complete(){if(this.closed)throw new ne.N;this.isStopped=!0;const{observers:H}=this,U=H.length,q=H.slice();for(let le=0;le<U;le++)q[le].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new ne.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new ne.N;return this.hasError?(H.error(this.thrownError),j.w.EMPTY):this.isStopped?(H.complete(),j.w.EMPTY):(this.observers.push(H),new me.W(this,H))}asObservable(){const H=new m.y;return H.source=this,H}}return F.create=(B,H)=>new z(B,H),F})();class z extends pe{constructor(B,H){super(),this.destination=B,this.source=H}next(B){const{destination:H}=this;H&&H.next&&H.next(B)}error(B){const{destination:H}=this;H&&H.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:H}=this;return H?this.source.subscribe(B):j.w.EMPTY}}},8858:(We,Ce,k)=>{"use strict";k.d(Ce,{W:()=>oe});var m=k(5319);class oe extends m.w{constructor(ne,me){super(),this.subject=ne,this.subscriber=me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,me=ne.observers;if(this.subject=null,!me||0===me.length||ne.isStopped||ne.closed)return;const ie=me.indexOf(this.subscriber);-1!==ie&&me.splice(ie,1)}}},7393:(We,Ce,k)=>{"use strict";k.d(Ce,{L:()=>Ee});var m=k(9105),oe=k(6490),j=k(5319),ne=k(9181),me=k(2494),ie=k(4449);class Ee extends j.w{constructor(F,B,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=oe.c;break;case 1:if(!F){this.destination=oe.c;break}if("object"==typeof F){F instanceof Ee?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new pe(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new pe(this,F,B,H)}}[ne.b](){return this}static create(F,B,H){const U=new Ee(F,B,H);return U.syncErrorThrowable=!1,U}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class pe extends Ee{constructor(F,B,H,U){super(),this._parentSubscriber=F;let q,le=this;(0,m.m)(B)?q=B:B&&(q=B.next,H=B.error,U=B.complete,B!==oe.c&&(le=Object.create(B),(0,m.m)(le.unsubscribe)&&this.add(le.unsubscribe.bind(le)),le.unsubscribe=this.unsubscribe.bind(this))),this._context=le,this._next=q,this._error=H,this._complete=U}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;me.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:H}=me.v;if(this._error)H&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(B.syncErrorThrowable)H?(B.syncErrorValue=F,B.syncErrorThrown=!0):(0,ie.z)(F),this.unsubscribe();else{if(this.unsubscribe(),H)throw F;(0,ie.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const B=()=>this._complete.call(this._context);me.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,B){try{F.call(this._context,B)}catch(H){if(this.unsubscribe(),me.v.useDeprecatedSynchronousErrorHandling)throw H;(0,ie.z)(H)}}__tryOrSetError(F,B,H){if(!me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,H)}catch(U){return me.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=U,F.syncErrorThrown=!0,!0):((0,ie.z)(U),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(We,Ce,k)=>{"use strict";k.d(Ce,{w:()=>ie});var m=k(9796),oe=k(1555),j=k(9105);const me=(()=>{function pe(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((F,B)=>`${B+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return pe.prototype=Object.create(Error.prototype),pe})();class ie{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:B,_unsubscribe:H,_subscriptions:U}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ie)F.remove(this);else if(null!==F)for(let q=0;q<F.length;++q)F[q].remove(this);if((0,j.m)(H)){B&&(this._unsubscribe=void 0);try{H.call(this)}catch(q){z=q instanceof me?Ee(q.errors):[q]}}if((0,m.k)(U)){let q=-1,le=U.length;for(;++q<le;){const te=U[q];if((0,oe.K)(te))try{te.unsubscribe()}catch(ee){z=z||[],ee instanceof me?z=z.concat(Ee(ee.errors)):z.push(ee)}}}if(z)throw new me(z)}add(z){let F=z;if(!z)return ie.EMPTY;switch(typeof z){case"function":F=new ie(z);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ie)){const U=F;F=new ie,F._subscriptions=[U]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:B}=F;if(null===B)F._parentOrParents=this;else if(B instanceof ie){if(B===this)return F;F._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return F;B.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[F]:H.push(F),F}remove(z){const F=this._subscriptions;if(F){const B=F.indexOf(z);-1!==B&&F.splice(B,1)}}}var pe;function Ee(pe){return pe.reduce((z,F)=>z.concat(F instanceof me?F.errors:F),[])}ie.EMPTY=((pe=new ie).closed=!0,pe)},2494:(We,Ce,k)=>{"use strict";k.d(Ce,{v:()=>oe});let m=!1;const oe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=j},get useDeprecatedSynchronousErrorHandling(){return m}}},5345:(We,Ce,k)=>{"use strict";k.d(Ce,{IY:()=>ne,Ds:()=>ie,ft:()=>pe});var m=k(7393),oe=k(7574),j=k(7444);class ne extends m.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends m.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function pe(z,F){if(F.closed)return;if(z instanceof oe.y)return z.subscribe(F);let B;try{B=(0,j.s)(z)(F)}catch(H){F.error(H)}return B}},2441:(We,Ce,k)=>{"use strict";k.d(Ce,{c:()=>me,N:()=>ie});var m=k(9765),oe=k(7574),j=k(5319),ne=k(1307);class me extends oe.y{constructor(B,H){super(),this.source=B,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new j.w,B.add(this.source.subscribe(new Ee(this.getSubject(),this))),B.closed&&(this._connection=null,B=j.w.EMPTY)),B}refCount(){return(0,ne.x)()(this)}}const ie=(()=>{const F=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class Ee extends m.Yc{constructor(B,H){super(B),this.connectable=H}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const H=B._connection;B._refCount=0,B._subject=null,B._connection=null,H&&H.unsubscribe()}}}},9193:(We,Ce,k)=>{"use strict";k.d(Ce,{E:()=>oe,c:()=>j});var m=k(7574);const oe=new m.y(me=>me.complete());function j(me){return me?function(me){return new m.y(ie=>me.schedule(()=>ie.complete()))}(me):oe}},4402:(We,Ce,k)=>{"use strict";k.d(Ce,{D:()=>le});var m=k(7574),oe=k(7444),j=k(5319),ne=k(6554),Ee=k(4087),pe=k(377),B=k(4072),H=k(9489);function le(te,ee){return ee?function(te,ee){if(null!=te){if(function(te){return te&&"function"==typeof te[ne.L]}(te))return function(te,ee){return new m.y(Me=>{const Ae=new j.w;return Ae.add(ee.schedule(()=>{const xe=te[ne.L]();Ae.add(xe.subscribe({next(Oe){Ae.add(ee.schedule(()=>Me.next(Oe)))},error(Oe){Ae.add(ee.schedule(()=>Me.error(Oe)))},complete(){Ae.add(ee.schedule(()=>Me.complete()))}}))})),Ae})}(te,ee);if((0,B.t)(te))return function(te,ee){return new m.y(Me=>{const Ae=new j.w;return Ae.add(ee.schedule(()=>te.then(xe=>{Ae.add(ee.schedule(()=>{Me.next(xe),Ae.add(ee.schedule(()=>Me.complete()))}))},xe=>{Ae.add(ee.schedule(()=>Me.error(xe)))}))),Ae})}(te,ee);if((0,H.z)(te))return(0,Ee.r)(te,ee);if(function(te){return te&&"function"==typeof te[pe.hZ]}(te)||"string"==typeof te)return function(te,ee){if(!te)throw new Error("Iterable cannot be null");return new m.y(Me=>{const Ae=new j.w;let xe;return Ae.add(()=>{xe&&"function"==typeof xe.return&&xe.return()}),Ae.add(ee.schedule(()=>{xe=te[pe.hZ](),Ae.add(ee.schedule(function(){if(Me.closed)return;let Oe,Le;try{const ke=xe.next();Oe=ke.value,Le=ke.done}catch(ke){return void Me.error(ke)}Le?Me.complete():(Me.next(Oe),this.schedule())}))})),Ae})}(te,ee)}throw new TypeError((null!==te&&typeof te||te)+" is not observable")}(te,ee):te instanceof m.y?te:new m.y((0,oe.s)(te))}},6693:(We,Ce,k)=>{"use strict";k.d(Ce,{n:()=>ne});var m=k(7574),oe=k(5015),j=k(4087);function ne(me,ie){return ie?(0,j.r)(me,ie):new m.y((0,oe.V)(me))}},6682:(We,Ce,k)=>{"use strict";k.d(Ce,{T:()=>me});var m=k(7574),oe=k(4869),j=k(3282),ne=k(6693);function me(...ie){let Ee=Number.POSITIVE_INFINITY,pe=null,z=ie[ie.length-1];return(0,oe.K)(z)?(pe=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(Ee=ie.pop())):"number"==typeof z&&(Ee=ie.pop()),null===pe&&1===ie.length&&ie[0]instanceof m.y?ie[0]:(0,j.J)(Ee)((0,ne.n)(ie,pe))}},5917:(We,Ce,k)=>{"use strict";k.d(Ce,{of:()=>ne});var m=k(4869),oe=k(6693),j=k(4087);function ne(...me){let ie=me[me.length-1];return(0,m.K)(ie)?(me.pop(),(0,j.r)(me,ie)):(0,oe.n)(me)}},8002:(We,Ce,k)=>{"use strict";k.d(Ce,{U:()=>oe});var m=k(7393);function oe(me,ie){return function(pe){if("function"!=typeof me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return pe.lift(new j(me,ie))}}class j{constructor(ie,Ee){this.project=ie,this.thisArg=Ee}call(ie,Ee){return Ee.subscribe(new ne(ie,this.project,this.thisArg))}}class ne extends m.L{constructor(ie,Ee,pe){super(ie),this.project=Ee,this.count=0,this.thisArg=pe||this}_next(ie){let Ee;try{Ee=this.project.call(this.thisArg,ie,this.count++)}catch(pe){return void this.destination.error(pe)}this.destination.next(Ee)}}},3282:(We,Ce,k)=>{"use strict";k.d(Ce,{J:()=>j});var m=k(9773),oe=k(4487);function j(ne=Number.POSITIVE_INFINITY){return(0,m.zg)(oe.y,ne)}},9773:(We,Ce,k)=>{"use strict";k.d(Ce,{zg:()=>ne});var m=k(8002),oe=k(4402),j=k(5345);function ne(pe,z,F=Number.POSITIVE_INFINITY){return"function"==typeof z?B=>B.pipe(ne((H,U)=>(0,oe.D)(pe(H,U)).pipe((0,m.U)((q,le)=>z(H,q,U,le))),F)):("number"==typeof z&&(F=z),B=>B.lift(new me(pe,F)))}class me{constructor(z,F=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=F}call(z,F){return F.subscribe(new ie(z,this.project,this.concurrent))}}class ie extends j.Ds{constructor(z,F,B=Number.POSITIVE_INFINITY){super(z),this.project=F,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let F;const B=this.index++;try{F=this.project(z,B)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(F)}_innerSub(z){const F=new j.IY(this),B=this.destination;B.add(F);const H=(0,j.ft)(z,F);H!==F&&B.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(We,Ce,k)=>{"use strict";k.d(Ce,{ht:()=>B,QV:()=>z});var m=k(7393),oe=k(9193),j=k(5917),ne=k(7574);class pe{constructor(q,le,te){this.kind=q,this.value=le,this.error=te,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,le,te){switch(this.kind){case"N":return q&&q(this.value);case"E":return le&&le(this.error);case"C":return te&&te()}}accept(q,le,te){return q&&"function"==typeof q.next?this.observe(q):this.do(q,le,te)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return U=this.error,new ne.y(le=>le.error(U));case"C":return(0,oe.c)()}var U;throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new pe("N",q):pe.undefinedValueNotification}static createError(q){return new pe("E",void 0,q)}static createComplete(){return pe.completeNotification}}function z(U,q=0){return function(te){return te.lift(new F(U,q))}}pe.completeNotification=new pe("C"),pe.undefinedValueNotification=new pe("N",void 0);class F{constructor(q,le=0){this.scheduler=q,this.delay=le}call(q,le){return le.subscribe(new B(q,this.scheduler,this.delay))}}class B extends m.L{constructor(q,le,te=0){super(q),this.scheduler=le,this.delay=te}static dispatch(q){const{notification:le,destination:te}=q;le.observe(te),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(B.dispatch,this.delay,new H(q,this.destination)))}_next(q){this.scheduleMessage(pe.createNext(q))}_error(q){this.scheduleMessage(pe.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(pe.createComplete()),this.unsubscribe()}}class H{constructor(q,le){this.notification=q,this.destination=le}}},1307:(We,Ce,k)=>{"use strict";k.d(Ce,{x:()=>oe});var m=k(7393);function oe(){return function(ie){return ie.lift(new j(ie))}}class j{constructor(ie){this.connectable=ie}call(ie,Ee){const{connectable:pe}=this;pe._refCount++;const z=new ne(ie,pe),F=Ee.subscribe(z);return z.closed||(z.connection=pe.connect()),F}}class ne extends m.L{constructor(ie,Ee){super(ie),this.connectable=Ee}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const Ee=ie._refCount;if(Ee<=0)return void(this.connection=null);if(ie._refCount=Ee-1,Ee>1)return void(this.connection=null);const{connection:pe}=this,z=ie._connection;this.connection=null,z&&(!pe||z===pe)&&z.unsubscribe()}}},3101:(We,Ce,k)=>{"use strict";k.d(Ce,{R:()=>ee});var m=k(7574);let oe=1;const j=Promise.resolve(),ne={};function me(Ae){return Ae in ne&&(delete ne[Ae],!0)}const ie={setImmediate(Ae){const xe=oe++;return ne[xe]=!0,j.then(()=>me(xe)&&Ae()),xe},clearImmediate(Ae){me(Ae)}};var pe=k(6465),F=k(6102);const U=new class extends F.v{flush(xe){this.active=!0,this.scheduled=void 0;const{actions:Oe}=this;let Le,ke=-1,at=Oe.length;xe=xe||Oe.shift();do{if(Le=xe.execute(xe.state,xe.delay))break}while(++ke<at&&(xe=Oe.shift()));if(this.active=!1,Le){for(;++ke<at&&(xe=Oe.shift());)xe.unsubscribe();throw Le}}}(class extends pe.o{constructor(xe,Oe){super(xe,Oe),this.scheduler=xe,this.work=Oe}requestAsyncId(xe,Oe,Le=0){return null!==Le&&Le>0?super.requestAsyncId(xe,Oe,Le):(xe.actions.push(this),xe.scheduled||(xe.scheduled=ie.setImmediate(xe.flush.bind(xe,null))))}recycleAsyncId(xe,Oe,Le=0){if(null!==Le&&Le>0||null===Le&&this.delay>0)return super.recycleAsyncId(xe,Oe,Le);0===xe.actions.length&&(ie.clearImmediate(Oe),xe.scheduled=void 0)}});var q=k(9796);class te extends m.y{constructor(xe,Oe=0,Le=U){var Ae;super(),this.source=xe,this.delayTime=Oe,this.scheduler=Le,(!(!(0,q.k)(Ae=Oe)&&Ae-parseFloat(Ae)+1>=0)||Oe<0)&&(this.delayTime=0),(!Le||"function"!=typeof Le.schedule)&&(this.scheduler=U)}static create(xe,Oe=0,Le=U){return new te(xe,Oe,Le)}static dispatch(xe){const{source:Oe,subscriber:Le}=xe;return this.add(Oe.subscribe(Le))}_subscribe(xe){return this.scheduler.schedule(te.dispatch,this.delayTime,{source:this.source,subscriber:xe})}}function ee(Ae,xe=0){return function(Le){return Le.lift(new Me(Ae,xe))}}class Me{constructor(xe,Oe){this.scheduler=xe,this.delay=Oe}call(xe,Oe){return new te(Oe,this.delay,this.scheduler).subscribe(xe)}}},3342:(We,Ce,k)=>{"use strict";k.d(Ce,{b:()=>ne});var m=k(7393);function oe(){}var j=k(9105);function ne(Ee,pe,z){return function(B){return B.lift(new me(Ee,pe,z))}}class me{constructor(pe,z,F){this.nextOrObserver=pe,this.error=z,this.complete=F}call(pe,z){return z.subscribe(new ie(pe,this.nextOrObserver,this.error,this.complete))}}class ie extends m.L{constructor(pe,z,F,B){super(pe),this._tapNext=oe,this._tapError=oe,this._tapComplete=oe,this._tapError=F||oe,this._tapComplete=B||oe,(0,j.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||oe,this._tapError=z.error||oe,this._tapComplete=z.complete||oe)}_next(pe){try{this._tapNext.call(this._context,pe)}catch(z){return void this.destination.error(z)}this.destination.next(pe)}_error(pe){try{this._tapError.call(this._context,pe)}catch(z){return void this.destination.error(z)}this.destination.error(pe)}_complete(){try{this._tapComplete.call(this._context)}catch(pe){return void this.destination.error(pe)}return this.destination.complete()}}},4087:(We,Ce,k)=>{"use strict";k.d(Ce,{r:()=>j});var m=k(7574),oe=k(5319);function j(ne,me){return new m.y(ie=>{const Ee=new oe.w;let pe=0;return Ee.add(me.schedule(function(){pe!==ne.length?(ie.next(ne[pe++]),ie.closed||Ee.add(this.schedule())):ie.complete()})),Ee})}},6465:(We,Ce,k)=>{"use strict";k.d(Ce,{o:()=>j});var m=k(5319);class oe extends m.w{constructor(me,ie){super()}schedule(me,ie=0){return this}}class j extends oe{constructor(me,ie){super(me,ie),this.scheduler=me,this.work=ie,this.pending=!1}schedule(me,ie=0){if(this.closed)return this;this.state=me;const Ee=this.id,pe=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(pe,Ee,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(pe,this.id,ie),this}requestAsyncId(me,ie,Ee=0){return setInterval(me.flush.bind(me,this),Ee)}recycleAsyncId(me,ie,Ee=0){if(null!==Ee&&this.delay===Ee&&!1===this.pending)return ie;clearInterval(ie)}execute(me,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(me,ie);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,ie){let pe,Ee=!1;try{this.work(me)}catch(z){Ee=!0,pe=!!z&&z||new Error(z)}if(Ee)return this.unsubscribe(),pe}_unsubscribe(){const me=this.id,ie=this.scheduler,Ee=ie.actions,pe=Ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==pe&&Ee.splice(pe,1),null!=me&&(this.id=this.recycleAsyncId(ie,me,null)),this.delay=null}}},6102:(We,Ce,k)=>{"use strict";k.d(Ce,{v:()=>oe});let m=(()=>{class j{constructor(me,ie=j.now){this.SchedulerAction=me,this.now=ie}schedule(me,ie=0,Ee){return new this.SchedulerAction(this,me).schedule(Ee,ie)}}return j.now=()=>Date.now(),j})();class oe extends m{constructor(ne,me=m.now){super(ne,()=>oe.delegate&&oe.delegate!==this?oe.delegate.now():me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ne,me=0,ie){return oe.delegate&&oe.delegate!==this?oe.delegate.schedule(ne,me,ie):super.schedule(ne,me,ie)}flush(ne){const{actions:me}=this;if(this.active)return void me.push(ne);let ie;this.active=!0;do{if(ie=ne.execute(ne.state,ne.delay))break}while(ne=me.shift());if(this.active=!1,ie){for(;ne=me.shift();)ne.unsubscribe();throw ie}}}},3637:(We,Ce,k)=>{"use strict";k.d(Ce,{z:()=>j});var m=k(6465);const j=new(k(6102).v)(m.o)},7771:(We,Ce,k)=>{"use strict";k.d(Ce,{c:()=>ie,N:()=>me});var m=k(6465),j=k(6102);const me=new class extends j.v{}(class extends m.o{constructor(pe,z){super(pe,z),this.scheduler=pe,this.work=z}schedule(pe,z=0){return z>0?super.schedule(pe,z):(this.delay=z,this.state=pe,this.scheduler.flush(this),this)}execute(pe,z){return z>0||this.closed?super.execute(pe,z):this._execute(pe,z)}requestAsyncId(pe,z,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(pe,z,F):pe.flush(this)}}),ie=me},377:(We,Ce,k)=>{"use strict";k.d(Ce,{hZ:()=>oe});const oe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,Ce,k)=>{"use strict";k.d(Ce,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,Ce,k)=>{"use strict";k.d(Ce,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,Ce,k)=>{"use strict";k.d(Ce,{N:()=>oe});const oe=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},4449:(We,Ce,k)=>{"use strict";function m(oe){setTimeout(()=>{throw oe},0)}k.d(Ce,{z:()=>m})},4487:(We,Ce,k)=>{"use strict";function m(oe){return oe}k.d(Ce,{y:()=>m})},9796:(We,Ce,k)=>{"use strict";k.d(Ce,{k:()=>m});const m=Array.isArray||(oe=>oe&&"number"==typeof oe.length)},9489:(We,Ce,k)=>{"use strict";k.d(Ce,{z:()=>m});const m=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},9105:(We,Ce,k)=>{"use strict";function m(oe){return"function"==typeof oe}k.d(Ce,{m:()=>m})},1555:(We,Ce,k)=>{"use strict";function m(oe){return null!==oe&&"object"==typeof oe}k.d(Ce,{K:()=>m})},4072:(We,Ce,k)=>{"use strict";function m(oe){return!!oe&&"function"!=typeof oe.subscribe&&"function"==typeof oe.then}k.d(Ce,{t:()=>m})},4869:(We,Ce,k)=>{"use strict";function m(oe){return oe&&"function"==typeof oe.schedule}k.d(Ce,{K:()=>m})},7444:(We,Ce,k)=>{"use strict";k.d(Ce,{s:()=>B});var m=k(5015),oe=k(4449),ne=k(377),ie=k(6554),pe=k(9489),z=k(4072),F=k(1555);const B=H=>{if(H&&"function"==typeof H[ie.L])return(H=>U=>{const q=H[ie.L]();if("function"!=typeof q.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return q.subscribe(U)})(H);if((0,pe.z)(H))return(0,m.V)(H);if((0,z.t)(H))return(H=>U=>(H.then(q=>{U.closed||(U.next(q),U.complete())},q=>U.error(q)).then(null,oe.z),U))(H);if(H&&"function"==typeof H[ne.hZ])return(H=>U=>{const q=H[ne.hZ]();for(;;){let le;try{le=q.next()}catch(te){return U.error(te),U}if(le.done){U.complete();break}if(U.next(le.value),U.closed)break}return"function"==typeof q.return&&U.add(()=>{q.return&&q.return()}),U})(H);{const q=`You provided ${(0,F.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(q)}}},5015:(We,Ce,k)=>{"use strict";k.d(Ce,{V:()=>m});const m=oe=>j=>{for(let ne=0,me=oe.length;ne<me&&!j.closed;ne++)j.next(oe[ne]);j.complete()}},9286:(We,Ce,k)=>{"use strict";var m=k(3018);let oe=null;function j(){return oe}const Ee=new m.OlP("DocumentToken");let pe=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,m.Yz7)({factory:z,token:i,providedIn:"platform"}),i})();function z(){return(0,m.LFG)(B)}const F=new m.OlP("Location Initialized");let B=(()=>{class i extends pe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(r){const a=j().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=j().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,l){H()?this._history.pushState(r,a,l):this.location.hash=l}replaceState(r,a,l){H()?this._history.replaceState(r,a,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(Ee))},i.\u0275prov=(0,m.Yz7)({factory:U,token:i,providedIn:"platform"}),i})();function H(){return!!window.history.pushState}function U(){return new B((0,m.LFG)(Ee))}function q(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function le(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function te(i){return i&&"?"!==i[0]?"?"+i:i}let ee=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,m.Yz7)({factory:Me,token:i,providedIn:"root"}),i})();function Me(i){const n=(0,m.LFG)(Ee).location;return new xe((0,m.LFG)(pe),n&&n.origin||"")}const Ae=new m.OlP("appBaseHref");let xe=(()=>{class i extends ee{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return q(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+te(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${a}${l}`:a}pushState(r,a,l,h){const g=this.prepareExternalUrl(l+te(h));this._platformLocation.pushState(r,a,g)}replaceState(r,a,l,h){const g=this.prepareExternalUrl(l+te(h));this._platformLocation.replaceState(r,a,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(pe),m.LFG(Ae,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),Oe=(()=>{class i extends ee{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=q(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,l,h){let g=this.prepareExternalUrl(l+te(h));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(r,a,g)}replaceState(r,a,l,h){let g=this.prepareExternalUrl(l+te(h));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(pe),m.LFG(Ae,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),Le=(()=>{class i{constructor(r,a){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=le(qt(l)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+te(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,qt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",l=null){this._platformStrategy.pushState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+te(a)),l)}replaceState(r,a="",l=null){this._platformStrategy.replaceState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+te(a)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformStrategy).historyGo)||void 0===l||l.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(l=>l(r,a))}subscribe(r,a,l){return this._subject.subscribe({next:r,error:a,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(ee),m.LFG(pe))},i.normalizeQueryParams=te,i.joinWithSlash=q,i.stripTrailingSlash=le,i.\u0275prov=(0,m.Yz7)({factory:ke,token:i,providedIn:"root"}),i})();function ke(){return new Le((0,m.LFG)(ee),(0,m.LFG)(pe))}function qt(i){return i.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Zero=0]="Zero",se[se.One=1]="One",se[se.Two=2]="Two",se[se.Few=3]="Few",se[se.Many=4]="Many",se[se.Other=5]="Other",se))();const br=m.kL8;class ur{}let wo=(()=>{class i extends ur{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(br(a||this.locale)(r)){case se.Zero:return"zero";case se.One:return"one";case se.Two:return"two";case se.Few:return"few";case se.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(m.soG))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();class yh{constructor(n,r,a,l){this.$implicit=n,this.ngForOf=r,this.index=a,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xi=(()=>{class i{constructor(r,a,l){this._viewContainer=r,this._template=a,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=[];r.forEachOperation((l,h,g)=>{if(null==l.previousIndex){const C=this._viewContainer.createEmbeddedView(this._template,new yh(null,this._ngForOf,-1,-1),null===g?void 0:g),D=new Ln(l,C);a.push(D)}else if(null==g)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const C=this._viewContainer.get(h);this._viewContainer.move(C,g);const D=new Ln(l,C);a.push(D)}});for(let l=0;l<a.length;l++)this._perViewChange(a[l].view,a[l].record);for(let l=0,h=this._viewContainer.length;l<h;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=h,g.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,a){r.context.$implicit=a.item}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},i.\u0275dir=m.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Ln{constructor(n,r){this.record=n,this.view=r}}let Pi=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new Lr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Gt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Gt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(m.s_b),m.Y36(m.Rgc))},i.\u0275dir=m.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Lr{constructor(){this.$implicit=null,this.ngIf=null}}function Gt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,m.AaK)(n)}'.`)}let Mw=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[{provide:ur,useClass:wo}]}),i})();function Au(i){return"server"===i}let Su=(()=>{class i{}return i.\u0275prov=(0,m.Yz7)({token:i,providedIn:"root",factory:()=>new Sc((0,m.LFG)(Ee),window)}),i})();class Sc{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=a.currentNode;for(;l;){const h=l.shadowRoot;if(h){const g=h.getElementById(n)||h.querySelector(`[name="${n}"]`);if(g)return g}l=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(a-h[0],l-h[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=xu(this.window.history)||xu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function xu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Do extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Do,oe||(oe=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null);return null==r?null:function(i){Rc=Rc||document.createElement("a"),Rc.setAttribute("href",i);const n=Rc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[l,h]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(l.trim()===n)return decodeURIComponent(h)}return null}(document.cookie,n)}}let Rc,Rs=null;const zp=new m.OlP("TRANSITION_ID"),Oc=[{provide:m.ip1,useFactory:function(i,n,r){return()=>{r.get(m.CZH).donePromise.then(()=>{const a=j(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<l.length;h++)a.remove(l[h])})}},deps:[zp,Ee,m.zs3],multi:!0}];class Jt{static init(){(0,m.VLi)(new Jt)}addToWindow(n){m.dqk.getAngularTestability=(a,l=!0)=>{const h=n.findTestabilityInTree(a,l);if(null==h)throw new Error("Could not find testability for element.");return h},m.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(a=>{const l=m.dqk.getAllAngularTestabilities();let h=l.length,g=!1;const C=function(D){g=g||D,h--,0==h&&a(g)};l.forEach(function(D){D.whenStable(C)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:a?j().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let Zp=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const To=new m.OlP("EventManagerPlugins");let Fu=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}addGlobalEventListener(r,a,l){return this._findPluginFor(a).addGlobalEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const l=this._plugins;for(let h=0;h<l.length;h++){const g=l[h];if(g.supports(r))return this._eventNameToPlugin.set(r,g),g}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(To),m.LFG(m.R0b))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();class Lu{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const l=j().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,a)}}let xh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),a.add(l))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),Ao=(()=>{class i extends xh{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,l){r.forEach(h=>{const g=this._doc.createElement("style");g.textContent=h,l.push(a.appendChild(g))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(Yp),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,l)=>{this._addStylesToHost(r,l,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Yp))}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(Ee))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();function Yp(i){j().remove(i)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},It=/%COMP%/g;function Ps(i,n,r){for(let a=0;a<n.length;a++){let l=n[a];Array.isArray(l)?Ps(i,l,r):(l=l.replace(It,i),r.push(l))}return r}function Ky(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let wa=(()=>{class i{constructor(r,a,l){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new ks(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case m.ifc.Emulated:{let l=this.rendererByCompId.get(a.id);return l||(l=new Fs(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,l)),l.applyToHost(r),l}case 1:case m.ifc.ShadowDom:return new ns(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const l=Ps(a.id,a.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(Fu),m.LFG(Ao),m.LFG(m.AFp))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();class ks{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ie[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,l){if(l){r=l+":"+r;const h=Ie[l];h?n.setAttributeNS(h,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const l=Ie[a];l?n.removeAttributeNS(l,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,l){l&(m.JOm.DashCase|m.JOm.Important)?n.style.setProperty(r,a,l&m.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&m.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,Ky(a)):this.eventManager.addEventListener(n,r,Ky(a))}}class Fs extends ks{constructor(n,r,a,l){super(n),this.component=a;const h=Ps(l+"-"+a.id,a.styles,[]);r.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(It,l+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(It,i)}(l+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class ns extends ks{constructor(n,r,a,l){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Ps(l.id,l.styles,[]);for(let g=0;g<h.length;g++){const C=document.createElement("style");C.textContent=h[g],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Oh=(()=>{class i extends Lu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(Ee))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const Bu=["alt","control","meta","shift"],tg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ng={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let xo=(()=>{class i extends Lu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,l){const h=i.parseEventName(a),g=i.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(r,h.domEventName,g))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const h=i._normalizeKey(a.pop());let g="";if(Bu.forEach(D=>{const x=a.indexOf(D);x>-1&&(a.splice(x,1),g+=D+".")}),g+=h,0!=a.length||0===h.length)return null;const C={};return C.domEventName=l,C.fullKey=g,C}static getEventFullKey(r){let a="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&ng.hasOwnProperty(n)&&(n=ng[n]))}return tg[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Bu.forEach(h=>{h!=l&&Tr[h](r)&&(a+=h+".")}),a+=l,a}static eventCallback(r,a,l){return h=>{i.getEventFullKey(h)===r&&l.runGuarded(()=>a(h))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(Ee))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const t_=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function(){Do.makeCurrent(),Jt.init()},multi:!0},{provide:Ee,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),Ls=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:To,useClass:Oh,multi:!0,deps:[Ee,m.R0b,m.Lbi]},{provide:To,useClass:xo,multi:!0,deps:[Ee]},[],{provide:wa,useClass:wa,deps:[Fu,Ao,m.AFp]},{provide:m.FYo,useExisting:wa},{provide:xh,useExisting:Ao},{provide:Ao,useClass:Ao,deps:[Ee]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:Fu,useClass:Fu,deps:[To,m.R0b]},{provide:class{},useClass:Zp,deps:[]},[]];let Hu=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:m.AFp,useValue:r.appId},{provide:zp,useExisting:m.AFp},Oc]}}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(i,12))},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:Ls,imports:[Mw,m.hGG]}),i})();"undefined"!=typeof window&&window;const Wh_firebaseConfig={apiKey:"AIzaSyAtEnxDHONzJcoZ5cIy5t5gTFGRqsA1Ccc",authDomain:"sala-de-juegos-db.firebaseapp.com",projectId:"sala-de-juegos-db",storageBucket:"sala-de-juegos-db.appspot.com",messagingSenderId:"104589083411",appId:"1:104589083411:web:dcd270515f7a0db71750e6",measurementId:"G-C1N2F34WP9"};var tn=k(4402),nt=k(5917),Ar=k(9765),jc=k(7971);class cr extends Ar.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new jc.N;return this._value}next(n){super.next(this._value=n)}}var ba=k(4869),Da=k(9796),wi=k(7393);class r_ extends wi.L{notifyNext(n,r,a,l,h){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class Ta extends wi.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var og=k(7444),Jr=k(7574);function i_(i,n,r,a,l=new Ta(i,r,a)){if(!l.closed)return n instanceof Jr.y?n.subscribe(l):(0,og.s)(n)(l)}var zh=k(6693);const Wu={};class ag{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new ug(n,this.resultSelector))}}class ug extends r_{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Wu),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(i_(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const l=this.values,g=this.toRespond?l[a]===Wu?--this.toRespond:this.toRespond:0;l[a]=r,0===g&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const Xr=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var zu=k(3282);function Zu(...i){return(0,zu.J)(1)((0,nt.of)(...i))}var dr=k(9193);function No(i){return new Jr.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,tn.D)(r):(0,dr.c)()).subscribe(n)})}var Sa=k(2441),ft=k(8002),Us=k(5345);function vn(i,n){return"function"==typeof n?r=>r.pipe(vn((a,l)=>(0,tn.D)(i(a,l)).pipe((0,ft.U)((h,g)=>n(a,h,l,g))))):r=>r.lift(new o_(i))}class o_{constructor(n){this.project=n}call(n,r){return r.subscribe(new Vw(n,this.project))}}class Vw extends Us.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new Us.IY(this),l=this.destination;l.add(a),this.innerSubscription=(0,Us.ft)(n,a),this.innerSubscription!==a&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const a_=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Ku(i){return n=>0===i?(0,dr.c)():n.lift(new En(i))}class En{constructor(n){if(this.total=n,this.total<0)throw new a_}call(n,r){return r.subscribe(new Kh(n,this.total))}}class Kh extends wi.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function Yu(...i){const n=i[i.length-1];return(0,ba.K)(n)?(i.pop(),r=>Zu(i,r,n)):r=>Zu(i,r)}function xa(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new Bw(i,n,r))}}class Bw{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new lg(n,this.accumulator,this.seed,this.hasSeed))}}class lg extends wi.L{constructor(n,r,a,l){super(n),this.accumulator=r,this._seed=a,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=a,this.destination.next(a)}}function Ci(i,n){return function(a){return a.lift(new cg(i,n))}}class cg{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new jw(n,this.predicate,this.thisArg))}}class jw extends wi.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}function Bs(i){return function(r){const a=new Hc(i),l=r.lift(a);return a.caught=l}}class Hc{constructor(n){this.selector=n}call(n,r){return r.subscribe(new Na(n,this.selector,this.caught))}}class Na extends Us.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const a=new Us.IY(this);this.add(a);const l=(0,Us.ft)(r,a);l!==a&&this.add(l)}}}var In=k(9773);function $c(i,n){return(0,In.zg)(i,n,1)}function bn(i){return function(r){return 0===i?(0,dr.c)():r.lift(new Gc(i))}}class Gc{constructor(n){if(this.total=n,this.total<0)throw new a_}call(n,r){return r.subscribe(new Ra(n,this.total))}}class Ra extends wi.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,l=this.count++;r.length<a?r.push(n):r[l%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,l=this.ring;for(let h=0;h<a;h++){const g=r++%a;n.next(l[g])}}n.complete()}}function dg(i=ti){return n=>n.lift(new u_(i))}class u_{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new ei(n,this.errorFactory))}}class ei extends wi.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function ti(){return new Xr}function Qu(i=null){return n=>n.lift(new ss(i))}class ss{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new js(n,this.defaultValue))}}class js extends wi.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ju=k(4487);function Ro(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Ci((l,h)=>i(l,h,a)):Ju.y,Ku(1),r?Qu(n):dg(()=>new Xr))}var Sr=k(3342),Hw=k(1307),Qh=k(5319);class Xu{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Hs(n,this.callback))}}class Hs extends wi.L{constructor(n,r){super(n),this.add(new Qh.w(r))}}class $s{constructor(n,r){this.id=n,this.url=r}}class Ma extends $s{constructor(n,r,a="imperative",l=null){super(n,r),this.navigationTrigger=a,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oa extends $s{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hg extends $s{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class l_ extends $s{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jh extends $s{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c_ extends $s{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class el extends $s{constructor(n,r,a,l,h){super(n,r),this.urlAfterRedirects=a,this.state=l,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tl extends $s{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qc extends $s{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d_{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gs{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xh{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wc{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ef{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tf{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pt="primary";class $w{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function os(i){return new $w(i)}const Mo="ngNavigationCancelingError";function as(i){const n=Error("NavigationCancelingError: "+i);return n[Mo]=!0,n}function Dn(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const l={};for(let h=0;h<a.length;h++){const g=a[h],C=i[h];if(g.startsWith(":"))l[g.substring(1)]=C;else if(g!==C.path)return null}return{consumed:i.slice(0,a.length),posParams:l}}function us(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let l;for(let h=0;h<r.length;h++)if(l=r[h],!Ws(i[l],n[l]))return!1;return!0}function Ws(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((l,h)=>a[h]===l)}return i===n}function Pa(i){return Array.prototype.concat.apply([],i)}function Zc(i){return i.length>0?i[i.length-1]:null}function Vn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function ki(i){return(0,m.CqO)(i)?i:(0,m.QGY)(i)?(0,tn.D)(Promise.resolve(i)):(0,nt.of)(i)}const ni={exact:function nf(i,n,r){if(!Fa(i.segments,n.segments)||!Kc(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!nf(i.children[a],n.children[a],r))return!1;return!0},subset:rl},nl={exact:function(i,n){return us(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>Ws(i[r],n[r]))},ignored:()=>!0};function ls(i,n,r){return ni[r.paths](i.root,n.root,r.matrixParams)&&nl[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function rl(i,n,r){return sf(i,n,n.segments,r)}function sf(i,n,r,a){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!Fa(l,r)||n.hasChildren()||!Kc(l,r,a))}if(i.segments.length===r.length){if(!Fa(i.segments,r)||!Kc(i.segments,r,a))return!1;for(const l in n.children)if(!i.children[l]||!rl(i.children[l],n.children[l],a))return!1;return!0}{const l=r.slice(0,i.segments.length),h=r.slice(i.segments.length);return!!(Fa(i.segments,l)&&Kc(i.segments,l,a)&&i.children[pt])&&sf(i.children[pt],n,h,a)}}function Kc(i,n,r){return n.every((a,l)=>nl[r](i[l].parameters,a.parameters))}class cs{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=os(this.queryParams)),this._queryParamMap}toString(){return y_.serialize(this)}}class yt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Vn(r,(a,l)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qc(this)}}class ds{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=os(this.parameters)),this._parameterMap}toString(){return Po(this)}}function Fa(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class Yc{}class m_{parse(n){const r=new E_(n);return new cs(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${il(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(l=>`${La(r)}=${La(l)}`).join("&"):`${La(r)}=${La(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const y_=new m_;function Qc(i){return i.segments.map(n=>Po(n)).join("/")}function il(i,n){if(!i.hasChildren())return Qc(i);if(n){const r=i.children[pt]?il(i.children[pt],!1):"",a=[];return Vn(i.children,(l,h)=>{h!==pt&&a.push(`${h}:${il(l,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return Vn(i.children,(a,l)=>{l===pt&&(r=r.concat(n(a,l)))}),Vn(i.children,(a,l)=>{l!==pt&&(r=r.concat(n(a,l)))}),r}(i,(a,l)=>l===pt?[il(i.children[pt],!1)]:[`${l}:${il(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[pt]?`${Qc(i)}/${r[0]}`:`${Qc(i)}/(${r.join("//")})`}}function Oo(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function La(i){return Oo(i).replace(/%3B/gi,";")}function of(i){return Oo(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sl(i){return decodeURIComponent(i)}function __(i){return sl(i.replace(/\+/g,"%20"))}function Po(i){return`${of(i.path)}${function(i){return Object.keys(i).map(n=>`;${of(n)}=${of(i[n])}`).join("")}(i.parameters)}`}const gg=/^[^\/()?;=#]+/;function ol(i){const n=i.match(gg);return n?n[0]:""}const ko=/^[^=?&#]+/,Gw=/^[^?&#]+/;class E_{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[pt]=new yt(n,r)),a}parseSegment(){const n=ol(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new ds(sl(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=ol(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const l=ol(this.remaining);l&&(a=l,this.capture(a))}n[sl(r)]=sl(a)}parseQueryParam(n){const r=function(i){const n=i.match(ko);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const g=function(i){const n=i.match(Gw);return n?n[0]:""}(this.remaining);g&&(a=g,this.capture(a))}const l=__(r),h=__(a);if(n.hasOwnProperty(l)){let g=n[l];Array.isArray(g)||(g=[g],n[l]=g),g.push(h)}else n[l]=h}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=ol(this.remaining),l=this.remaining[a.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let h;a.indexOf(":")>-1?(h=a.substr(0,a.indexOf(":")),this.capture(h),this.capture(":")):n&&(h=pt);const g=this.parseChildren();r[h]=1===Object.keys(g).length?g[pt]:new yt([],g),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class mg{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=jr(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=jr(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=Zs(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return Zs(n,this._root).map(r=>r.value)}}function jr(i,n){if(i===n.value)return n;for(const r of n.children){const a=jr(i,r);if(a)return a}return null}function Zs(i,n){if(i===n.value)return[n];for(const r of n.children){const a=Zs(i,r);if(a.length)return a.unshift(n),a}return[]}class ri{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function al(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class yg extends mg{constructor(n,r){super(n),this.snapshot=r,uf(this,n)}toString(){return this.snapshot.toString()}}function Jc(i,n){const r=function(i,n){const g=new Xc([],{},{},"",{},pt,n,null,i.root,-1,{});return new _g("",new ri(g,[]))}(i,n),a=new cr([new ds("",{})]),l=new cr({}),h=new cr({}),g=new cr({}),C=new cr(""),D=new Va(a,l,g,C,h,pt,n,r.root);return D.snapshot=r.root,new yg(new ri(D,[]),r)}class Va{constructor(n,r,a,l,h,g,C,D){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=g,this.component=C,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(n=>os(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(n=>os(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ul(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const l=r[a],h=r[a-1];if(l.routeConfig&&""===l.routeConfig.path)a--;else{if(h.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class Xc{constructor(n,r,a,l,h,g,C,D,x,R,P){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=g,this.component=C,this.routeConfig=D,this._urlSegment=x,this._lastPathIndex=R,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=os(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=os(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _g extends mg{constructor(n,r){super(r),this.url=n,uf(this,r)}toString(){return I_(this._root)}}function uf(i,n){n.value._routerState=i,n.children.forEach(r=>uf(i,r))}function I_(i){const n=i.children.length>0?` { ${i.children.map(I_).join(", ")} } `:"";return`${i.value}${n}`}function ed(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,us(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),us(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!us(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),us(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function hs(i,n){return us(i.params,n.params)&&function(i,n){return Fa(i,n)&&i.every((r,a)=>us(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||hs(i.parent,n.parent))}function Hr(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(a=>{for(const l of r.children)if(i.shouldReuseRoute(a.value,l.value.snapshot))return Hr(i,a,l);return Hr(i,a)})}(i,n,r);return new ri(a,l)}{if(i.shouldAttach(n.value)){const h=i.retrieve(n.value);if(null!==h){const g=h.route;return Ks(n,g),g}}const a=function(i){return new Va(new cr(i.url),new cr(i.params),new cr(i.queryParams),new cr(i.fragment),new cr(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(h=>Hr(i,h));return new ri(a,l)}}function Ks(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Ks(i.children[r],n.children[r])}function Ua(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function nd(i){return"object"==typeof i&&null!=i&&i.outlets}function Cg(i,n,r,a,l){let h={};return a&&Vn(a,(g,C)=>{h[C]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),new cs(r.root===i?n:rd(r.root,i,n),h,l)}function rd(i,n,r){const a={};return Vn(i.children,(l,h)=>{a[h]=l===n?r:rd(l,n,r)}),new yt(i.segments,a)}class ll{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&Ua(a[0]))throw new Error("Root segment cannot have matrix parameters");const l=a.find(nd);if(l&&l!==Zc(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ig{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function Dg(i,n,r){if(i||(i=new yt([],{})),0===i.segments.length&&i.hasChildren())return cl(i,n,r);const a=function(i,n,r){let a=0,l=n;const h={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(a>=r.length)return h;const g=i.segments[l],C=r[a];if(nd(C))break;const D=`${C}`,x=a<r.length-1?r[a+1]:null;if(l>0&&void 0===D)break;if(D&&x&&"object"==typeof x&&void 0===x.outlets){if(!dl(D,x,g))return h;a+=2}else{if(!dl(D,{},g))return h;a++}l++}return{match:!0,pathIndex:l,commandIndex:a}}(i,n,r),l=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const h=new yt(i.segments.slice(0,a.pathIndex),{});return h.children[pt]=new yt(i.segments.slice(a.pathIndex),i.children),cl(h,0,l)}return a.match&&0===l.length?new yt(i.segments,{}):a.match&&!i.hasChildren()?sd(i,n,r):a.match?cl(i,0,l):sd(i,n,r)}function cl(i,n,r){if(0===r.length)return new yt(i.segments,{});{const a=function(i){return nd(i[0])?i[0].outlets:{[pt]:i}}(r),l={};return Vn(a,(h,g)=>{"string"==typeof h&&(h=[h]),null!==h&&(l[g]=Dg(i.children[g],n,h))}),Vn(i.children,(h,g)=>{void 0===a[g]&&(l[g]=h)}),new yt(i.segments,l)}}function sd(i,n,r){const a=i.segments.slice(0,n);let l=0;for(;l<r.length;){const h=r[l];if(nd(h)){const D=od(h.outlets);return new yt(a,D)}if(0===l&&Ua(r[0])){a.push(new ds(i.segments[n].path,cf(r[0]))),l++;continue}const g=nd(h)?h.outlets[pt]:`${h}`,C=l<r.length-1?r[l+1]:null;g&&C&&Ua(C)?(a.push(new ds(g,cf(C))),l+=2):(a.push(new ds(g,{})),l++)}return new yt(a,{})}function od(i){const n={};return Vn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=sd(new yt([],{}),0,r))}),n}function cf(i){const n={};return Vn(i,(r,a)=>n[a]=`${r}`),n}function dl(i,n,r){return i==r.path&&us(n,r.parameters)}class nn{constructor(n,r,a,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=l}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),ed(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const l=al(r);n.children.forEach(h=>{const g=h.value.outlet;this.deactivateRoutes(h,l[g],a),delete l[g]}),Vn(l,(h,g)=>{this.deactivateRouteAndItsChildren(h,a)})}deactivateRoutes(n,r,a){const l=n.value,h=r?r.value:null;if(l===h)if(l.component){const g=a.getContext(l.outlet);g&&this.deactivateChildRoutes(n,r,g.children)}else this.deactivateChildRoutes(n,r,a);else h&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const l=a.outlet.detach(),h=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:h})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),l=a&&n.value.component?a.children:r,h=al(n);for(const g of Object.keys(h))this.deactivateRouteAndItsChildren(h[g],l);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const l=al(r);n.children.forEach(h=>{this.activateRoutes(h,l[h.value.outlet],a),this.forwardEvent(new ef(h.value.snapshot))}),n.children.length&&this.forwardEvent(new qs(n.value.snapshot))}activateRoutes(n,r,a){const l=n.value,h=r?r.value:null;if(ed(l),l===h)if(l.component){const g=a.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,g.children)}else this.activateChildRoutes(n,r,a);else if(l.component){const g=a.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const C=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(C.contexts),g.attachRef=C.componentRef,g.route=C.route.value,g.outlet&&g.outlet.attach(C.componentRef,C.route.value),hf(C.route)}else{const C=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),D=C?C.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=D,g.outlet&&g.outlet.activateWith(l,D),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,a)}}function hf(i){ed(i.value),i.children.forEach(hf)}class Lo{constructor(n,r){this.routes=n,this.module=r}}function Tn(i){return"function"==typeof i}function Ys(i){return i instanceof cs}const fl=Symbol("INITIAL_VALUE");function fs(){return vn(i=>function(...i){let n,r;return(0,ba.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,Da.k)(i[0])&&(i=i[0]),(0,zh.n)(i,r).lift(new ag(n))}(i.map(n=>n.pipe(Ku(1),Yu(fl)))).pipe(xa((n,r)=>{let a=!1;return r.reduce((l,h,g)=>l!==fl?l:(h===fl&&(a=!0),a||!1!==h&&g!==r.length-1&&!Ys(h)?l:h),n)},fl),Ci(n=>n!==fl),(0,ft.U)(n=>Ys(n)?n:!0===n),Ku(1)))}let ln=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&m._UZ(0,"router-outlet")},directives:function(){return[Vg]},encapsulation:2}),i})();function pl(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];Tg(a,Ag(n,a))}}function Tg(i,n){i.children&&pl(i.children,n)}function Ag(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function Un(i){const n=i.children&&i.children.map(Un),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==pt&&(r.component=ln),r}function qn(i){return i.outlet||pt}function Wn(i,n){const r=i.filter(a=>qn(a)===n);return r.push(...i.filter(a=>qn(a)!==n)),r}const ad={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ba(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},ad):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(n.matcher||Dn)(r,i,n);if(!h)return Object.assign({},ad);const g={};Vn(h.posParams,(D,x)=>{g[x]=D.path});const C=h.consumed.length>0?Object.assign(Object.assign({},g),h.consumed[h.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:C,positionalParamSegments:null!==(a=h.posParams)&&void 0!==a?a:{}}}function Vo(i,n,r,a,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>ml(i,n,a)&&qn(a)!==pt)}(i,r,a)){const g=new yt(n,function(i,n,r,a){const l={};l[pt]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const h of r)if(""===h.path&&qn(h)!==pt){const g=new yt([],{});g._sourceSegment=i,g._segmentIndexShift=n.length,l[qn(h)]=g}return l}(i,n,a,new yt(r,i.children)));return g._sourceSegment=i,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>ml(i,n,a))}(i,r,a)){const g=new yt(i.segments,function(i,n,r,a,l,h){const g={};for(const C of a)if(ml(i,r,C)&&!l[qn(C)]){const D=new yt([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===h?i.segments.length:n.length,g[qn(C)]=D}return Object.assign(Object.assign({},l),g)}(i,n,r,a,i.children,l));return g._sourceSegment=i,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:r}}const h=new yt(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:r}}function ml(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function ud(i,n,r,a){return!!(qn(i)===a||a!==pt&&ml(n,r,i))&&("**"===i.path||Ba(n,i,r).matched)}function Sg(i,n,r){return 0===n.length&&!i.children[r]}class ja{constructor(n){this.segmentGroup=n||null}}class ld{constructor(n){this.urlTree=n}}function yl(i){return new Jr.y(n=>n.error(new ja(i)))}function w(i){return new Jr.y(n=>n.error(new ld(i)))}function p(i){return new Jr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class S{constructor(n,r,a,l,h){this.configLoader=r,this.urlSerializer=a,this.urlTree=l,this.config=h,this.allowRedirects=!0,this.ngModule=n.get(m.h0i)}apply(){const n=Vo(this.urlTree.root,[],[],this.config).segmentGroup,r=new yt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,pt).pipe((0,ft.U)(h=>this.createUrlTree(W(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bs(h=>{if(h instanceof ld)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof ja?this.noMatchError(h):h}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,pt).pipe((0,ft.U)(l=>this.createUrlTree(W(l),n.queryParams,n.fragment))).pipe(Bs(l=>{throw l instanceof ja?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const l=n.segments.length>0?new yt([],{[pt]:n}):n;return new cs(l,r,a)}expandSegmentGroup(n,r,a,l){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,ft.U)(h=>new yt([],h))):this.expandSegment(n,a,r,a.segments,l,!0)}expandChildren(n,r,a){const l=[];for(const h of Object.keys(a.children))"primary"===h?l.unshift(h):l.push(h);return(0,tn.D)(l).pipe($c(h=>{const g=a.children[h],C=Wn(r,h);return this.expandSegmentGroup(n,C,g,h).pipe((0,ft.U)(D=>({segment:D,outlet:h})))}),xa((h,g)=>(h[g.outlet]=g.segment,h),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Ci((l,h)=>i(l,h,a)):Ju.y,bn(1),r?Qu(n):dg(()=>new Xr))}())}expandSegment(n,r,a,l,h,g){return(0,tn.D)(a).pipe($c(C=>this.expandSegmentAgainstRoute(n,r,a,C,l,h,g).pipe(Bs(x=>{if(x instanceof ja)return(0,nt.of)(null);throw x}))),Ro(C=>!!C),Bs((C,D)=>{if(C instanceof Xr||"EmptyError"===C.name){if(Sg(r,l,h))return(0,nt.of)(new yt([],{}));throw new ja(r)}throw C}))}expandSegmentAgainstRoute(n,r,a,l,h,g,C){return ud(l,r,h,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,h,g):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,l,h,g):yl(r):yl(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,l,h,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,h,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,l){const h=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?w(h):this.lineralizeSegments(a,h).pipe((0,In.zg)(g=>{const C=new yt(g,{});return this.expandSegment(n,C,r,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,h,g){const{matched:C,consumedSegments:D,lastChild:x,positionalParamSegments:R}=Ba(r,l,h);if(!C)return yl(r);const P=this.applyRedirectCommands(D,l.redirectTo,R);return l.redirectTo.startsWith("/")?w(P):this.lineralizeSegments(l,P).pipe((0,In.zg)(Z=>this.expandSegment(n,r,a,Z.concat(h.slice(x)),g,!1)))}matchSegmentAgainstRoute(n,r,a,l,h){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,nt.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,ft.U)(Z=>(a._loadedConfig=Z,new yt(l,{})))):(0,nt.of)(new yt(l,{}));const{matched:g,consumedSegments:C,lastChild:D}=Ba(r,a,l);if(!g)return yl(r);const x=l.slice(D);return this.getChildConfig(n,a,l).pipe((0,In.zg)(P=>{const Z=P.module,Y=P.routes,{segmentGroup:we,slicedSegments:Ue}=Vo(r,C,x,Y),He=new yt(we.segments,we.children);if(0===Ue.length&&He.hasChildren())return this.expandChildren(Z,Y,He).pipe((0,ft.U)(Kt=>new yt(C,Kt)));if(0===Y.length&&0===Ue.length)return(0,nt.of)(new yt(C,{}));const St=qn(a)===h;return this.expandSegment(Z,He,Y,Ue,St?pt:h,!0).pipe((0,ft.U)(bt=>new yt(C.concat(bt.segments),bt.children)))}))}getChildConfig(n,r,a){return r.children?(0,nt.of)(new Lo(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,nt.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,In.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,ft.U)(h=>(r._loadedConfig=h,h))):(i=r,new Jr.y(n=>n.error(as(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,nt.of)(new Lo([],n))}runCanLoadGuards(n,r,a){const l=r.canLoad;if(!l||0===l.length)return(0,nt.of)(!0);const h=l.map(g=>{const C=n.get(g);let D;if((i=C)&&Tn(i.canLoad))D=C.canLoad(r,a);else{if(!Tn(C))throw new Error("Invalid CanLoad guard");D=C(r,a)}var i;return ki(D)});return(0,nt.of)(h).pipe(fs(),(0,Sr.b)(g=>{if(!Ys(g))return;const C=as(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw C.url=g,C}),(0,ft.U)(g=>!0===g))}lineralizeSegments(n,r){let a=[],l=r.root;for(;;){if(a=a.concat(l.segments),0===l.numberOfChildren)return(0,nt.of)(a);if(l.numberOfChildren>1||!l.children[pt])return p(n.redirectTo);l=l.children[pt]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,l){const h=this.createSegmentGroup(n,r.root,a,l);return new cs(h,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return Vn(n,(l,h)=>{if("string"==typeof l&&l.startsWith(":")){const C=l.substring(1);a[h]=r[C]}else a[h]=l}),a}createSegmentGroup(n,r,a,l){const h=this.createSegments(n,r.segments,a,l);let g={};return Vn(r.children,(C,D)=>{g[D]=this.createSegmentGroup(n,C,a,l)}),new yt(h,g)}createSegments(n,r,a,l){return r.map(h=>h.path.startsWith(":")?this.findPosParam(n,h,l):this.findOrReturn(h,a))}findPosParam(n,r,a){const l=a[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let a=0;for(const l of r){if(l.path===n.path)return r.splice(a),l;a++}return n}}function W(i){const n={};for(const a of Object.keys(i.children)){const h=W(i.children[a]);(h.segments.length>0||h.hasChildren())&&(n[a]=h)}return function(i){if(1===i.numberOfChildren&&i.children[pt]){const n=i.children[pt];return new yt(i.segments.concat(n.segments),n.children)}return i}(new yt(i.segments,n))}class Fe{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class $e{constructor(n,r){this.component=n,this.route=r}}function rt(i,n,r){const a=i._root;return ps(a,n?n._root:null,r,[a.value])}function zt(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function ps(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=al(n);return i.children.forEach(g=>{(function(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,g=n?n.value:null,C=r?r.getContext(i.value.outlet):null;if(g&&h.routeConfig===g.routeConfig){const D=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Fa(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Fa(i.url,n.url)||!us(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hs(i,n)||!us(i.queryParams,n.queryParams);case"paramsChange":default:return!hs(i,n)}}(g,h,h.routeConfig.runGuardsAndResolvers);D?l.canActivateChecks.push(new Fe(a)):(h.data=g.data,h._resolvedData=g._resolvedData),ps(i,n,h.component?C?C.children:null:r,a,l),D&&C&&C.outlet&&C.outlet.isActivated&&l.canDeactivateChecks.push(new $e(C.outlet.component,g))}else g&&Uo(n,C,l),l.canActivateChecks.push(new Fe(a)),ps(i,null,h.component?C?C.children:null:r,a,l)})(g,h[g.value.outlet],r,a.concat([g.value]),l),delete h[g.value.outlet]}),Vn(h,(g,C)=>Uo(g,r.getContext(C),l)),l}function Uo(i,n,r){const a=al(i),l=i.value;Vn(a,(h,g)=>{Uo(h,l.component?n?n.children.getContext(g):null:n,r)}),r.canDeactivateChecks.push(new $e(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class zw{}function x_(i){return new Jr.y(n=>n.error(i))}class Qs{constructor(n,r,a,l,h,g){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=g}recognize(){const n=Vo(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,pt);if(null===r)return null;const a=new Xc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new ri(a,r),h=new _g(this.url,l);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(n){const r=n.value,a=ul(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const h of Object.keys(r.children)){const g=r.children[h],C=Wn(n,h),D=this.processSegmentGroup(C,g,h);if(null===D)return null;a.push(...D)}const l=M_(a);return l.sort((n,r)=>n.value.outlet===pt?-1:r.value.outlet===pt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,a,l){for(const h of n){const g=this.processSegmentAgainstRoute(h,r,a,l);if(null!==g)return g}return Sg(r,a,l)?[]:null}processSegmentAgainstRoute(n,r,a,l){if(n.redirectTo||!ud(n,r,a,l))return null;let h,g=[],C=[];if("**"===n.path){const Y=a.length>0?Zc(a).parameters:{};h=new Xc(a,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pg(n),qn(n),n.component,n,O_(r),P_(r)+a.length,kg(n))}else{const Y=Ba(r,n,a);if(!Y.matched)return null;g=Y.consumedSegments,C=a.slice(Y.lastChild),h=new Xc(g,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pg(n),qn(n),n.component,n,O_(r),P_(r)+g.length,kg(n))}const D=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:x,slicedSegments:R}=Vo(r,g,C,D.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);var i;if(0===R.length&&x.hasChildren()){const Y=this.processChildren(D,x);return null===Y?null:[new ri(h,Y)]}if(0===D.length&&0===R.length)return[new ri(h,[])];const P=qn(n)===l,Z=this.processSegment(D,x,R,P?pt:l);return null===Z?null:[new ri(h,Z)]}}function dT(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function M_(i){const n=[],r=new Set;for(const a of i){if(!dT(a)){n.push(a);continue}const l=n.find(h=>a.value.routeConfig===h.value.routeConfig);void 0!==l?(l.children.push(...a.children),r.add(l)):n.push(a)}for(const a of r){const l=M_(a.children);n.push(new ri(a.value,l))}return n.filter(a=>!r.has(a))}function O_(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function P_(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function Pg(i){return i.data||{}}function kg(i){return i.resolve||{}}function F_(i){return vn(n=>{const r=i(n);return r?(0,tn.D)(r).pipe((0,ft.U)(()=>n)):(0,nt.of)(n)})}class fT extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const V_=new m.OlP("ROUTES");class Yw{constructor(n,r,a,l){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,ft.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);const g=h.create(n);return new Lo(Pa(g.injector.get(V_,void 0,m.XFs.Self|m.XFs.Optional)).map(Un),g)}),Bs(h=>{throw r._loader$=void 0,h}));return r._loader$=new Sa.c(l,()=>new Ar.xQ).pipe((0,Hw.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,tn.D)(this.loader.load(n)):ki(n()).pipe((0,In.zg)(r=>r instanceof m.YKP?(0,nt.of)(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}class pT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hd,this.attachRef=null}}class hd{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new pT,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class U_{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function Jw(i){throw i}function B_(i,n,r){return n.parse("/")}function Xw(i,n){return(0,nt.of)(null)}const gT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class i{constructor(r,a,l,h,g,C,D,x){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=l,this.location=h,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ar.xQ,this.errorHandler=Jw,this.malformedUriErrorHandler=B_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xw,afterPreactivation:Xw},this.urlHandlingStrategy=new U_,this.routeReuseStrategy=new fT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(m.h0i),this.console=g.get(m.c2e);const Z=g.get(m.R0b);this.isNgZoneEnabled=Z instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=new cs(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yw(C,D,Y=>this.triggerEvent(new d_(Y)),Y=>this.triggerEvent(new Gs(Y))),this.routerState=Jc(this.currentUrlTree,this.rootComponentType),this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(Ci(l=>0!==l.id),(0,ft.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),vn(l=>{let h=!1,g=!1;return(0,nt.of)(l).pipe((0,Sr.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.currentRawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vn(C=>{const D=!this.navigated||C.extractedUrl.toString()!==this.browserUrlTree.toString(),x=("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl);if(_f(C.source)&&(this.browserUrlTree=C.rawUrl),x)return(0,nt.of)(C).pipe(vn(R=>{const P=this.transitions.getValue();return a.next(new Ma(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),P!==this.transitions.getValue()?dr.E:Promise.resolve(R)}),function(i,n,r,a){return vn(l=>function(i,n,r,a,l){return new S(i,n,r,a,l).apply()}(i,n,r,l.extractedUrl,a).pipe((0,ft.U)(h=>Object.assign(Object.assign({},l),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Sr.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(i,n,r,a,l){return(0,In.zg)(h=>function(i,n,r,a,l="emptyOnly",h="legacy"){try{const g=new Qs(i,n,r,a,l,h).recognize();return null===g?x_(new zw):(0,nt.of)(g)}catch(g){return x_(g)}}(i,n,h.urlAfterRedirects,r(h.urlAfterRedirects),a,l).pipe((0,ft.U)(g=>Object.assign(Object.assign({},h),{targetSnapshot:g}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Sr.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const P=new Jh(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);a.next(P)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:Z,source:Y,restoredState:we,extras:Ue}=C,He=new Ma(P,this.serializeUrl(Z),Y,we);a.next(He);const St=Jc(Z,this.rootComponentType).snapshot;return(0,nt.of)(Object.assign(Object.assign({},C),{targetSnapshot:St,urlAfterRedirects:Z,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=C.rawUrl,this.browserUrlTree=C.urlAfterRedirects,C.resolve(null),dr.E}),F_(C=>{const{targetSnapshot:D,id:x,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:Z,replaceUrl:Y}}=C;return this.hooks.beforePreactivation(D,{navigationId:x,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!Z,replaceUrl:!!Y})}),(0,Sr.b)(C=>{const D=new c_(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(D)}),(0,ft.U)(C=>Object.assign(Object.assign({},C),{guards:rt(C.targetSnapshot,C.currentSnapshot,this.rootContexts)})),function(i,n){return(0,In.zg)(r=>{const{targetSnapshot:a,currentSnapshot:l,guards:{canActivateChecks:h,canDeactivateChecks:g}}=r;return 0===g.length&&0===h.length?(0,nt.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,tn.D)(i).pipe((0,In.zg)(l=>function(i,n,r,a,l){const h=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,nt.of)(!0);const g=h.map(C=>{const D=zt(C,n,l);let x;if(function(i){return i&&Tn(i.canDeactivate)}(D))x=ki(D.canDeactivate(i,n,r,a));else{if(!Tn(D))throw new Error("Invalid CanDeactivate guard");x=ki(D(i,n,r,a))}return x.pipe(Ro())});return(0,nt.of)(g).pipe(fs())}(l.component,l.route,r,n,a)),Ro(l=>!0!==l,!0))}(g,a,l,i).pipe((0,In.zg)(C=>C&&function(i){return"boolean"==typeof i}(C)?function(i,n,r,a){return(0,tn.D)(n).pipe($c(l=>Zu(function(i,n){return null!==i&&n&&n(new Xh(i)),(0,nt.of)(!0)}(l.route.parent,a),function(i,n){return null!==i&&n&&n(new Wc(i)),(0,nt.of)(!0)}(l.route,a),function(i,n,r){const a=n[n.length-1],h=n.slice(0,n.length-1).reverse().map(g=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(g)).filter(g=>null!==g).map(g=>No(()=>{const C=g.guards.map(D=>{const x=zt(D,g.node,r);let R;if(function(i){return i&&Tn(i.canActivateChild)}(x))R=ki(x.canActivateChild(a,i));else{if(!Tn(x))throw new Error("Invalid CanActivateChild guard");R=ki(x(a,i))}return R.pipe(Ro())});return(0,nt.of)(C).pipe(fs())}));return(0,nt.of)(h).pipe(fs())}(i,l.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,nt.of)(!0);const l=a.map(h=>No(()=>{const g=zt(h,n,r);let C;if(function(i){return i&&Tn(i.canActivate)}(g))C=ki(g.canActivate(n,i));else{if(!Tn(g))throw new Error("Invalid CanActivate guard");C=ki(g(n,i))}return C.pipe(Ro())}));return(0,nt.of)(l).pipe(fs())}(i,l.route,r))),Ro(l=>!0!==l,!0))}(a,h,i,n):(0,nt.of)(C)),(0,ft.U)(C=>Object.assign(Object.assign({},r),{guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),(0,Sr.b)(C=>{if(Ys(C.guardsResult)){const x=as(`Redirecting to "${this.serializeUrl(C.guardsResult)}"`);throw x.url=C.guardsResult,x}const D=new el(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(D)}),Ci(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,""),!1)),F_(C=>{if(C.guards.canActivateChecks.length)return(0,nt.of)(C).pipe((0,Sr.b)(D=>{const x=new tl(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(x)}),vn(D=>{let x=!1;return(0,nt.of)(D).pipe(function(i,n){return(0,In.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,nt.of)(r);let h=0;return(0,tn.D)(l).pipe($c(g=>function(i,n,r,a){return function(i,n,r,a){const l=Object.keys(i);if(0===l.length)return(0,nt.of)({});const h={};return(0,tn.D)(l).pipe((0,In.zg)(g=>function(i,n,r,a){const l=zt(i,n,a);return ki(l.resolve?l.resolve(n,r):l(n,r))}(i[g],n,r,a).pipe((0,Sr.b)(C=>{h[g]=C}))),bn(1),(0,In.zg)(()=>Object.keys(h).length===l.length?(0,nt.of)(h):dr.E))}(i._resolve,i,n,a).pipe((0,ft.U)(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),ul(i,r).resolve),null)))}(g.route,a,i,n)),(0,Sr.b)(()=>h++),bn(1),(0,In.zg)(g=>h===l.length?(0,nt.of)(r):dr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Sr.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,Sr.b)(D=>{const x=new qc(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(x)}))}),F_(C=>{const{targetSnapshot:D,id:x,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:Z,replaceUrl:Y}}=C;return this.hooks.afterPreactivation(D,{navigationId:x,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!Z,replaceUrl:!!Y})}),(0,ft.U)(C=>{const D=function(i,n,r){const a=Hr(i,n._root,r?r._root:void 0);return new yg(a,n)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return Object.assign(Object.assign({},C),{targetRouterState:D})}),(0,Sr.b)(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((i,n,r)=>(0,ft.U)(a=>(new nn(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),(0,Sr.b)({next(){h=!0},complete(){h=!0}}),function(i){return n=>n.lift(new Xu(i))}(()=>{if(!h&&!g){const C=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,C)):this.cancelNavigationTransition(l,C)}this.currentNavigation=null}),Bs(C=>{if(g=!0,function(i){return i&&i[Mo]}(C)){const D=Ys(C.url);D||(this.navigated=!0,this.restoreHistory(l,!0));const x=new hg(l.id,this.serializeUrl(l.extractedUrl),C.message);a.next(x),D?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree),P={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_f(l.source)};this.scheduleNavigation(R,"imperative",null,P,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const D=new l_(l.id,this.serializeUrl(l.extractedUrl),C);a.next(D);try{l.resolve(this.errorHandler(C))}catch(x){l.reject(x)}}return dr.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:l,state:h,urlTree:g}=a,C={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(C.state=D)}this.scheduleNavigation(g,l,h,C)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const l=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!l||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){pl(r),this.config=r.map(Un),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:l,queryParams:h,fragment:g,queryParamsHandling:C,preserveFragment:D}=a,x=l||this.routerState.root,R=D?this.currentUrlTree.fragment:g;let P=null;switch(C){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=h||null}return null!==P&&(P=this.removeEmptyProps(P)),function(i,n,r,a,l){if(0===r.length)return Cg(n.root,n.root,n,a,l);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new ll(!0,0,i);let n=0,r=!1;const a=i.reduce((l,h,g)=>{if("object"==typeof h&&null!=h){if(h.outlets){const C={};return Vn(h.outlets,(D,x)=>{C[x]="string"==typeof D?D.split("/"):D}),[...l,{outlets:C}]}if(h.segmentPath)return[...l,h.segmentPath]}return"string"!=typeof h?[...l,h]:0===g?(h.split("/").forEach((C,D)=>{0==D&&"."===C||(0==D&&""===C?r=!0:".."===C?n++:""!=C&&l.push(C))}),l):[...l,h]},[]);return new ll(r,n,a)}(r);if(h.toRoot())return Cg(n.root,new yt([],{}),n,a,l);const g=function(i,n,r){if(i.isAbsolute)return new Ig(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const h=r.snapshot._urlSegment;return new Ig(h,h===n.root,0)}const a=Ua(i.commands[0])?0:1;return function(i,n,r){let a=i,l=n,h=r;for(;h>l;){if(h-=l,a=a.parent,!a)throw new Error("Invalid number of '../'");l=a.segments.length}return new Ig(a,!1,l-h)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(h,n,i),C=g.processChildren?cl(g.segmentGroup,g.index,h.commands):Dg(g.segmentGroup,g.index,h.commands);return Cg(g.segmentGroup,C,n,a,l)}(x,this.currentUrlTree,r,P,null!=R?R:null)}navigateByUrl(r,a={skipLocationChange:!1}){const l=Ys(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(l){a=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return a}isActive(r,a){let l;if(l=!0===a?Object.assign({},gT):!1===a?Object.assign({},eC):a,Ys(r))return ls(this.currentUrlTree,r,l);const h=this.parseUrl(r);return ls(this.currentUrlTree,h,l)}removeEmptyProps(r){return Object.keys(r).reduce((a,l)=>{const h=r[l];return null!=h&&(a[l]=h),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Oa(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,l,h,g){var C,D;if(this.disposed)return Promise.resolve(!1);const x=this.getTransition(),R=_f(a)&&x&&!_f(x.source),Y=(this.lastSuccessfulId===x.id||this.currentNavigation?x.rawUrl:x.urlAfterRedirects).toString()===r.toString();if(R&&Y)return Promise.resolve(!0);let we,Ue,He;g?(we=g.resolve,Ue=g.reject,He=g.promise):He=new Promise((bt,Kt)=>{we=bt,Ue=Kt});const St=++this.navigationId;let Ut;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Ut=l&&l.\u0275routerPageId?l.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(C=this.browserPageId)&&void 0!==C?C:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Ut=0,this.setTransition({id:St,targetPageId:Ut,source:a,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:h,resolve:we,reject:Ue,promise:He,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),He.catch(bt=>Promise.reject(bt))}setBrowserUrl(r,a){const l=this.urlSerializer.serialize(r),h=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(l)||a.extras.replaceUrl?this.location.replaceState(l,"",h):this.location.go(l,"",h)}restoreHistory(r,a=!1){var l,h;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===g&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const l=new hg(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(m.DyG),m.LFG(Yc),m.LFG(hd),m.LFG(Le),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();function _f(i){return"imperative"!==i}let Lg=(()=>{class i{constructor(r,a,l){this.router=r,this.route=a,this.locationStrategy=l,this.commands=[],this.onChanges=new Ar.xQ,this.subscription=r.events.subscribe(h=>{h instanceof Oa&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,a,l,h,g){if(0!==r||a||l||h||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const C={skipLocationChange:jo(this.skipLocationChange),replaceUrl:jo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jo(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(xr),m.Y36(Va),m.Y36(ee))},i.\u0275dir=m.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,a){1&r&&m.NdJ("click",function(h){return a.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&r&&(m.Ikx("href",a.href,m.LSH),m.uIk("target",a.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),i})();function jo(i){return""===i||!!i}let Vg=(()=>{class i{constructor(r,a,l,h,g){this.parentContexts=r,this.location=a,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=h||pt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const g=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),C=this.parentContexts.getOrCreateContext(this.name).children,D=new nC(r,C,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(hd),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},i.\u0275dir=m.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class nC{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===Va?this.route:n===hd?this.childContexts:this.parent.get(n,r)}}class Ug{}class vf{preload(n,r){return(0,nt.of)(null)}}let Ef=(()=>{class i{constructor(r,a,l,h,g){this.router=r,this.injector=h,this.preloadingStrategy=g,this.loader=new Yw(a,l,x=>r.triggerEvent(new d_(x)),x=>r.triggerEvent(new Gs(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ci(r=>r instanceof Oa),$c(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(m.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const l=[];for(const h of a)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const g=h._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else h.loadChildren&&!h.canLoad?l.push(this.preloadConfig(r,h)):h.children&&l.push(this.processRoutes(r,h.children));return(0,tn.D)(l).pipe((0,zu.J)(),(0,ft.U)(h=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,nt.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,In.zg)(h=>(a._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(xr),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Ug))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})(),Bg=(()=>{class i{constructor(r,a,l={}){this.router=r,this.viewportScroller=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Oa&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof tf&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new tf(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(xr),m.LFG(Su),m.LFG(void 0))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();const Ha=new m.OlP("ROUTER_CONFIGURATION"),jg=new m.OlP("ROUTER_FORROOT_GUARD"),yT=[Le,{provide:Yc,useClass:m_},{provide:xr,useFactory:function(i,n,r,a,l,h,g,C={},D,x){const R=new xr(null,i,n,r,a,l,h,Pa(g));return D&&(R.urlHandlingStrategy=D),x&&(R.routeReuseStrategy=x),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(C,R),C.enableTracing&&R.events.subscribe(P=>{var Z,Y;null===(Z=console.group)||void 0===Z||Z.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),R},deps:[Yc,hd,Le,m.zs3,m.v3s,m.Sil,V_,Ha,[class{},new m.FiY],[class{},new m.FiY]]},hd,{provide:Va,useFactory:function(i){return i.routerState.root},deps:[xr]},{provide:m.v3s,useClass:m.EAV},Ef,vf,class{preload(n,r){return r().pipe(Bs(()=>(0,nt.of)(null)))}},{provide:Ha,useValue:{enableTracing:!1}}];function sC(){return new m.PXZ("Router",xr)}let oC=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[yT,H_(r),{provide:jg,useFactory:j_,deps:[[xr,new m.FiY,new m.tp0]]},{provide:Ha,useValue:a||{}},{provide:ee,useFactory:aC,deps:[pe,[new m.tBr(Ae),new m.FiY],Ha]},{provide:Bg,useFactory:_T,deps:[xr,Su,Ha]},{provide:Ug,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:vf},{provide:m.PXZ,multi:!0,useFactory:sC},[Hg,{provide:m.ip1,multi:!0,useFactory:ET,deps:[Hg]},{provide:Vi,useFactory:wT,deps:[Hg]},{provide:m.tb,multi:!0,useExisting:Vi}]]}}static forChild(r){return{ngModule:i,providers:[H_(r)]}}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(jg,8),m.LFG(xr,8))},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({}),i})();function _T(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new Bg(i,n,r)}function aC(i,n,r={}){return r.useHash?new Oe(i,n):new xe(i,n)}function j_(i){return"guarded"}function H_(i){return[{provide:m.deG,multi:!0,useValue:i},{provide:V_,multi:!0,useValue:i}]}let Hg=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ar.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const l=new Promise(C=>a=C),h=this.injector.get(xr),g=this.injector.get(Ha);return"disabled"===g.initialNavigation?(h.setUpLocationChangeListener(),a(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,nt.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),h.initialNavigation()):a(!0),l})}bootstrapListener(r){const a=this.injector.get(Ha),l=this.injector.get(Ef),h=this.injector.get(Bg),g=this.injector.get(xr),C=this.injector.get(m.z2F);r===C.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),h.init(),g.resetRootComponentType(C.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(m.zs3))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i})();function ET(i){return i.appInitializer.bind(i)}function wT(i){return i.bootstrapListener.bind(i)}const Vi=new m.OlP("Router Initializer");var bT=k(3637),fr=k(9126);function $_(){return i=>i.lift(new DT)}class DT{call(n,r){return r.subscribe(new lC(n))}}class lC extends wi.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class AT{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new ST(n,this.compare,this.keySelector))}}class ST extends wi.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let a=!1;if(this.hasKey)try{const{compare:l}=this;a=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}var tt=k(8939),cC=(k(6780),k(4486)),ve=k(8239),Ii=k(5452),G_=k(6034),vl=k(300),Mt=k(4685),gs=function(i,n){return(gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])})(i,n)};function W_(i){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&i[n],a=0;if(r)return r.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ge,z_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$g=$g||{},gt=z_||self;function Ui(){}function fd(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function $a(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var dC="closure_uid_"+(1e9*Math.random()>>>0),NT=0;function hC(i,n,r){return i.call.apply(i.bind,arguments)}function Bx(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function pr(i,n,r){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hC:Bx).apply(null,arguments)}function K_(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Xn(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,l,h){for(var g=Array(arguments.length-2),C=2;C<arguments.length;C++)g[C-2]=arguments[C];return n.prototype[l].apply(a,g)}}function Ho(){this.s=this.s,this.o=this.o}var Y_={};Ho.prototype.s=!1,Ho.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,dC)&&i[dC]||(i[dC]=++NT)}(this);delete Y_[i]}},Ho.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var MT=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(var r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},OT=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){for(var a=i.length,l="string"==typeof i?i.split(""):i,h=0;h<a;h++)h in l&&n.call(r,l[h],h,i)};function PT(i){return Array.prototype.concat.apply([],arguments)}function fC(i){var n=i.length;if(0<n){for(var r=Array(n),a=0;a<n;a++)r[a]=i[a];return r}return[]}function Q_(i){return/^[\s\xa0]*$/.test(i)}var si,kT=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ii(i,n){return-1!=i.indexOf(n)}function pC(i,n){return i<n?-1:i>n?1:0}e:{var FT=gt.navigator;if(FT){var $o=FT.userAgent;if($o){si=$o;break e}}si=""}function Cf(i,n,r){for(var a in i)n.call(r,i[a],a,i)}function gC(i){var n={};for(var r in i)n[r]=i[r];return n}var J_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gg(i,n){for(var r,a,l=1;l<arguments.length;l++){for(r in a=arguments[l])i[r]=a[r];for(var h=0;h<J_.length;h++)r=J_[h],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function qg(i){return qg[" "](i),i}qg[" "]=Ui;var If,i,LT=ii(si,"Opera"),bi=ii(si,"Trident")||ii(si,"MSIE"),ev=ii(si,"Edge"),tv=ev||bi,VT=ii(si,"Gecko")&&!(ii(si.toLowerCase(),"webkit")&&!ii(si,"Edge"))&&!(ii(si,"Trident")||ii(si,"MSIE"))&&!ii(si,"Edge"),nv=ii(si.toLowerCase(),"webkit")&&!ii(si,"Edge");function mC(){var i=gt.document;return i?i.documentMode:void 0}e:{var rv="",iv=(i=si,VT?/rv:([^\);]+)(\)|;)/.exec(i):ev?/Edge\/([\d\.]+)/.exec(i):bi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nv?/WebKit\/(\S+)/.exec(i):LT?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(iv&&(rv=iv?iv[1]:""),bi){var El=mC();if(null!=El&&El>parseFloat(rv)){If=String(El);break e}}If=rv}var pd={};function sv(){return n=pd,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){for(var i=0,n=kT(String(If)).split("."),r=kT("9").split("."),a=Math.max(n.length,r.length),l=0;0==i&&l<a;l++){var h=n[l]||"",g=r[l]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==h[0].length&&0==g[0].length)break;i=pC(0==h[1].length?0:parseInt(h[1],10),0==g[1].length?0:parseInt(g[1],10))||pC(0==h[2].length,0==g[2].length)||pC(h[2],g[2]),h=h[3],g=g[3]}while(0==i)}return 0<=i}();var n}var md=gt.document&&bi&&(mC()||parseInt(If,10))||void 0,UT=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{gt.addEventListener("test",Ui,n),gt.removeEventListener("test",Ui,n)}catch(r){}return i}();function gr(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function yd(i,n){if(gr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(VT){e:{try{qg(n.nodeName);var l=!0;break e}catch(h){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ov[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&yd.Z.h.call(this)}}gr.prototype.h=function(){this.defaultPrevented=!0},Xn(yd,gr);var ov={2:"touch",3:"pen",4:"mouse"};yd.prototype.h=function(){yd.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var wl="closure_listenable_"+(1e6*Math.random()|0),yC=0;function Wg(i,n,r,a,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=l,this.key=++yC,this.ca=this.fa=!1}function zg(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function bf(i){this.src=i,this.g={},this.h=0}function _C(i,n){var r=n.type;if(r in i.g){var h,a=i.g[r],l=MT(a,n);(h=0<=l)&&Array.prototype.splice.call(a,l,1),h&&(zg(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Zg(i,n,r,a){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==n&&h.capture==!!r&&h.ia==a)return l}return-1}bf.prototype.add=function(i,n,r,a,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var g=Zg(i,n,a,l);return-1<g?(n=i[g],r||(n.fa=!1)):((n=new Wg(n,this.src,h,!!a,l)).fa=r,i.push(n)),n};var Kg="closure_lm_"+(1e6*Math.random()|0),av={};function uv(i,n,r,a,l){if(a&&a.once)return oi(i,n,r,a,l);if(Array.isArray(n)){for(var h=0;h<n.length;h++)uv(i,n[h],r,a,l);return null}return r=cv(r),i&&i[wl]?i.N(n,r,$a(a)?!!a.capture:!!a,l):vC(i,n,r,!1,a,l)}function vC(i,n,r,a,l,h){if(!n)throw Error("Invalid event type");var g=$a(l)?!!l.capture:!!l,C=Yg(i);if(C||(i[Kg]=C=new bf(i)),(r=C.add(n,r,a,g,h)).proxy)return r;if(a=function(){var n=Hx;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)UT||(l=g),void 0===l&&(l=!1),i.addEventListener(n.toString(),a,l);else if(i.attachEvent)i.attachEvent(jT(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function oi(i,n,r,a,l){if(Array.isArray(n)){for(var h=0;h<n.length;h++)oi(i,n[h],r,a,l);return null}return r=cv(r),i&&i[wl]?i.O(n,r,$a(a)?!!a.capture:!!a,l):vC(i,n,r,!0,a,l)}function EC(i,n,r,a,l){if(Array.isArray(n))for(var h=0;h<n.length;h++)EC(i,n[h],r,a,l);else a=$a(a)?!!a.capture:!!a,r=cv(r),i&&i[wl]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=Zg(h=i.g[n],r,a,l))&&(zg(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[n],i.h--))):i&&(i=Yg(i))&&(n=i.g[n.toString()],i=-1,n&&(i=Zg(n,r,a,l)),(r=-1<i?n[i]:null)&&lv(r))}function lv(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[wl])_C(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(jT(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=Yg(n))?(_C(r,i),0==r.h&&(r.src=null,n[Kg]=null)):zg(i)}}}function jT(i){return i in av?av[i]:av[i]="on"+i}function Hx(i,n){if(i.ca)i=!0;else{n=new yd(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&lv(i),i=r.call(a,n)}return i}function Yg(i){return(i=i[Kg])instanceof bf?i:null}var wC="__closure_events_fn_"+(1e9*Math.random()>>>0);function cv(i){return"function"==typeof i?i:(i[wC]||(i[wC]=function(n){return i.handleEvent(n)}),i[wC])}function Bn(){Ho.call(this),this.i=new bf(this),this.P=this,this.I=null}function er(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new gr(n,i);else if(n instanceof gr)n.target=n.target||i;else{var l=n;Gg(n=new gr(a,i),l)}if(l=!0,r)for(var h=r.length-1;0<=h;h--){var g=n.g=r[h];l=Qg(g,a,!0,n)&&l}if(l=Qg(g=n.g=i,a,!0,n)&&l,l=Qg(g,a,!1,n)&&l,r)for(h=0;h<r.length;h++)l=Qg(g=n.g=r[h],a,!1,n)&&l}function Qg(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,h=0;h<n.length;++h){var g=n[h];if(g&&!g.ca&&g.capture==r){var C=g.listener,D=g.ia||g.src;g.fa&&_C(i.i,g),l=!1!==C.call(D,a)&&l}}return l&&!a.defaultPrevented}Xn(Bn,Ho),Bn.prototype[wl]=!0,Bn.prototype.removeEventListener=function(i,n,r,a){EC(this,i,n,r,a)},Bn.prototype.M=function(){if(Bn.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)zg(r[a]);delete i.g[n],i.h--}}this.I=null},Bn.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},Bn.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var dv=gt.JSON.stringify;function HT(){var i=ms,n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var Jg,CC=function(){function i(){this.h=this.g=null}return i.prototype.add=function(n,r){var a=IC.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a},i}(),IC=new(function(){function i(n,r){this.i=n,this.j=r,this.h=0,this.g=null}return i.prototype.get=function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n},i}())(function(){return new bC},function(i){return i.reset()}),bC=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(n,r){this.h=n,this.g=r,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function $T(i){gt.setTimeout(function(){throw i},0)}function hv(i,n){Jg||function(){var i=gt.Promise.resolve(void 0);Jg=function(){i.then(pv)}}(),fv||(Jg(),fv=!0),ms.add(i,n)}var fv=!1,ms=new CC;function pv(){for(var i;i=HT();){try{i.h.call(i.g)}catch(r){$T(r)}var n=IC;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}fv=!1}function Xg(i,n){Bn.call(this),this.h=i||1,this.g=n||gt,this.j=pr(this.kb,this),this.l=Date.now()}function gv(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function TC(i,n,r){if("function"==typeof i)r&&(i=pr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=pr(i.handleEvent,i)}return 2147483647<Number(n)?-1:gt.setTimeout(i,n||0)}function mv(i){i.g=TC(function(){i.g=null,i.i&&(i.i=!1,mv(i))},i.j);var n=i.h;i.h=null,i.m.apply(null,n)}Xn(Xg,Bn),(Ge=Xg.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),er(this,"tick"),this.da&&(gv(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){Xg.Z.M.call(this),gv(this),delete this.g};var GT=function(i){function n(r,a){var l=i.call(this)||this;return l.m=r,l.j=a,l.h=null,l.i=!1,l.g=null,l}return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}gs(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,i),n.prototype.l=function(r){this.h=arguments,this.g?this.i=!0:mv(this)},n.prototype.M=function(){i.prototype.M.call(this),this.g&&(gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(Ho);function Df(i){Ho.call(this),this.h=i,this.g={}}Xn(Df,Ho);var AC=[];function em(i,n,r,a){Array.isArray(r)||(r&&(AC[0]=r.toString()),r=AC);for(var l=0;l<r.length;l++){var h=uv(n,r[l],a||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function SC(i){Cf(i.g,function(n,r){this.g.hasOwnProperty(r)&&lv(n)},i),i.g={}}function tm(){this.g=!0}function _d(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<l.length;g++)l[g]=""}}}return dv(r)}catch(C){return n}}(i,r)+(a?" "+a:"")})}Df.prototype.M=function(){Df.Z.M.call(this),SC(this)},Df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tm.prototype.Aa=function(){this.g=!1},tm.prototype.info=function(){};var qa={},xC=null;function rm(){return xC=xC||new Bn}function im(i){gr.call(this,qa.Ma,i)}function sm(i){var n=rm();er(n,new im(n,i))}function NC(i,n){gr.call(this,qa.STAT_EVENT,i),this.stat=n}function Nr(i){var n=rm();er(n,new NC(n,i))}function Ev(i,n){gr.call(this,qa.Na,i),this.size=n}function vd(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return gt.setTimeout(function(){i()},n)}qa.Ma="serverreachability",Xn(im,gr),qa.STAT_EVENT="statevent",Xn(NC,gr),qa.Na="timingevent",Xn(Ev,gr);var Tf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ys(){}function RC(){}ys.prototype.h=null;var om,Sf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function MC(){gr.call(this,"d")}function Wa(){gr.call(this,"c")}function za(){}function Go(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new Df(this),this.P=Cv,this.W=new Xg(i=tv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new OC}function OC(){this.i=null,this.g="",this.h=!1}Xn(MC,gr),Xn(Wa,gr),Xn(za,ys),za.prototype.g=function(){return new XMLHttpRequest},za.prototype.i=function(){return{}},om=new za;var Cv=45e3,am={},um={};function lm(i,n,r){i.K=1,i.v=hm(_s(n)),i.s=r,i.U=!0,PC(i,null)}function PC(i,n){i.F=Date.now(),Ed(i),i.A=_s(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),$C(r.h,"t",a),i.C=0,r=i.l.H,i.h=new OC,i.g=kv(i.l,r?n:null,!i.s),0<i.O&&(i.L=new GT(pr(i.Ia,i,i.g),i.O)),em(i.V,i.g,"readystatechange",i.gb),n=i.H?gC(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),sm(1),function(i,n,r,a,l,h){i.info(function(){if(i.g)if(h)for(var g="",C=h.split("&"),D=0;D<C.length;D++){var x=C[D].split("=");if(1<x.length){var R=x[0];x=x[1];var P=R.split("_");g=2<=P.length&&"type"==P[1]?g+(R+"=")+x+"&":g+(R+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+n+"\n"+r+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function cm(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function kC(i,n,r){for(var l,a=!0;!i.I&&i.C<r.length;){if((l=qT(i,r))==um){4==n&&(i.o=4,Nr(14),a=!1),_d(i.j,i.m,null,"[Incomplete Response]");break}if(l==am){i.o=4,Nr(15),_d(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}_d(i.j,i.m,l,null),Za(i,l)}cm(i)&&l!=um&&l!=am&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Nr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Ya(n),n.L=!0,Nr(11))):(_d(i.j,i.m,r,"[Invalid Chunked Response]"),Il(i),Nf(i))}function qT(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?um:(r=Number(n.substring(r,a)),isNaN(r)?am:(a+=1)+r>n.length?um:(n=n.substr(a,r),i.C=a+r,n))}function Ed(i){i.Y=Date.now()+i.P,Cl(i,i.P)}function Cl(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=vd(pr(i.eb,i),n)}function xf(i){i.B&&(gt.clearTimeout(i.B),i.B=null)}function Nf(i){0==i.l.G||i.I||xl(i.l,i)}function Il(i){xf(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,gv(i.W),SC(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function Za(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||ZC(r.i,i)))if(r.I=i.N,!i.J&&ZC(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(He){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=vd(pr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Wo(r),Di(r)}Ka(r),Nr(18)}if(1>=zC(r.i)&&r.ka){try{r.ka()}catch(He){}r.ka=void 0}}else ji(r,11)}else if((i.J||r.g==i)&&Wo(r),!Q_(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){var h=l[n];if(r.U=h[0],h=h[1],2==r.G)if("c"==h[0]){r.J=h[1],r.la=h[2];var g=h[3];null!=g&&(r.ma=g,r.h.info("VER="+r.ma));var C=h[4];null!=C&&(r.za=C,r.h.info("SVER="+r.za));var D=h[5];null!=D&&"number"==typeof D&&0<D&&(r.K=a=1.5*D,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;var x=i.g;if(x){var R=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var P=a.i;!P.g&&(ii(R,"spdy")||ii(R,"quic")||ii(R,"h2"))&&(P.j=P.l,P.g=new Set,P.h&&(KC(P,P.h),P.h=null))}if(a.D){var Z=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(a.sa=Z,An(a.F,a.D,Z))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var Y=i;if((a=r).oa=Pv(a,a.H?a.la:null,a.W),Y.J){fm(a.i,Y);var we=Y,Ue=a.K;Ue&&we.setTimeout(Ue),we.B&&(xf(we),Ed(we)),a.g=Y}else Al(a);0<r.l.length&&Js(r)}else"stop"!=h[0]&&"close"!=h[0]||ji(r,7);else 3==r.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?ji(r,7):kf(r):"noop"!=h[0]&&r.j&&r.j.wa(h),r.A=0)}sm(4)}catch(He){}}function Iv(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(fd(i)||"string"==typeof i)OT(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(fd(i)||"string"==typeof i){r=[];for(var a=i.length,l=0;l<a;l++)r.push(l)}else for(l in r=[],a=0,i)r[a++]=l;l=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(fd(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var h=0;h<l;h++)n.call(void 0,a[h],r&&r[h],i)}}function wd(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof wd)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function bv(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];Cd(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)Cd(l,a=i.g[n])||(i.g[r++]=a,l[a]=1),n++;i.g.length=r}}function Cd(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(Ge=Go.prototype).setTimeout=function(i){this.P=i},Ge.gb=function(i){i=i.target;var n=this.L;n&&3==ai(i)?n.l():this.Ia(i)},Ge.Ia=function(i){try{if(i==this.g)e:{var n=ai(this.g),r=this.g.Da(),a=this.g.ba();if(!(3>n)&&(3!=n||tv||this.g&&(this.h.h||this.g.ga()||Mv(this.g)))){this.I||4!=n||7==r||sm(8==r||0>=a?3:2),xf(this);var l=this.g.ba();this.N=l;t:if(cm(this)){var h=Mv(this.g);i="";var g=h.length,C=4==ai(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Il(this),Nf(this);var D="";break t}this.h.i=new gt.TextDecoder}for(r=0;r<g;r++)this.h.h=!0,i+=this.h.i.decode(h[r],{stream:C&&r==g-1});h.splice(0,g),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==l,function(i,n,r,a,l,h,g){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.X,n,l),this.i){if(this.$&&!this.J){t:{if(this.g){var x,R=this.g;if((x=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q_(x)){var P=x;break t}}P=null}if(!(l=P)){this.i=!1,this.o=3,Nr(12),Il(this),Nf(this);break e}_d(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Za(this,l)}this.U?(kC(this,n,D),tv&&this.i&&3==n&&(em(this.V,this.W,"tick",this.fb),this.W.start())):(_d(this.j,this.m,D,null),Za(this,D)),4==n&&Il(this),this.i&&!this.I&&(4==n?xl(this.l,this):(this.i=!1,Ed(this)))}else 400==l&&0<D.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),Il(this),Nf(this)}}}catch(Z){}},Ge.fb=function(){if(this.g){var i=ai(this.g),n=this.g.ga();this.C<n.length&&(xf(this),kC(this,i,n),this.i&&4!=i&&Ed(this))}},Ge.cancel=function(){this.I=!0,Il(this)},Ge.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(sm(3),Nr(17)),Il(this),this.o=2,Nf(this)):Cl(this,this.Y-i)},(Ge=wd.prototype).R=function(){bv(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},Ge.T=function(){return bv(this),this.g.concat()},Ge.get=function(i,n){return Cd(this.h,i)?this.h[i]:n},Ge.set=function(i,n){Cd(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},Ge.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var l=r[a],h=this.get(l);i.call(n,h,l,this)}};var FC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function At(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof At){this.g=void 0!==n?n:i.g,Dv(this,i.j),this.s=i.s,Bi(this,i.i),Id(this,i.m),this.l=i.l,n=i.h;var r=new Td;r.i=n.i,n.g&&(r.g=new wd(n.g),r.h=n.h),dm(this,r),this.o=i.o}else i&&(r=String(i).match(FC))?(this.g=!!n,Dv(this,r[1]||"",!0),this.s=bd(r[2]||""),Bi(this,r[3]||"",!0),Id(this,r[4]),this.l=bd(r[5]||"",!0),dm(this,r[6]||"",!0),this.o=bd(r[7]||"")):(this.g=!!n,this.h=new Td(null,this.g))}function _s(i){return new At(i)}function Dv(i,n,r){i.j=r?bd(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function Bi(i,n,r){i.i=r?bd(n,!0):n}function Id(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function dm(i,n,r){n instanceof Td?(i.h=n,function(i,n){n&&!i.j&&(qo(i),i.i=null,i.g.forEach(function(r,a){var l=a.toLowerCase();a!=l&&(Av(this,a),$C(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Dd(n,Tv)),i.h=new Td(n,i.g))}function An(i,n,r){i.h.set(n,r)}function hm(i){return An(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function bd(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Dd(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,UC),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function UC(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}At.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Dd(n,BC,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Dd(n,BC,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Dd(r,"/"==r.charAt(0)?Rf:ZT,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Dd(r,jC)),i.join("")};var BC=/[#\/\?@]/g,ZT=/[#\?:]/g,Rf=/[#\?]/g,Tv=/[#\?@]/g,jC=/#/g;function Td(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function qo(i){i.g||(i.g=new wd,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),l=null;if(0<=a){var h=i[r].substring(0,a);l=i[r].substring(a+1)}else h=i[r];n(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function Av(i,n){qo(i),n=Ad(i,n),Cd(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Cd((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&bv(i)))}function HC(i,n){return qo(i),n=Ad(i,n),Cd(i.g.h,n)}function $C(i,n,r){Av(i,n),0<r.length&&(i.i=null,i.g.set(Ad(i,n),fC(r)),i.h+=r.length)}function Ad(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}(Ge=Td.prototype).add=function(i,n){qo(this),this.i=null,i=Ad(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},Ge.forEach=function(i,n){qo(this),this.g.forEach(function(r,a){OT(r,function(l){i.call(n,l,a,this)},this)},this)},Ge.T=function(){qo(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var l=i[a],h=0;h<l.length;h++)r.push(n[a]);return r},Ge.R=function(i){qo(this);var n=[];if("string"==typeof i)HC(this,i)&&(n=PT(n,this.g.get(Ad(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=PT(n,i[r])}return n},Ge.set=function(i,n){return qo(this),this.i=null,HC(this,i=Ad(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},Ge.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],l=encodeURIComponent(String(a));a=this.R(a);for(var h=0;h<a.length;h++){var g=l;""!==a[h]&&(g+="="+encodeURIComponent(String(a[h]))),i.push(g)}}return this.i=i.join("&")};var GC=function(n,r){this.h=n,this.g=r};function YT(i){this.l=i||qC,i=gt.PerformanceNavigationTiming?0<(i=gt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(gt.g&&gt.g.Ea&&gt.g.Ea()&&gt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qC=10;function WC(i){return!!i.h||!!i.g&&i.g.size>=i.j}function zC(i){return i.h?1:i.g?i.g.size:0}function ZC(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function KC(i,n){i.g?i.g.add(n):i.h=n}function fm(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function YC(i){var n,r;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var a=i.i;try{for(var l=W_(i.g.values()),h=l.next();!h.done;h=l.next())a=a.concat(h.value.D)}catch(C){n={error:C}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return a}return fC(i.i)}function pm(){}function QC(){this.g=new pm}function $x(i,n,r){var a=r||"";try{Iv(i,function(l,h){var g=l;$a(l)&&(g=dv(l)),n.push(a+h+"="+encodeURIComponent(g))})}catch(l){throw n.push(a+"type="+encodeURIComponent("_badmap")),l}}function Sv(i,n,r,a,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(a)}catch(h){}}function gm(i){this.l=i.$b||null,this.j=i.ib||!1}function xv(i,n){Bn.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YT.prototype.cancel=function(){var i,n;if(this.i=YC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var r=W_(this.g.values()),a=r.next();!a.done;a=r.next())a.value.cancel()}catch(h){i={error:h}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this.g.clear()}},pm.prototype.stringify=function(i){return gt.JSON.stringify(i,void 0)},pm.prototype.parse=function(i){return gt.JSON.parse(i,void 0)},Xn(gm,ys),gm.prototype.g=function(){return new xv(this.l,this.j)},gm.prototype.i=function(i){return function(){return i}}({}),Xn(xv,Bn);var mm=0;function Nv(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Sd(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Mf(i)}function Mf(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ge=xv.prototype).open=function(i,n){if(this.readyState!=mm)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Mf(this)},Ge.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||gt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sd(this)),this.readyState=mm},Ge.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Mf(this)),this.g&&(this.readyState=3,Mf(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==gt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nv(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?Sd(this):Mf(this),3==this.readyState&&Nv(this)}},Ge.Ua=function(i){this.g&&(this.response=this.responseText=i,Sd(this))},Ge.Ta=function(i){this.g&&(this.response=i,Sd(this))},Ge.ha=function(){this.g&&Sd(this)},Ge.setRequestHeader=function(i,n){this.v.append(i,n)},Ge.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],n=this.h.entries(),r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(xv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Gx=gt.JSON.parse;function On(i){Bn.call(this),this.headers=new wd,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ym,this.K=this.L=!1}Xn(On,Bn);var ym="",QT=/^https?$/i,Rv=["POST","PUT"];function XT(i){return"content-type"==i.toLowerCase()}function JC(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,XC(i),_m(i)}function XC(i){i.D||(i.D=!0,er(i,"complete"),er(i,"error"))}function eI(i){if(i.h&&void 0!==$g&&(!i.C[1]||4!=ai(i)||2!=i.ba()))if(i.v&&4==ai(i))TC(i.Fa,0,i);else if(er(i,"readystatechange"),4==ai(i)){i.h=!1;try{var a,n=i.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(a=r)){var l;if(l=0===n){var h=String(i.H).match(FC)[1]||null;if(!h&&gt.self&&gt.self.location){var g=gt.self.location.protocol;h=g.substr(0,g.length-1)}l=!QT.test(h?h.toLowerCase():"")}a=l}if(a)er(i,"complete"),er(i,"success");else{i.m=6;try{var C=2<ai(i)?i.g.statusText:""}catch(D){C=""}i.j=C+" ["+i.ba()+"]",XC(i)}}finally{_m(i)}}}function _m(i,n){if(i.g){Of(i);var r=i.g,a=i.C[0]?Ui:null;i.g=null,i.C=null,n||er(i,"ready");try{r.onreadystatechange=a}catch(l){}}}function Of(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(gt.clearTimeout(i.A),i.A=null)}function ai(i){return i.g?i.g.readyState:0}function Mv(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ym:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function bl(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){var n="";return Cf(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):An(i,n,r))}function Pf(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function tI(i){this.za=0,this.l=[],this.h=new tm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pf("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pf("baseRetryDelayMs",5e3,i),this.$a=Pf("retryDelaySeedMs",1e4,i),this.Ya=Pf("forwardChannelMaxRetries",2,i),this.ra=Pf("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new YT(i&&i.concurrentRequestLimit),this.Ca=new QC,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function kf(i){if(xd(i),3==i.G){var n=i.V++,r=_s(i.F);An(r,"SID",i.J),An(r,"RID",n),An(r,"TYPE","terminate"),Dl(i,r),(n=new Go(i,i.h,n,void 0)).K=2,n.v=hm(_s(r)),r=!1,gt.navigator&&gt.navigator.sendBeacon&&(r=gt.navigator.sendBeacon(n.v.toString(),"")),!r&&gt.Image&&((new Image).src=n.v,r=!0),r||(n.g=kv(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Ed(n)}Ov(i)}function Di(i){i.g&&(Ya(i),i.g.cancel(),i.g=null)}function xd(i){Di(i),i.u&&(gt.clearTimeout(i.u),i.u=null),Wo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&gt.clearTimeout(i.m),i.m=null)}function tr(i,n){i.l.push(new GC(i.Za++,n)),3==i.G&&Js(i)}function Js(i){WC(i.i)||i.m||(i.m=!0,hv(i.Ha,i),i.C=0)}function Ti(i,n){var r;r=n?n.m:i.V++;var a=_s(i.F);An(a,"SID",i.J),An(a,"RID",r),An(a,"AID",i.U),Dl(i,a),i.o&&i.s&&bl(a,i.o,i.s),r=new Go(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=Tl(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),KC(i.i,r),lm(r,a,n)}function Dl(i,n){i.j&&Iv({},function(r,a){An(n,a,r)})}function Tl(i,n,r){r=Math.min(i.l.length,r);var a=i.j?pr(i.j.Oa,i.j,i):null;e:for(var l=i.l,h=-1;;){var g=["count="+r];-1==h?0<r?g.push("ofs="+(h=l[0].h)):h=0:g.push("ofs="+h);for(var C=!0,D=0;D<r;D++){var x=l[D].h,R=l[D].g;if(0>(x-=h))h=Math.max(0,l[D].h-100),C=!1;else try{$x(R,g,"req"+x+"_")}catch(P){a&&a(R)}}if(C){a=g.join("&");break e}}return i=i.l.splice(0,r),n.D=i,a}function Al(i){i.g||i.u||(i.Y=1,hv(i.Ga,i),i.A=0)}function Ka(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=vd(pr(i.Ga,i),Nl(i,i.A)),i.A++,0))}function Ya(i){null!=i.B&&(gt.clearTimeout(i.B),i.B=null)}function Sl(i){i.g=new Go(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=_s(i.oa);An(n,"RID","rpc"),An(n,"SID",i.J),An(n,"CI",i.N?"0":"1"),An(n,"AID",i.U),Dl(i,n),An(n,"TYPE","xmlhttp"),i.o&&i.s&&bl(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=hm(_s(n)),r.s=null,r.U=!0,PC(r,i)}function Wo(i){null!=i.v&&(gt.clearTimeout(i.v),i.v=null)}function xl(i,n){var r=null;if(i.g==n){Wo(i),Ya(i),i.g=null;var a=2}else{if(!ZC(i.i,n))return;r=n.D,fm(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;er(a=rm(),new Ev(a,r,n,l)),Js(i)}else Al(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==a&&function(i,n){return!(zC(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=vd(pr(i.Ha,i,n),Nl(i,i.C)),i.C++,0)))}(i,n)||2==a&&Ka(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:ji(i,5);break;case 4:ji(i,10);break;case 3:ji(i,6);break;default:ji(i,2)}}function Nl(i,n){var r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function ji(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=pr(i.jb,i);r||(r=new At("//www.google.com/images/cleardot.gif"),gt.location&&"http"==gt.location.protocol||Dv(r,"https"),hm(r)),function(i,n){var r=new tm;if(gt.Image){var a=new Image;a.onload=K_(Sv,r,a,"TestLoadImage: loaded",!0,n),a.onerror=K_(Sv,r,a,"TestLoadImage: error",!1,n),a.onabort=K_(Sv,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=K_(Sv,r,a,"TestLoadImage: timeout",!1,n),gt.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else Nr(2);i.G=0,i.j&&i.j.va(n),Ov(i),xd(i)}function Ov(i){i.G=0,i.I=-1,i.j&&((0!=YC(i.i).length||0!=i.l.length)&&(i.i.i.length=0,fC(i.l),i.l.length=0),i.j.ua())}function Pv(i,n,r){var a=function(i){return i instanceof At?_s(i):new At(i,void 0)}(r);if(""!=a.i)n&&Bi(a,n+"."+a.i),Id(a,a.m);else{var l=gt.location;a=function(i,n,r,a){var l=new At(null,void 0);return i&&Dv(l,i),n&&Bi(l,n),r&&Id(l,r),a&&(l.l=a),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&Cf(i.aa,function(h,g){An(a,g,h)}),r=i.sa,(n=i.D)&&r&&An(a,n,r),An(a,"VER",i.ma),Dl(i,a),a}function kv(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new On(r&&i.Ba&&!i.qa?new gm({ib:!0}):i.qa)).L=i.H,n}function Fv(){}function Ff(){if(bi&&!(10<=Number(md)))throw Error("Environmental error: no available transport.")}function ui(i,n){Bn.call(this),this.g=new tI(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Q_(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Q_(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Rl(this)}function Lv(i){MC.call(this);var n=i.__sm__;if(n){e:{for(var r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function Vv(){Wa.call(this),this.status=1}function Rl(i){this.g=i}(Ge=On.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():om.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:om),this.g.onreadystatechange=pr(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(h){return void JC(this,h)}i=r||"";var l=new wd(this.headers);a&&Iv(a,function(h,g){l.set(g,h)}),a=function(i){e:{for(var n=XT,r=i.length,a="string"==typeof i?i.split(""):i,l=0;l<r;l++)if(l in a&&n.call(void 0,a[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=gt.FormData&&i instanceof gt.FormData,!(0<=MT(Rv,n))||a||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,g){this.g.setRequestHeader(g,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Of(this),0<this.B&&((this.K=function(i){return bi&&sv()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.pa,this)):this.A=TC(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){JC(this,h)}},Ge.pa=function(){void 0!==$g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},Ge.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,er(this,"complete"),er(this,"abort"),_m(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),On.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?eI(this):this.cb())},Ge.cb=function(){eI(this)},Ge.ba=function(){try{return 2<ai(this)?this.g.status:-1}catch(i){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ge.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),Gx(n)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=tI.prototype).ma=8,Ge.G=1,Ge.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},Ge.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var n=new Go(this,this.h,i,void 0),r=this.s;if(this.P&&(r?Gg(r=gC(r),this.P):r=this.P),null===this.o&&(n.H=r),this.ja)e:{for(var a=0,l=0;l<this.l.length;l++){var h=this.l[l];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(a+=h)){a=l;break e}if(4096===a||l===this.l.length-1){a=l+1;break e}}a=1e3}else a=1e3;a=Tl(this,n,a),An(l=_s(this.F),"RID",i),An(l,"CVER",22),this.D&&An(l,"X-HTTP-Session-Id",this.D),Dl(this,l),this.o&&r&&bl(l,this.o,r),KC(this.i,n),this.Ra&&An(l,"TYPE","init"),this.ja?(An(l,"$req",a),An(l,"SID","null"),n.$=!0,lm(n,l,null)):lm(n,l,a),this.G=2}}else 3==this.G&&(i?Ti(this,i):0==this.l.length||WC(this.i)||Ti(this))},Ge.Ga=function(){if(this.u=null,Sl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=vd(pr(this.bb,this),i)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nr(10),Di(this),Sl(this))},Ge.ab=function(){null!=this.v&&(this.v=null,Di(this),Ka(this),Nr(19))},Ge.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Nr(2)):(this.h.info("Failed to ping google.com"),Nr(1))},(Ge=Fv.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},Ff.prototype.g=function(i,n){return new ui(i,n)},Xn(ui,Bn),ui.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),hv(pr(i.hb,i,n))),Nr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=Pv(i,null,i.W),Js(i)},ui.prototype.close=function(){kf(this.g)},ui.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,tr(this.g,n)}else this.v?((n={}).__data__=dv(i),tr(this.g,n)):tr(this.g,i)},ui.prototype.M=function(){this.g.j=null,delete this.j,kf(this.g),delete this.g,ui.Z.M.call(this)},Xn(Lv,MC),Xn(Vv,Wa),Xn(Rl,Fv),Rl.prototype.xa=function(){er(this.g,"a")},Rl.prototype.wa=function(i){er(this.g,new Lv(i))},Rl.prototype.va=function(i){er(this.g,new Vv(i))},Rl.prototype.ua=function(){er(this.g,"b")},Ff.prototype.createWebChannel=Ff.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,Tf.NO_ERROR=0,Tf.TIMEOUT=8,Tf.HTTP_ERROR=6,wv.COMPLETE="complete",RC.EventType=Sf,Sf.OPEN="a",Sf.CLOSE="b",Sf.ERROR="c",Sf.MESSAGE="d",Bn.prototype.listen=Bn.prototype.N,On.prototype.listenOnce=On.prototype.O,On.prototype.getLastError=On.prototype.La,On.prototype.getLastErrorCode=On.prototype.Da,On.prototype.getStatus=On.prototype.ba,On.prototype.getResponseJson=On.prototype.Qa,On.prototype.getResponseText=On.prototype.ga,On.prototype.send=On.prototype.ea;var Em=Tf,rI=wv,Bv=qa,jv_PROXY=10,jv_NOPROXY=11,eA=gm,Lf=RC,Hv=On;class mr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let Nd="9.0.2";const Ml=new vl.Yd("@firebase/firestore");function $v(){return Ml.logLevel}function Pe(i,...n){if(Ml.logLevel<=vl.in.DEBUG){const r=n.map(Gv);Ml.debug(`Firestore (${Nd}): ${i}`,...r)}}function zn(i,...n){if(Ml.logLevel<=vl.in.ERROR){const r=n.map(Gv);Ml.error(`Firestore (${Nd}): ${i}`,...r)}}function wm(i,...n){if(Ml.logLevel<=vl.in.WARN){const r=n.map(Gv);Ml.warn(`Firestore (${Nd}): ${i}`,...r)}}function Gv(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Qe(i="Unexpected state"){const n=`FIRESTORE (${Nd}) INTERNAL ASSERTION FAILED: `+i;throw zn(n),new Error(n)}function ot(i,n){i||Qe()}function Ve(i,n){return i}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class rA{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class Wx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(mr.UNAUTHENTICATED))}shutdown(){}}class iA{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class sI{constructor(n){this.t=n,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let l=this.i;const h=x=>this.i!==l?(l=this.i,r(x)):Promise.resolve();let g=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new yr,n.enqueueRetryable(()=>h(this.currentUser))};const C=()=>{const x=g;n.enqueueRetryable((0,ve.Z)(function*(){yield x.promise,yield h(a.currentUser)}))},D=x=>{Pe("FirebaseCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(x=>D(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?D(x):(Pe("FirebaseCredentialsProvider","Auth not yet detected"),g.resolve(),g=new yr)}},0),C()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(Pe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot("string"==typeof a.accessToken),new rA(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ot(null===n||"string"==typeof n),new mr(n)}}class zx{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=mr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class sA{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new zx(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nr{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function oA(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}nr.T=-1;class qv{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const l=oA(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<r&&(a+=n.charAt(l[h]%n.length))}return a}}function Tt(i,n){return i<n?-1:i>n?1:0}function Ol(i,n,r){return i.length===n.length&&i.every((a,l)=>r(a,n[l]))}function Vf(i){return i+"\0"}class rr{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return rr.fromMillis(Date.now())}static fromDate(n){return rr.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new rr(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Tt(this.nanoseconds,n.nanoseconds):Tt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(n){this.timestamp=n}static fromTimestamp(n){return new _t(n)}static min(){return new _t(new rr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function oI(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Pl(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function aI(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Uf{constructor(n,r,a){void 0===r?r=0:r>n.length&&Qe(),void 0===a?a=n.length-r:a>n.length-r&&Qe(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===Uf.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof Uf?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let l=0;l<a;l++){const h=n.get(l),g=r.get(l);if(h<g)return-1;if(h>g)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class Vt extends Uf{construct(n,r,a){return new Vt(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new Vt(r)}static emptyPath(){return new Vt([])}}const uI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Uf{construct(n,r,a){return new _r(n,r,a)}static isValidIdentifier(n){return uI.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(n){const r=[];let a="",l=0;const h=()=>{if(0===a.length)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let g=!1;for(;l<n.length;){const C=n[l];if("\\"===C){if(l+1===n.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const D=n[l+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=D,l+=2}else"`"===C?(g=!g,l++):"."!==C||g?(a+=C,l++):(h(),l++)}if(h(),g)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new _r(r)}static emptyPath(){return new _r([])}}class kl{constructor(n){this.fields=n,n.sort(_r.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Ol(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class jn{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new jn(r)}static fromUint8Array(n){const r=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(n);return new jn(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Tt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(i){if(ot(!!i),"string"==typeof i){let n=0;const r=Zx.exec(i);if(ot(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Hn(i.seconds),nanos:Hn(i.nanos)}}function Hn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Bf(i){return"string"==typeof i?jn.fromBase64String(i):jn.fromUint8Array(i)}function Fl(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function cI(i){const n=i.mapValue.fields.__previous_value__;return Fl(n)?cI(n):n}function Ll(i){const n=Xs(i.mapValue.fields.__local_write_time__.timestampValue);return new rr(n.seconds,n.nanos)}function zo(i){return null==i}function Cm(i){return 0===i&&1/i==-1/0}function Im(i){return"number"==typeof i&&Number.isInteger(i)&&!Cm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class qe{constructor(n){this.path=n}static fromPath(n){return new qe(Vt.fromString(n))}static fromName(n){return new qe(Vt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Vt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return Vt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new qe(new Vt(n.slice()))}}function Qa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fl(i)?4:10:Qe()}function Zo(i,n){const r=Qa(i);if(r!==Qa(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Ll(i).isEqual(Ll(n));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=Xs(a.timestampValue),g=Xs(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,Bf(i.bytesValue).isEqual(Bf(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,l){return Hn(a.geoPointValue.latitude)===Hn(l.geoPointValue.latitude)&&Hn(a.geoPointValue.longitude)===Hn(l.geoPointValue.longitude)}(i,n);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Hn(a.integerValue)===Hn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=Hn(a.doubleValue),g=Hn(l.doubleValue);return h===g?Cm(h)===Cm(g):isNaN(h)&&isNaN(g)}return!1}(i,n);case 9:return Ol(i.arrayValue.values||[],n.arrayValue.values||[],Zo);case 10:return function(a,l){const h=a.mapValue.fields||{},g=l.mapValue.fields||{};if(oI(h)!==oI(g))return!1;for(const C in h)if(h.hasOwnProperty(C)&&(void 0===g[C]||!Zo(h[C],g[C])))return!1;return!0}(i,n);default:return Qe()}var l}function jf(i,n){return void 0!==(i.values||[]).find(r=>Zo(r,n))}function Vl(i,n){const r=Qa(i),a=Qa(n);if(r!==a)return Tt(r,a);switch(r){case 0:return 0;case 1:return Tt(i.booleanValue,n.booleanValue);case 2:return function(l,h){const g=Hn(l.integerValue||l.doubleValue),C=Hn(h.integerValue||h.doubleValue);return g<C?-1:g>C?1:g===C?0:isNaN(g)?isNaN(C)?0:-1:1}(i,n);case 3:return Wv(i.timestampValue,n.timestampValue);case 4:return Wv(Ll(i),Ll(n));case 5:return Tt(i.stringValue,n.stringValue);case 6:return function(l,h){const g=Bf(l),C=Bf(h);return g.compareTo(C)}(i.bytesValue,n.bytesValue);case 7:return function(l,h){const g=l.split("/"),C=h.split("/");for(let D=0;D<g.length&&D<C.length;D++){const x=Tt(g[D],C[D]);if(0!==x)return x}return Tt(g.length,C.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,h){const g=Tt(Hn(l.latitude),Hn(h.latitude));return 0!==g?g:Tt(Hn(l.longitude),Hn(h.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,h){const g=l.values||[],C=h.values||[];for(let D=0;D<g.length&&D<C.length;++D){const x=Vl(g[D],C[D]);if(x)return x}return Tt(g.length,C.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,h){const g=l.fields||{},C=Object.keys(g),D=h.fields||{},x=Object.keys(D);C.sort(),x.sort();for(let R=0;R<C.length&&R<x.length;++R){const P=Tt(C[R],x[R]);if(0!==P)return P;const Z=Vl(g[C[R]],D[x[R]]);if(0!==Z)return Z}return Tt(C.length,x.length)}(i.mapValue,n.mapValue);default:throw Qe()}}function Wv(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Tt(i,n);const r=Xs(i),a=Xs(n),l=Tt(r.seconds,a.seconds);return 0!==l?l:Tt(r.nanos,a.nanos)}function zv(i){return bm(i)}function bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const l=Xs(a);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Bf(i.bytesValue).toBase64():"referenceValue"in i?qe.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let l="[",h=!0;for(const g of a.values||[])h?h=!1:l+=",",l+=bm(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(a){const l=Object.keys(a.fields||{}).sort();let h="{",g=!0;for(const C of l)g?g=!1:h+=",",h+=`${C}:${bm(a.fields[C])}`;return h+"}"}(i.mapValue):Qe();var n}function Rd(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function Dm(i){return!!i&&"integerValue"in i}function Hf(i){return!!i&&"arrayValue"in i}function Tm(i){return!!i&&"nullValue"in i}function Zv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Am(i){return!!i&&"mapValue"in i}function Md(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Pl(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=Md(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Md(i.arrayValue.values[r]);return n}return Object.assign({},i)}class vr{constructor(n){this.value=n}static empty(){return new vr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!Am(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Md(r)}setAll(n){let r=_r.emptyPath(),a={},l=[];n.forEach((g,C)=>{if(!r.isImmediateParentOf(C)){const D=this.getFieldsMap(r);this.applyChanges(D,a,l),a={},l=[],r=C.popLast()}g?a[C.lastSegment()]=Md(g):l.push(C.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,a,l)}delete(n){const r=this.field(n.popLast());Am(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return Zo(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let l=r.mapValue.fields[n.get(a)];Am(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,a){Pl(r,(l,h)=>n[l]=h);for(const l of a)delete n[l]}clone(){return new vr(Md(this.value))}}function Sm(i){const n=[];return Pl(i.fields,(r,a)=>{const l=new _r([r]);if(Am(a)){const h=Sm(a.mapValue).fields;if(0===h.length)n.push(l);else for(const g of h)n.push(l.child(g))}else n.push(l)}),new kl(n)}class cn{constructor(n,r,a,l,h){this.key=n,this.documentType=r,this.version=a,this.data=l,this.documentState=h}static newInvalidDocument(n){return new cn(n,0,_t.min(),vr.empty(),0)}static newFoundDocument(n,r,a){return new cn(n,1,r,a,0)}static newNoDocument(n,r){return new cn(n,2,r,vr.empty(),0)}static newUnknownDocument(n,r){return new cn(n,3,r,vr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof cn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new cn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aA{constructor(n,r=null,a=[],l=[],h=null,g=null,C=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=g,this.endAt=C,this.A=null}}function dI(i,n=null,r=[],a=[],l=null,h=null,g=null){return new aA(i,n,r,a,l,h,g)}function $f(i){const n=Ve(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+zv(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),zo(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=xm(n.startAt)),n.endAt&&(r+="|ub:",r+=xm(n.endAt)),n.A=r}return n.A}function Od(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!_I(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(a=n.filters[l]).op||!r.field.isEqual(a.field)||!Zo(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!EI(i.startAt,n.startAt)&&EI(i.endAt,n.endAt)}function Gf(i){return qe.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Rr extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new pI(n,r,a):"array-contains"===r?new yI(n,a):"in"===r?new Kx(n,a):"not-in"===r?new uA(n,a):"array-contains-any"===r?new lA(n,a):new Rr(n,r,a)}static R(n,r,a){return"in"===r?new gI(n,a):new mI(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Vl(r,this.value)):null!==r&&Qa(this.value)===Qa(r)&&this.P(Vl(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Qe()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pI extends Rr{constructor(n,r,a){super(n,r,a),this.key=qe.fromName(a.referenceValue)}matches(n){const r=qe.comparator(n.key,this.key);return this.P(r)}}class gI extends Rr{constructor(n,r){super(n,"in",r),this.keys=Kv(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class mI extends Rr{constructor(n,r){super(n,"not-in",r),this.keys=Kv(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function Kv(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>qe.fromName(a.referenceValue))}class yI extends Rr{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return Hf(r)&&jf(r.arrayValue,this.value)}}class Kx extends Rr{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&jf(this.value.arrayValue,r)}}class uA extends Rr{constructor(n,r){super(n,"not-in",r)}matches(n){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!jf(this.value.arrayValue,r)}}class lA extends Rr{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!Hf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>jf(this.value.arrayValue,a))}}class Pd{constructor(n,r){this.position=n,this.before=r}}function xm(i){return`${i.before?"b":"a"}:${i.position.map(n=>zv(n)).join(",")}`}class Cn{constructor(n,r="asc"){this.field=n,this.dir=r}}function _I(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function vI(i,n,r){let a=0;for(let l=0;l<i.position.length;l++){const h=n[l],g=i.position[l];if(a=h.field.isKeyField()?qe.comparator(qe.fromName(g.referenceValue),r.key):Vl(g,r.data.field(h.field)),"desc"===h.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function EI(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Zo(i.position[r],n.position[r]))return!1;return!0}class eo{constructor(n,r=null,a=[],l=[],h=null,g="F",C=null,D=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=g,this.startAt=C,this.endAt=D,this.V=null,this.S=null}}function wI(i,n,r,a,l,h,g,C){return new eo(i,n,r,a,l,h,g,C)}function Ul(i){return new eo(i)}function qf(i){return!zo(i.limit)&&"F"===i.limitType}function Ko(i){return!zo(i.limit)&&"L"===i.limitType}function Yv(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Qv(i){for(const n of i.filters)if(n.v())return n.field;return null}function Nm(i){return null!==i.collectionGroup}function kd(i){const n=Ve(i);if(null===n.V){n.V=[];const r=Qv(n),a=Yv(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new Cn(r)),n.V.push(new Cn(_r.keyField(),"asc"));else{let l=!1;for(const h of n.explicitOrderBy)n.V.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Cn(_r.keyField(),h))}}}return n.V}function Ai(i){const n=Ve(i);if(!n.S)if("F"===n.limitType)n.S=dI(n.path,n.collectionGroup,kd(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const h of kd(n))r.push(new Cn(h.field,"desc"===h.dir?"asc":"desc"));const a=n.endAt?new Pd(n.endAt.position,!n.endAt.before):null,l=n.startAt?new Pd(n.startAt.position,!n.startAt.before):null;n.S=dI(n.path,n.collectionGroup,r,n.filters,n.limit,a,l)}return n.S}function cA(i,n,r){return new eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function Fd(i,n){return Od(Ai(i),Ai(n))&&i.limitType===n.limitType}function Rm(i){return`${$f(Ai(i))}|lt:${i.limitType}`}function Hi(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${zv(a.value)}`;var a}).join(", ")}]`),zo(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+xm(i.startAt)),i.endAt&&(n+=", endAt: "+xm(i.endAt)),`Target(${n})`}(Ai(i))}; limitType=${i.limitType})`}function Wf(i,n){return n.isFoundDocument()&&function(r,a){const l=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):qe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,a){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(i,n)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!vI(r.startAt,kd(r),a)||r.endAt&&vI(r.endAt,kd(r),a)));var r,a}function CI(i){return(n,r)=>{let a=!1;for(const l of kd(i)){const h=to(l,n,r);if(0!==h)return h;a=a||l.field.isKeyField()}return 0}}function to(i,n,r){const a=i.field.isKeyField()?qe.comparator(n.key,r.key):function(l,h,g){const C=h.data.field(l),D=g.data.field(l);return null!==C&&null!==D?Vl(C,D):Qe()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Qe()}}function $i(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(n)?"-0":n}}function Gi(i){return{integerValue:""+i}}function Jv(i,n){return Im(n)?Gi(n):$i(i,n)}class zf{constructor(){this._=void 0}}function dA(i,n,r){return i instanceof Ld?function(a,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(r,n):i instanceof Yo?Vd(i,n):i instanceof Bl?Xv(i,n):function(a,l){const h=II(a,l),g=eE(h)+eE(a.C);return Dm(h)&&Dm(a.C)?Gi(g):$i(a.N,g)}(i,n)}function hA(i,n,r){return i instanceof Yo?Vd(i,n):i instanceof Bl?Xv(i,n):r}function II(i,n){return i instanceof Ud?Dm(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class Ld extends zf{}class Yo extends zf{constructor(n){super(),this.elements=n}}function Vd(i,n){const r=tE(n);for(const a of i.elements)r.some(l=>Zo(l,a))||r.push(a);return{arrayValue:{values:r}}}class Bl extends zf{constructor(n){super(),this.elements=n}}function Xv(i,n){let r=tE(n);for(const a of i.elements)r=r.filter(l=>!Zo(l,a));return{arrayValue:{values:r}}}class Ud extends zf{constructor(n,r){super(),this.N=n,this.C=r}}function eE(i){return Hn(i.integerValue||i.doubleValue)}function tE(i){return Hf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ja{constructor(n,r){this.field=n,this.transform=r}}class bI{constructor(n,r){this.version=n,this.transformResults=r}}class Pn{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Pn}static exists(n){return new Pn(void 0,n)}static updateTime(n){return new Pn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Bd(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class jl{}function DI(i,n,r){i instanceof jd?function(a,l,h){const g=a.value.clone(),C=AI(a.fieldTransforms,l,h.transformResults);g.setAll(C),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,n,r):i instanceof Qo?function(a,l,h){if(!Bd(a.precondition,l))return void l.convertToUnknownDocument(h.version);const g=AI(a.fieldTransforms,l,h.transformResults),C=l.data;C.setAll(iE(a)),C.setAll(g),l.convertToFoundDocument(h.version,C).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function Mm(i,n,r){var l;i instanceof jd?function(a,l,h){if(!Bd(a.precondition,l))return;const g=a.value.clone(),C=SI(a.fieldTransforms,h,l);g.setAll(C),l.convertToFoundDocument(rE(l),g).setHasLocalMutations()}(i,n,r):i instanceof Qo?function(a,l,h){if(!Bd(a.precondition,l))return;const g=SI(a.fieldTransforms,h,l),C=l.data;C.setAll(iE(a)),C.setAll(g),l.convertToFoundDocument(rE(l),C).setHasLocalMutations()}(i,n,r):Bd(i.precondition,l=n)&&l.convertToNoDocument(_t.min())}function TI(i,n){let r=null;for(const a of i.fieldTransforms){const l=n.data.field(a.field),h=II(a.transform,l||null);null!=h&&(null==r&&(r=vr.empty()),r.set(a.field,h))}return r||null}function nE(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&Ol(r,a,(l,h)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof Yo&&a instanceof Yo||r instanceof Bl&&a instanceof Bl?Ol(r.elements,a.elements,Zo):r instanceof Ud&&a instanceof Ud?Zo(r.C,a.C):r instanceof Ld&&a instanceof Ld);var r,a}(l,h))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function rE(i){return i.isFoundDocument()?i.version:_t.min()}class jd extends jl{constructor(n,r,a,l=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}}class Qo extends jl{constructor(n,r,a,l,h=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}}function iE(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function AI(i,n,r){const a=new Map;ot(i.length===r.length);for(let l=0;l<r.length;l++){const h=i[l],g=h.transform,C=n.data.field(h.field);a.set(h.field,hA(g,C,r[l]))}return a}function SI(i,n,r){const a=new Map;for(const l of i){const h=l.transform,g=r.data.field(l.field);a.set(l.field,dA(h,g,n))}return a}class Zf extends jl{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class sE extends jl{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class pA{constructor(n){this.count=n}}var $n,xt;function xI(i){switch(i){case de.OK:return Qe();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Qe()}}function NI(i){if(void 0===i)return zn("GRPC error has no .code"),de.UNKNOWN;switch(i){case $n.OK:return de.OK;case $n.CANCELLED:return de.CANCELLED;case $n.UNKNOWN:return de.UNKNOWN;case $n.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case $n.INTERNAL:return de.INTERNAL;case $n.UNAVAILABLE:return de.UNAVAILABLE;case $n.UNAUTHENTICATED:return de.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case $n.NOT_FOUND:return de.NOT_FOUND;case $n.ALREADY_EXISTS:return de.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return de.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case $n.ABORTED:return de.ABORTED;case $n.OUT_OF_RANGE:return de.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return de.UNIMPLEMENTED;case $n.DATA_LOSS:return de.DATA_LOSS;default:return Qe()}}(xt=$n||($n={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";class Zn{constructor(n,r){this.comparator=n,this.root=r||Er.EMPTY}insert(n,r){return new Zn(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(n){return new Zn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Er.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(0===l)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Om(this.root,n,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Om(this.root,n,this.comparator,!0)}}class Om{constructor(n,r,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=r?a(n.key,r):1,l&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Er{constructor(n,r,a,l,h){this.key=n,this.value=r,this.color=null!=a?a:Er.RED,this.left=null!=l?l:Er.EMPTY,this.right=null!=h?h:Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,l,h){return new Er(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let l=this;const h=a(n,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(n,r,a),null):0===h?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return Er.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const n=this.left.check();if(n!==this.right.check())throw Qe();return n+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(i,n,r,a,l){return this}insert(i,n,r){return new Er(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rn{constructor(n){this.comparator=n,this.data=new Zn(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new RI(this.data.getIterator())}getIteratorFrom(n){return new RI(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof Rn)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new Rn(this.comparator);return r.data=n,r}}class RI{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const gA=new Zn(qe.comparator);function qi(){return gA}const mA=new Zn(qe.comparator);function oE(){return mA}const MI=new Zn(qe.comparator);function aE(){return MI}const OI=new Rn(qe.comparator);function jt(...i){let n=OI;for(const r of i)n=n.add(r);return n}const PI=new Rn(Tt);function Kf(){return PI}class Hd{constructor(n,r,a,l,h){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,$d.createSynthesizedTargetChangeForCurrentChange(n,r)),new Hd(_t.min(),a,Kf(),qi(),jt())}}class $d{constructor(n,r,a,l,h){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,r){return new $d(jn.EMPTY_BYTE_STRING,r,jt(),jt(),jt())}}class Yf{constructor(n,r,a,l){this.k=n,this.removedTargetIds=r,this.key=a,this.$=l}}class Pm{constructor(n,r){this.targetId=n,this.O=r}}class uE{constructor(n,r,a=jn.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=l}}class Xa{constructor(){this.F=0,this.M=Hl(),this.L=jn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=jt(),r=jt(),a=jt();return this.M.forEach((l,h)=>{switch(h){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Qe()}}),new $d(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=Hl()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class yA{constructor(n){this.tt=n,this.et=new Map,this.nt=qi(),this.st=kI(),this.it=new Rn(Tt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:Qe()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,a=n.O.count,l=this.dt(r);if(l){const h=l.target;if(Gf(h))if(0===a){const g=new qe(h.path);this.at(r,g,cn.newNoDocument(g,_t.min()))}else ot(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((h,g)=>{const C=this.dt(g);if(C){if(h.current&&Gf(C.target)){const D=new qe(C.target.path);null!==this.nt.get(D)||this.gt(g,D)||this.at(g,D,cn.newNoDocument(D,n))}h.K&&(r.set(g,h.W()),h.G())}});let a=jt();this.st.forEach((h,g)=>{let C=!0;g.forEachWhile(D=>{const x=this.dt(D);return!x||2===x.purpose||(C=!1,!1)}),C&&(a=a.add(h))});const l=new Hd(n,r,this.it,this.nt,a);return this.nt=qi(),this.st=kI(),this.it=new Rn(Tt),l}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new Xa,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new Rn(Tt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Pe("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Xa),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function kI(){return new Zn(qe.comparator)}function Hl(){return new Zn(qe.comparator)}const Yx={asc:"ASCENDING",desc:"DESCENDING"},lE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qx{constructor(n,r){this.databaseId=n,this.D=r}}function Gd(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function cE(i,n){return i.D?n.toBase64():n.toUint8Array()}function Jx(i,n){return Gd(i,n.toTimestamp())}function je(i){return ot(!!i),_t.fromTimestamp(function(n){const r=Xs(n);return new rr(r.seconds,r.nanos)}(i))}function dE(i,n){return(r=i,new Vt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function FI(i){const n=Vt.fromString(i);return ot(Wd(n)),n}function Qf(i,n){return dE(i.databaseId,n.path)}function Si(i,n){const r=FI(n);if(r.get(1)!==i.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new qe(Sn(r))}function hE(i,n){return dE(i.databaseId,n)}function Jf(i){const n=FI(i);return 4===n.length?Vt.emptyPath():Sn(n)}function eu(i){return new Vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Sn(i){return ot(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function _A(i,n,r){return{name:Qf(i,n),fields:r.value.mapValue.fields}}function fE(i,n,r){const a=Si(i,n.name),l=je(n.updateTime),h=new vr({mapValue:{fields:n.fields}}),g=cn.newFoundDocument(a,l,h);return r&&g.setHasCommittedMutations(),r?g.setHasCommittedMutations():g}function Xf(i,n){let r;if(n instanceof jd)r={update:_A(i,n.key,n.value)};else if(n instanceof Zf)r={delete:Qf(i,n.key)};else if(n instanceof Qo)r={update:_A(i,n.key,n.data),updateMask:ep(n.fieldMask)};else{if(!(n instanceof sE))return Qe();r={verify:Qf(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(l,h){const g=h.transform;if(g instanceof Ld)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ud)return{fieldPath:h.field.canonicalString(),increment:g.C};throw Qe()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:Jx(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Qe()),r;var l}function gE(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?Pn.updateTime(je(l.updateTime)):void 0!==l.exists?Pn.exists(l.exists):Pn.none():Pn.none(),a=n.updateTransforms?n.updateTransforms.map(l=>function(h,g){let C=null;"setToServerValue"in g?(ot("REQUEST_TIME"===g.setToServerValue),C=new Ld):"appendMissingElements"in g?C=new Yo(g.appendMissingElements.values||[]):"removeAllFromArray"in g?C=new Bl(g.removeAllFromArray.values||[]):"increment"in g?C=new Ud(h,g.increment):Qe();const D=_r.fromServerFormat(g.fieldPath);return new Ja(D,C)}(i,l)):[];var l;if(n.update){const l=Si(i,n.update.name),h=new vr({mapValue:{fields:n.update.fields}});if(n.updateMask){const g=new kl((n.updateMask.fieldPaths||[]).map(x=>_r.fromServerFormat(x)));return new Qo(l,h,g,r,a)}return new jd(l,h,r,a)}if(n.delete){const l=Si(i,n.delete);return new Zf(l,r)}if(n.verify){const l=Si(i,n.verify);return new sE(l,r)}return Qe()}function mE(i,n){return{documents:[hE(i,n.path)]}}function VI(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=hE(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=hE(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(C){if(0===C.length)return;const D=C.map(x=>function(R){if("=="===R.op){if(Zv(R.value))return{unaryFilter:{field:$l(R.field),op:"IS_NAN"}};if(Tm(R.value))return{unaryFilter:{field:$l(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(Zv(R.value))return{unaryFilter:{field:$l(R.field),op:"IS_NOT_NAN"}};if(Tm(R.value))return{unaryFilter:{field:$l(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(R.field),op:km(R.op),value:R.value}}}(x));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(n.filters);l&&(r.structuredQuery.where=l);const h=function(C){if(0!==C.length)return C.map(D=>{return{field:$l((x=D).field),direction:wA(x.dir)};var x})}(n.orderBy);h&&(r.structuredQuery.orderBy=h);const g=(D=n.limit,i.D||zo(D)?D:{value:D});var D;return null!==g&&(r.structuredQuery.limit=g),n.startAt&&(r.structuredQuery.startAt=BI(n.startAt)),n.endAt&&(r.structuredQuery.endAt=BI(n.endAt)),r}function UI(i){let n=Jf(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){ot(1===a);const R=r.from[0];R.allDescendants?l=R.collectionId:n=n.child(R.collectionId)}let h=[];r.where&&(h=qd(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(R=>{return new Cn(Gl((P=R).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let C=null;r.limit&&(C=function(R){let P;return P="object"==typeof R?R.value:R,zo(P)?null:P}(r.limit));let D=null;r.startAt&&(D=jI(r.startAt));let x=null;return r.endAt&&(x=jI(r.endAt)),wI(n,l,g,h,C,"F",D,x)}function qd(i){return i?void 0!==i.unaryFilter?[CA(i)]:void 0!==i.fieldFilter?[HI(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>qd(n)).reduce((n,r)=>n.concat(r)):Qe():[]}function BI(i){return{before:i.before,values:i.position}}function jI(i){return new Pd(i.values||[],!!i.before)}function wA(i){return Yx[i]}function km(i){return lE[i]}function $l(i){return{fieldPath:i.canonicalString()}}function Gl(i){return _r.fromServerFormat(i.fieldPath)}function HI(i){return Rr.create(Gl(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Qe()}}(i.fieldFilter.op),i.fieldFilter.value)}function CA(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Gl(i.unaryFilter.field);return Rr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Gl(i.unaryFilter.field);return Rr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gl(i.unaryFilter.field);return Rr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Gl(i.unaryFilter.field);return Rr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Qe()}}function ep(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function Wd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ws(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=$I(n)),n=IA(i.get(r),n);return $I(n)}function IA(i,n){let r=n;const a=i.length;for(let l=0;l<a;l++){const h=i.charAt(l);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function $I(i){return i+"\x01\x01"}function no(i){const n=i.length;if(ot(n>=2),2===n)return ot("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Vt.emptyPath();const r=n-2,a=[];let l="";for(let h=0;h<n;){const g=i.indexOf("\x01",h);switch((g<0||g>r)&&Qe(),i.charAt(g+1)){case"\x01":const C=i.substring(h,g);let D;0===l.length?D=C:(l+=C,D=l,l=""),a.push(D);break;case"\x10":l+=i.substring(h,g),l+="\0";break;case"\x11":l+=i.substring(h,g+1);break;default:Qe()}h=g+2}return new Vt(a)}class GI{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class li{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}li.store="owner",li.key="owner";class tu{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}tu.store="mutationQueues",tu.keyPath="userId";class rn{constructor(n,r,a,l,h){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=h}}rn.store="mutations",rn.keyPath="batchId",rn.userMutationsIndex="userMutationsIndex",rn.userMutationsKeyPath=["userId","batchId"];class Mr{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,ws(r)]}static key(n,r,a){return[n,ws(r),a]}}Mr.store="documentMutations",Mr.PLACEHOLDER=new Mr;class bA{constructor(n,r){this.path=n,this.readTime=r}}class Xx{constructor(n,r){this.path=n,this.version=r}}class kn{constructor(n,r,a,l,h,g){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=l,this.readTime=h,this.parentPath=g}}kn.store="remoteDocuments",kn.readTimeIndex="readTimeIndex",kn.readTimeIndexPath="readTime",kn.collectionReadTimeIndex="collectionReadTimeIndex",kn.collectionReadTimeIndexPath=["parentPath","readTime"];class Jo{constructor(n){this.byteSize=n}}Jo.store="remoteDocumentGlobal",Jo.key="remoteDocumentGlobalKey";class xi{constructor(n,r,a,l,h,g,C){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=g,this.query=C}}xi.store="targets",xi.keyPath="targetId",xi.queryTargetsIndexName="queryTargetsIndex",xi.queryTargetsKeyPath=["canonicalId","targetId"];class ir{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}ir.store="targetDocuments",ir.keyPath=["targetId","path"],ir.documentTargetsIndex="documentTargetsIndex",ir.documentTargetsKeyPath=["path","targetId"];class Or{constructor(n,r,a,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}Or.key="targetGlobalKey",Or.store="targetGlobal";class ql{constructor(n,r){this.collectionId=n,this.parent=r}}ql.store="collectionParents",ql.keyPath=["collectionId","parent"];class Xo{constructor(n,r,a,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=l}}Xo.store="clientMetadata",Xo.keyPath="clientId";class Wl{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}Wl.store="bundles",Wl.keyPath="bundleId";class ro{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}ro.store="namedQueries",ro.keyPath="name";const DA=[tu.store,rn.store,Mr.store,kn.store,xi.store,li.store,Or.store,ir.store,Xo.store,Jo.store,ql.store,Wl.store,ro.store],qI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Te{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Te((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(r,h).next(a,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Te?r:Te.resolve(r)}catch(r){return Te.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.reject(r)}static resolve(n){return new Te((r,a)=>{r(n)})}static reject(n){return new Te((r,a)=>{a(n)})}static waitFor(n){return new Te((r,a)=>{let l=0,h=0,g=!1;n.forEach(C=>{++l,C.next(()=>{++h,g&&h===l&&r()},D=>a(D))}),g=!0,h===l&&r()})}static or(n){let r=Te.resolve(!1);for(const a of n)r=r.next(l=>l?Te.resolve(l):a());return r}static forEach(n,r){const a=[];return n.forEach((l,h)=>{a.push(r.call(this,l,h))}),this.waitFor(a)}}class Fm{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new yr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new tp(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const l=Lm(a.target.error);this.Tt.reject(new tp(n,l))}}static open(n,r,a,l){try{return new Fm(r,n.transaction(l,a))}catch(h){throw new tp(r,h)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Pe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new AA(r)}}class Wi{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===Wi.Rt((0,Mt.z$)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Pe("SimpleDb","Removing database:",n),nu(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Wi.Pt())return!0;const n=(0,Mt.z$)(),r=Wi.Rt(n),a=0<r&&r<10,l=Wi.vt(n),h=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||h)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,ve.Z)(function*(){return r.db||(Pe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,l)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=g=>{a(g.target.result)},h.onblocked=()=>{l(new tp(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=g=>{const C=g.target.error;l("VersionError"===C.name?new Se(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Se(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new tp(n,C))},h.onupgradeneeded=g=>{Pe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.At.Ct(g.target.result,h.transaction,g.oldVersion,r.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,l){var h=this;return(0,ve.Z)(function*(){const g="readonly"===r;let C=0;for(;;){++C;try{h.db=yield h.Dt(n);const D=Fm.open(h.db,n,g?"readonly":"readwrite",a),x=l(D).catch(R=>(D.abort(R),Te.reject(R))).toPromise();return x.catch(()=>{}),yield D.It,x}catch(D){const x="FirebaseError"!==D.name&&C<3;if(Pe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",x),h.close(),!x)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class TA{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return nu(this.kt.delete())}}class tp extends Se{constructor(n,r){super(de.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function zi(i){return"IndexedDbTransactionError"===i.name}class AA{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(Pe("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),nu(a)}add(n){return Pe("SimpleDb","ADD",this.store.name,n,n),nu(this.store.add(n))}get(n){return nu(this.store.get(n)).next(r=>(void 0===r&&(r=null),Pe("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Pe("SimpleDb","DELETE",this.store.name,n),nu(this.store.delete(n))}count(){return Pe("SimpleDb","COUNT",this.store.name),nu(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),l=[];return this.Bt(a,(h,g)=>{l.push(g)}).next(()=>l)}Ut(n,r){Pe("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const l=this.cursor(a);return this.Bt(l,(h,g,C)=>C.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const l=this.cursor(a);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new Te((a,l)=>{r.onerror=h=>{const g=Lm(h.target.error);l(g)},r.onsuccess=h=>{const g=h.target.result;g?n(g.primaryKey,g.value).next(C=>{C?g.continue():a()}):a()}})}Bt(n,r){const a=[];return new Te((l,h)=>{n.onerror=g=>{h(g.target.error)},n.onsuccess=g=>{const C=g.target.result;if(!C)return void l();const D=new TA(C),x=r(C.primaryKey,C.value,D);if(x instanceof Te){const R=x.catch(P=>(D.done(),Te.reject(P)));a.push(R)}D.isDone?l():null===D.Ft?C.continue():C.continue(D.Ft)}}).next(()=>Te.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function nu(i){return new Te((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const l=Lm(a.target.error);r(l)}})}let zI=!1;function Lm(i){const n=Wi.Rt((0,Mt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zI||(zI=!0,setTimeout(()=>{throw a},0)),a}}return i}class ZI extends WI{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function $r(i,n){const r=Ve(i);return Wi.St(r.Qt,n)}class yE{constructor(n,r,a,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(n.key)&&DI(h,n,a[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&Mm(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&Mm(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(_t.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),jt())}isEqual(n){return this.batchId===n.batchId&&Ol(this.mutations,n.mutations,(r,a)=>nE(r,a))&&Ol(this.baseMutations,n.baseMutations,(r,a)=>nE(r,a))}}class np{constructor(n,r,a,l){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(n,r,a){ot(n.mutations.length===a.length);let l=aE();const h=n.mutations;for(let g=0;g<h.length;g++)l=l.insert(h[g].key,a[g].version);return new np(n,r,a,l)}}class ru{constructor(n,r,a,l,h=_t.min(),g=_t.min(),C=jn.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C}withSequenceNumber(n){return new ru(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class _E{constructor(n){this.Wt=n}}function Vm(i,n){if(n.document)return fE(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=qe.fromSegments(n.noDocument.path),a=zd(n.noDocument.readTime),l=cn.newNoDocument(r,a);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=qe.fromSegments(n.unknownDocument.path),a=zd(n.unknownDocument.version);return cn.newUnknownDocument(r,a)}return Qe()}function KI(i,n,r){const a=vE(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const h={name:Qf(C=i.Wt,(D=n).key),fields:D.data.value.mapValue.fields,updateTime:Gd(C,D.version.toTimestamp())};return new kn(null,null,h,n.hasCommittedMutations,a,l)}var C,D;if(n.isNoDocument()){const h=n.key.path.toArray(),g=iu(n.version),C=n.hasCommittedMutations;return new kn(null,new bA(h,g),null,C,a,l)}if(n.isUnknownDocument()){const h=n.key.path.toArray(),g=iu(n.version);return new kn(new Xx(h,g),null,null,!0,a,l)}return Qe()}function vE(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function YI(i){const n=new rr(i[0],i[1]);return _t.fromTimestamp(n)}function iu(i){const n=i.toTimestamp();return new GI(n.seconds,n.nanoseconds)}function zd(i){const n=new rr(i.seconds,i.nanoseconds);return _t.fromTimestamp(n)}function zl(i,n){const r=(n.baseMutations||[]).map(h=>gE(i.Wt,h));for(let h=0;h<n.mutations.length-1;++h){const g=n.mutations[h];h+1<n.mutations.length&&void 0!==n.mutations[h+1].transform&&(g.updateTransforms=n.mutations[h+1].transform.fieldTransforms,n.mutations.splice(h+1,1),++h)}const a=n.mutations.map(h=>gE(i.Wt,h)),l=rr.fromMillis(n.localWriteTimeMs);return new yE(n.batchId,l,r,a)}function rp(i){const n=zd(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?zd(i.lastLimboFreeSnapshotVersion):_t.min();let a;var l;return void 0!==i.query.documents?(ot(1===(l=i.query).documents.length),a=Ai(Ul(Jf(l.documents[0])))):a=Ai(UI(i.query)),new ru(a,i.targetId,0,i.lastListenSequenceNumber,n,r,jn.fromBase64String(i.resumeToken))}function QI(i,n){const r=iu(n.snapshotVersion),a=iu(n.lastLimboFreeSnapshotVersion);let l;l=Gf(n.target)?mE(i.Wt,n.target):VI(i.Wt,n.target);const h=n.resumeToken.toBase64();return new xi(n.targetId,$f(n.target),r,h,n.sequenceNumber,a,l)}function EE(i){const n=UI({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?cA(n,n.limit,"L"):n}class SA{getBundleMetadata(n,r){return JI(n).get(r).next(a=>{if(a)return{id:(l=a).bundleId,createTime:zd(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return JI(n).put({bundleId:(a=r).id,createTime:iu(je(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return XI(n).get(r).next(a=>{if(a)return{name:(l=a).name,query:EE(l.bundledQuery),readTime:zd(l.readTime)};var l})}saveNamedQuery(n,r){return XI(n).put({name:(a=r).name,readTime:iu(je(a.readTime)),bundledQuery:a.bundledQuery});var a}}function JI(i){return $r(i,Wl.store)}function XI(i){return $r(i,ro.store)}class xA{constructor(){this.Gt=new wE}addToCollectionParentIndex(n,r){return this.Gt.add(r),Te.resolve()}getCollectionParents(n,r){return Te.resolve(this.Gt.getEntries(r))}}class wE{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r]||new Rn(Vt.comparator),h=!l.has(a);return this.index[r]=l.add(a),h}has(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(n){return(this.index[n]||new Rn(Vt.comparator)).toArray()}}class eb{constructor(){this.zt=new wE}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const h={collectionId:a,parent:ws(l)};return CE(n).put(h)}return Te.resolve()}getCollectionParents(n,r){const a=[],l=IDBKeyRange.bound([r,""],[Vf(r),""],!1,!0);return CE(n).Lt(l).next(h=>{for(const g of h){if(g.collectionId!==r)break;a.push(no(g.parent))}return a})}}function CE(i){return $r(i,ql.store)}const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ci{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new ci(n,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function IE(i,n,r){const a=i.store(rn.store),l=i.store(Mr.store),h=[],g=IDBKeyRange.only(r.batchId);let C=0;const D=a.Kt({range:g},(R,P,Z)=>(C++,Z.delete()));h.push(D.next(()=>{ot(1===C)}));const x=[];for(const R of r.mutations){const P=Mr.key(n,R.key.path,r.batchId);h.push(l.delete(P)),x.push(R.key)}return Te.waitFor(h).next(()=>x)}function Um(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw Qe();n=i.noDocument}return JSON.stringify(n).length}ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);class bE{constructor(n,r,a,l){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,a,l){ot(""!==n.uid);const h=n.isAuthenticated()?n.uid:"";return new bE(h,r,a,l)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return io(n).Kt({index:rn.userMutationsIndex,range:a},(l,h,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(n,r,a,l){const h=su(n),g=io(n);return g.add({}).next(C=>{ot("number"==typeof C);const D=new yE(C,r,a,l),x=function(Z,Y,we){const Ue=we.baseMutations.map(St=>Xf(Z.Wt,St)),He=we.mutations.map(St=>Xf(Z.Wt,St));return new rn(Y,we.batchId,we.localWriteTime.toMillis(),Ue,He)}(this.N,this.userId,D),R=[];let P=new Rn((Z,Y)=>Tt(Z.canonicalString(),Y.canonicalString()));for(const Z of l){const Y=Mr.key(this.userId,Z.key.path,C);P=P.add(Z.key.path.popLast()),R.push(g.put(x)),R.push(h.put(Y,Mr.PLACEHOLDER))}return P.forEach(Z=>{R.push(this.Ht.addToCollectionParentIndex(n,Z))}),n.addOnCommittedListener(()=>{this.Jt[C]=D.keys()}),Te.waitFor(R).next(()=>D)})}lookupMutationBatch(n,r){return io(n).get(r).next(a=>a?(ot(a.userId===this.userId),zl(this.N,a)):null)}Xt(n,r){return this.Jt[r]?Te.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const l=a.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,l=IDBKeyRange.lowerBound([this.userId,a]);let h=null;return io(n).Kt({index:rn.userMutationsIndex,range:l},(g,C,D)=>{C.userId===this.userId&&(ot(C.batchId>=a),h=zl(this.N,C)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return io(n).Kt({index:rn.userMutationsIndex,range:r,reverse:!0},(l,h,g)=>{a=h.batchId,g.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return io(n).Lt(rn.userMutationsIndex,r).next(a=>a.map(l=>zl(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=Mr.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(a),h=[];return su(n).Kt({range:l},(g,C,D)=>{const[x,R,P]=g,Z=no(R);if(x===this.userId&&r.path.isEqual(Z))return io(n).get(P).next(Y=>{if(!Y)throw Qe();ot(Y.userId===this.userId),h.push(zl(this.N,Y))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Rn(Tt);const l=[];return r.forEach(h=>{const g=Mr.prefixForPath(this.userId,h.path),C=IDBKeyRange.lowerBound(g),D=su(n).Kt({range:C},(x,R,P)=>{const[Z,Y,we]=x,Ue=no(Y);Z===this.userId&&h.path.isEqual(Ue)?a=a.add(we):P.done()});l.push(D)}),Te.waitFor(l).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1,h=Mr.prefixForPath(this.userId,a),g=IDBKeyRange.lowerBound(h);let C=new Rn(Tt);return su(n).Kt({range:g},(D,x,R)=>{const[P,Z,Y]=D,we=no(Z);P===this.userId&&a.isPrefixOf(we)?we.length===l&&(C=C.add(Y)):R.done()}).next(()=>this.Zt(n,C))}Zt(n,r){const a=[],l=[];return r.forEach(h=>{l.push(io(n).get(h).next(g=>{if(null===g)throw Qe();ot(g.userId===this.userId),a.push(zl(this.N,g))}))}),Te.waitFor(l).next(()=>a)}removeMutationBatch(n,r){return IE(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Te.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Te.resolve();const a=IDBKeyRange.lowerBound(Mr.prefixForUser(this.userId)),l=[];return su(n).Kt({range:a},(h,g,C)=>{if(h[0]===this.userId){const D=no(h[1]);l.push(D)}else C.done()}).next(()=>{ot(0===l.length)})})}containsKey(n,r){return nb(n,this.userId,r)}ee(n){return DE(n).get(this.userId).next(r=>r||new tu(this.userId,-1,""))}}function nb(i,n,r){const a=Mr.prefixForPath(n,r.path),l=a[1],h=IDBKeyRange.lowerBound(a);let g=!1;return su(i).Kt({range:h,qt:!0},(C,D,x)=>{const[R,P,Z]=C;R===n&&P===l&&(g=!0),x.done()}).next(()=>g)}function io(i){return $r(i,rn.store)}function su(i){return $r(i,Mr.store)}function DE(i){return $r(i,tu.store)}class ea{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new ea(0)}static ie(){return new ea(-1)}}class NA{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new ea(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>_t.fromTimestamp(new rr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Zd(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(ot(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let l=0;const h=[];return Zd(n).Kt((g,C)=>{const D=rp(C);D.sequenceNumber<=r&&null===a.get(D.targetId)&&(l++,h.push(this.removeTargetData(n,D)))}).next(()=>Te.waitFor(h)).next(()=>l)}forEachTarget(n,r){return Zd(n).Kt((a,l)=>{const h=rp(l);r(h)})}re(n){return Bm(n).get(Or.key).next(r=>(ot(null!==r),r))}oe(n,r){return Bm(n).put(Or.key,r)}ae(n,r){return Zd(n).put(QI(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=$f(r),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let h=null;return Zd(n).Kt({range:l,index:xi.queryTargetsIndexName},(g,C,D)=>{const x=rp(C);Od(r,x.target)&&(h=x,D.done())}).next(()=>h)}addMatchingKeys(n,r,a){const l=[],h=ou(n);return r.forEach(g=>{const C=ws(g.path);l.push(h.put(new ir(a,C))),l.push(this.referenceDelegate.addReference(n,a,g))}),Te.waitFor(l)}removeMatchingKeys(n,r,a){const l=ou(n);return Te.forEach(r,h=>{const g=ws(h.path);return Te.waitFor([l.delete([a,g]),this.referenceDelegate.removeReference(n,a,h)])})}removeMatchingKeysForTargetId(n,r){const a=ou(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),l=ou(n);let h=jt();return l.Kt({range:a,qt:!0},(g,C,D)=>{const x=no(g[1]),R=new qe(x);h=h.add(R)}).next(()=>h)}containsKey(n,r){const a=ws(r.path),l=IDBKeyRange.bound([a],[Vf(a)],!1,!0);let h=0;return ou(n).Kt({index:ir.documentTargetsIndex,qt:!0,range:l},([g,C],D,x)=>{0!==g&&(h++,x.done())}).next(()=>h>0)}Et(n,r){return Zd(n).get(r).next(a=>a?rp(a):null)}}function Zd(i){return $r(i,xi.store)}function Bm(i){return $r(i,Or.store)}function ou(i){return $r(i,ir.store)}function au(i){return TE.apply(this,arguments)}function TE(){return(TE=(0,ve.Z)(function*(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==qI)throw i;Pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function AE([i,n],[r,a]){const l=Tt(i,r);return 0===l?Tt(n,a):l}class rb{constructor(n){this.ue=n,this.buffer=new Rn(AE),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();AE(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ib{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,ve.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){zi(l)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield au(l)}yield r._e(n)}))}}class eN{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return Te.resolve(nr.T);const a=new rb(r);return this.me.forEachTarget(n,l=>a.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>a.fe(l))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(tb)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,l,h,g,C,D,x;const R=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),l=this.params.maximumSequenceNumbersToCollect):l=P,g=Date.now(),this.nthSequenceNumber(n,l))).next(P=>(a=P,C=Date.now(),this.removeTargets(n,a,r))).next(P=>(h=P,D=Date.now(),this.removeOrphanedDocuments(n,a))).next(P=>(x=Date.now(),$v()<=vl.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-R}ms\n\tDetermined least recently used ${l} in `+(C-g)+`ms\n\tRemoved ${h} targets in `+(D-C)+`ms\n\tRemoved ${P} documents in `+(x-D)+`ms\nTotal Duration: ${x-R}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:P})))}}class RA{constructor(n,r){this.db=n,this.garbageCollector=new eN(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(l=>a+l))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,l)=>r(l))}addReference(n,r,a){return so(n,a)}removeReference(n,r,a){return so(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return so(n,r)}Ie(n,r){return function(a,l){let h=!1;return DE(a).jt(g=>nb(a,g,l).next(C=>(C&&(h=!0),Te.resolve(!C)))).next(()=>h)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Te(n,(g,C)=>{if(C<=r){const D=this.Ie(n,g).next(x=>{if(!x)return h++,a.getEntry(n,g).next(()=>(a.removeEntry(g),ou(n).delete([0,ws(g.path)])))});l.push(D)}}).next(()=>Te.waitFor(l)).next(()=>a.apply(n)).next(()=>h)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return so(n,r)}Te(n,r){const a=ou(n);let l,h=nr.T;return a.Kt({index:ir.documentTargetsIndex},([g,C],{path:D,sequenceNumber:x})=>{0===g?(h!==nr.T&&r(new qe(no(l)),h),h=x,l=D):h=nr.T}).next(()=>{h!==nr.T&&r(new qe(no(l)),h)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function so(i,n){return ou(i).put((a=i.currentSequenceNumber,new ir(0,ws(n.path),a)));var a}class ip{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[l,h]of a)if(this.equalsFn(l,n))return h}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),l=this.inner[a];if(void 0!==l){for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],n))return void(l[h]=[n,r]);l.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],n))return 1===a.length?delete this.inner[r]:a.splice(l,1),!0;return!1}forEach(n){Pl(this.inner,(r,a)=>{for(const[l,h]of a)n(l,h)})}isEmpty(){return aI(this.inner)}}class jm{constructor(){this.changes=new ip(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:_t.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:cn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Te.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Hm{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return uu(n).put(SE(r),a)}removeEntry(n,r){const a=uu(n),l=SE(r);return a.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return uu(n).get(SE(r)).next(a=>this.Re(r,a))}be(n,r){return uu(n).get(SE(r)).next(a=>({document:this.Re(r,a),size:Um(a)}))}getEntries(n,r){let a=qi();return this.Pe(n,r,(l,h)=>{const g=this.Re(l,h);a=a.insert(l,g)}).next(()=>a)}ve(n,r){let a=qi(),l=new Zn(qe.comparator);return this.Pe(n,r,(h,g)=>{const C=this.Re(h,g);a=a.insert(h,C),l=l.insert(h,Um(g))}).next(()=>({documents:a,Ve:l}))}Pe(n,r,a){if(r.isEmpty())return Te.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),h=r.getIterator();let g=h.getNext();return uu(n).Kt({range:l},(C,D,x)=>{const R=qe.fromSegments(C);for(;g&&qe.comparator(g,R)<0;)a(g,null),g=h.getNext();g&&g.isEqual(R)&&(a(g,D),g=h.hasNext()?h.getNext():null),g?x.Mt(g.path.toArray()):x.done()}).next(()=>{for(;g;)a(g,null),g=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(n,r,a){let l=qi();const h=r.path.length+1,g={};if(a.isEqual(_t.min())){const C=r.path.toArray();g.range=IDBKeyRange.lowerBound(C)}else{const C=r.path.toArray(),D=vE(a);g.range=IDBKeyRange.lowerBound([C,D],!0),g.index=kn.collectionReadTimeIndex}return uu(n).Kt(g,(C,D,x)=>{if(C.length!==h)return;const R=Vm(this.N,D);r.path.isPrefixOf(R.key.path)?Wf(r,R)&&(l=l.insert(R.key,R)):x.done()}).next(()=>l)}newChangeBuffer(n){return new MA(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return Zl(n).get(Jo.key).next(r=>(ot(!!r),r))}Ae(n,r){return Zl(n).put(Jo.key,r)}Re(n,r){if(r){const a=Vm(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(_t.min()))return a}return cn.newInvalidDocument(n)}}class MA extends jm{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new ip(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(n){const r=[];let a=0,l=new Rn((h,g)=>Tt(h.canonicalString(),g.canonicalString()));return this.changes.forEach((h,g)=>{const C=this.De.get(h);if(g.document.isValidDocument()){const D=KI(this.Se.N,g.document,this.getReadTime(h));l=l.add(h.path.popLast()),a+=Um(D)-C,r.push(this.Se.addEntry(n,h,D))}else if(a-=C,this.trackRemovals){const D=KI(this.Se.N,cn.newNoDocument(h,_t.min()),this.getReadTime(h));r.push(this.Se.addEntry(n,h,D))}else r.push(this.Se.removeEntry(n,h))}),l.forEach(h=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,h))}),r.push(this.Se.updateMetadata(n,a)),Te.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:l})=>(l.forEach((h,g)=>{this.De.set(h,g)}),a))}}function Zl(i){return $r(i,Jo.store)}function uu(i){return $r(i,kn.store)}function SE(i){return i.path.toArray()}class OA{constructor(n){this.N=n}Ct(n,r,a,l){ot(a<l&&a>=0&&l<=11);const h=new Fm("createOrUpgrade",r);var C;a<1&&l>=1&&(n.createObjectStore(li.store),(C=n).createObjectStore(tu.store,{keyPath:tu.keyPath}),C.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0}),C.createObjectStore(Mr.store),Cs(n),function(C){C.createObjectStore(kn.store)}(n));let g=Te.resolve();return a<3&&l>=3&&(0!==a&&(function(C){C.deleteObjectStore(ir.store),C.deleteObjectStore(xi.store),C.deleteObjectStore(Or.store)}(n),Cs(n)),g=g.next(()=>function(C){const D=C.store(Or.store),x=new Or(0,0,_t.min().toTimestamp(),0);return D.put(Or.key,x)}(h))),a<4&&l>=4&&(0!==a&&(g=g.next(()=>function(C,D){return D.store(rn.store).Lt().next(x=>{C.deleteObjectStore(rn.store),C.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0});const R=D.store(rn.store),P=x.map(Z=>R.put(Z));return Te.waitFor(P)})}(n,h))),g=g.next(()=>{!function(C){C.createObjectStore(Xo.store,{keyPath:Xo.keyPath})}(n)})),a<5&&l>=5&&(g=g.next(()=>this.Ce(h))),a<6&&l>=6&&(g=g.next(()=>(function(C){C.createObjectStore(Jo.store)}(n),this.Ne(h)))),a<7&&l>=7&&(g=g.next(()=>this.xe(h))),a<8&&l>=8&&(g=g.next(()=>this.ke(n,h))),a<9&&l>=9&&(g=g.next(()=>{(function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")})(n),function(C){const D=C.objectStore(kn.store);D.createIndex(kn.readTimeIndex,kn.readTimeIndexPath,{unique:!1}),D.createIndex(kn.collectionReadTimeIndex,kn.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&l>=10&&(g=g.next(()=>this.$e(h))),a<11&&l>=11&&(g=g.next(()=>{(function(C){C.createObjectStore(Wl.store,{keyPath:Wl.keyPath})})(n),function(C){C.createObjectStore(ro.store,{keyPath:ro.keyPath})}(n)})),g}Ne(n){let r=0;return n.store(kn.store).Kt((a,l)=>{r+=Um(l)}).next(()=>{const a=new Jo(r);return n.store(Jo.store).put(Jo.key,a)})}Ce(n){const r=n.store(tu.store),a=n.store(rn.store);return r.Lt().next(l=>Te.forEach(l,h=>{const g=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Lt(rn.userMutationsIndex,g).next(C=>Te.forEach(C,D=>{ot(D.userId===h.userId);const x=zl(this.N,D);return IE(n,h.userId,x).next(()=>{})}))}))}xe(n){const r=n.store(ir.store),a=n.store(kn.store);return n.store(Or.store).get(Or.key).next(l=>{const h=[];return a.Kt((g,C)=>{const D=new Vt(g),x=[0,ws(D)];h.push(r.get(x).next(R=>R?Te.resolve():r.put(new ir(0,ws(D),l.highestListenSequenceNumber))))}).next(()=>Te.waitFor(h))})}ke(n,r){n.createObjectStore(ql.store,{keyPath:ql.keyPath});const a=r.store(ql.store),l=new wE,h=g=>{if(l.add(g)){const C=g.lastSegment(),D=g.popLast();return a.put({collectionId:C,parent:ws(D)})}};return r.store(kn.store).Kt({qt:!0},(g,C)=>{const D=new Vt(g);return h(D.popLast())}).next(()=>r.store(Mr.store).Kt({qt:!0},([g,C,D],x)=>{const R=no(C);return h(R.popLast())}))}$e(n){const r=n.store(xi.store);return r.Kt((a,l)=>{const h=rp(l),g=QI(this.N,h);return r.put(g)})}}function Cs(i){i.createObjectStore(ir.store,{keyPath:ir.keyPath}).createIndex(ir.documentTargetsIndex,ir.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(xi.store,{keyPath:xi.keyPath}).createIndex(xi.queryTargetsIndexName,xi.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Or.store)}const $m="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sb{constructor(n,r,a,l,h,g,C,D,x,R){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=h,this.window=g,this.document=C,this.Fe=x,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!sb.bt())throw new Se(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RA(this,l),this.We=r+"main",this.N=new _E(D),this.Ge=new Wi(this.We,11,new OA(this.N)),this.ze=new NA(this.referenceDelegate,this.N),this.Ht=new eb,this.He=new Hm(this.N,this.Ht),this.Je=new SA,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,$m);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new nr(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,ve.Z)(function*(l){if(r.started)return n(l)});return function(l){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,ve.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,ve.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Gm(n).put(new Xo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(zi(n))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return lu(n).get(li.key).next(r=>Te.resolve(this.cn(r)))}un(n){return Gm(n).delete(this.clientId)}hn(){var n=this;return(0,ve.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=$r(a,Xo.store);return l.Lt().next(h=>{const g=n.fn(h,18e5),C=h.filter(D=>-1===g.indexOf(D));return Te.forEach(C,D=>l.delete(D.clientId)).next(()=>C)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Te.resolve(!0):lu(n).get(li.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,$m);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gm(n).Lt().next(a=>void 0===this.fn(a,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,C=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&C)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Pe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,ve.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[li.store,Xo.store],r=>{const a=new ZI(r,nr.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Gm(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return bE.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let h;return Pe("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",DA,g=>(h=new ZI(g,this.Le?this.Le.next():nr.T),"readwrite-primary"===r?this.sn(h).next(C=>!!C||this.rn(h)).next(C=>{if(!C)throw zn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Se(de.FAILED_PRECONDITION,qI);return a(h)}).next(C=>this.an(h).next(()=>C)):this.En(h).next(()=>a(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}En(n){return lu(n).get(li.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Se(de.FAILED_PRECONDITION,$m)})}an(n){const r=new li(this.clientId,this.allowTabSynchronization,Date.now());return lu(n).put(li.key,r)}static bt(){return Wi.bt()}on(n){const r=lu(n);return r.get(li.key).next(a=>this.cn(a)?(Pe("IndexedDbPersistence","Releasing primary lease."),r.delete(li.key)):Te.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(zn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Mt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Pe("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return zn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){zn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function lu(i){return $r(i,li.store)}function Gm(i){return $r(i,Xo.store)}function xE(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class tN{constructor(n,r){this.progress=n,this.Tn=r}}class ob{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(l=>{for(const h of a)h.applyToLocalView(l);return l})}bn(n,r){n.forEach((a,l)=>{for(const h of r)h.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return qe.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):Nm(r)?this.Sn(n,r,a):this.Dn(n,r,a);var l}Vn(n,r){return this.An(n,new qe(r)).next(a=>{let l=oE();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Sn(n,r,a){const l=r.collectionGroup;let h=oE();return this.Ht.getCollectionParents(n,l).next(g=>Te.forEach(g,C=>{const D=(x=r,R=C.child(l),new eo(R,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,R;return this.Dn(n,D,a).next(x=>{x.forEach((R,P)=>{h=h.insert(R,P)})})}).next(()=>h))}Dn(n,r,a){let l,h;return this.He.getDocumentsMatchingQuery(n,r,a).next(g=>(l=g,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(g=>(h=g,this.Cn(n,h,l).next(C=>{l=C;for(const D of h)for(const x of D.mutations){const R=x.key;let P=l.get(R);null==P&&(P=cn.newInvalidDocument(R),l=l.insert(R,P)),Mm(x,P,D.localWriteTime),P.isFoundDocument()||(l=l.remove(R))}}))).next(()=>(l.forEach((g,C)=>{Wf(r,C)||(l=l.remove(g))}),l))}Cn(n,r,a){let l=jt();for(const g of r)for(const C of g.mutations)C instanceof Qo&&null===a.get(C.key)&&(l=l.add(C.key));let h=a;return this.He.getEntries(n,l).next(g=>(g.forEach((C,D)=>{D.isFoundDocument()&&(h=h.insert(C,D))}),h))}}class NE{constructor(n,r,a,l){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=l}static kn(n,r){let a=jt(),l=jt();for(const h of r.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new NE(n,r.fromCache,a,l)}}class ab{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,l){return 0===(h=r).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||a.isEqual(_t.min())?this.Fn(n,r):this.On.Pn(n,l).next(h=>{const g=this.Mn(r,h);return(qf(r)||Ko(r))&&this.Ln(r.limitType,g,l,a)?this.Fn(n,r):($v()<=vl.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Hi(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(C=>(g.forEach(D=>{C=C.insert(D.key,D)}),C)))});var h}Mn(n,r){let a=new Rn(CI(n));return r.forEach((l,h)=>{Wf(n,h)&&(a=a.add(h))}),a}Ln(n,r,a,l){if(a.size!==r.size)return!0;const h="F"===n?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Fn(n,r){return $v()<=vl.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Hi(r)),this.On.getDocumentsMatchingQuery(n,r,_t.min())}}class RE{constructor(n,r,a,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new Zn(Tt),this.qn=new ip(h=>$f(h),Od),this.Kn=_t.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new ob(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function ME(i,n,r,a){return new RE(i,n,r,a)}function qm(i,n){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,ve.Z)(function*(i,n){const r=Ve(i);let a=r.In,l=r.Qn;const h=yield r.persistence.runTransaction("Handle user change","readonly",g=>{let C;return r.In.getAllMutationBatches(g).next(D=>(C=D,a=r.persistence.getMutationQueue(n),l=new ob(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(g))).next(D=>{const x=[],R=[];let P=jt();for(const Z of C){x.push(Z.batchId);for(const Y of Z.mutations)P=P.add(Y.key)}for(const Z of D){R.push(Z.batchId);for(const Y of Z.mutations)P=P.add(Y.key)}return l.Pn(g,P).next(Z=>({Wn:Z,removedBatchIds:x,addedBatchIds:R}))})});return r.In=a,r.Qn=l,r.Bn.$n(r.Qn),h})).apply(this,arguments)}function PA(i,n){const r=Ve(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=n.batch.keys(),h=r.jn.newChangeBuffer({trackRemovals:!0});return function(g,C,D,x){const R=D.batch,P=R.keys();let Z=Te.resolve();return P.forEach(Y=>{Z=Z.next(()=>x.getEntry(C,Y)).next(we=>{const Ue=D.docVersions.get(Y);ot(null!==Ue),we.version.compareTo(Ue)<0&&(R.applyToRemoteDocument(we,D),we.isValidDocument()&&x.addEntry(we,D.commitVersion))})}),Z.next(()=>g.In.removeMutationBatch(C,R))}(r,a,n,h).next(()=>h.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,l))})}function kA(i){const n=Ve(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function FA(i,n){const r=Ve(i),a=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const C=[];n.targetChanges.forEach((x,R)=>{const P=l.get(R);if(!P)return;C.push(r.ze.removeMatchingKeys(h,x.removedDocuments,R).next(()=>r.ze.addMatchingKeys(h,x.addedDocuments,R)));const Z=x.resumeToken;if(Z.approximateByteSize()>0){const Y=P.withResumeToken(Z,a).withSequenceNumber(h.currentSequenceNumber);l=l.insert(R,Y),we=P,He=x,ot((Ue=Y).resumeToken.approximateByteSize()>0),(0===we.resumeToken.approximateByteSize()||Ue.snapshotVersion.toMicroseconds()-we.snapshotVersion.toMicroseconds()>=3e8||He.addedDocuments.size+He.modifiedDocuments.size+He.removedDocuments.size>0)&&C.push(r.ze.updateTargetData(h,Y))}var we,Ue,He});let D=qi();if(n.documentUpdates.forEach((x,R)=>{n.resolvedLimboDocuments.has(x)&&C.push(r.persistence.referenceDelegate.updateLimboDocument(h,x))}),C.push(ub(h,g,n.documentUpdates,a,void 0).next(x=>{D=x})),!a.isEqual(_t.min())){const x=r.ze.getLastRemoteSnapshotVersion(h).next(R=>r.ze.setTargetsMetadata(h,h.currentSequenceNumber,a));C.push(x)}return Te.waitFor(C).next(()=>g.apply(h)).next(()=>r.Qn.vn(h,D)).next(()=>D)}).then(h=>(r.Un=l,h))}function ub(i,n,r,a,l){let h=jt();return r.forEach(g=>h=h.add(g)),n.getEntries(i,h).next(g=>{let C=qi();return r.forEach((D,x)=>{const R=g.get(D),P=(null==l?void 0:l.get(D))||a;x.isNoDocument()&&x.version.isEqual(_t.min())?(n.removeEntry(D,P),C=C.insert(D,x)):!R.isValidDocument()||x.version.compareTo(R.version)>0||0===x.version.compareTo(R.version)&&R.hasPendingWrites?(n.addEntry(x,P),C=C.insert(D,x)):Pe("LocalStore","Ignoring outdated watch update for ",D,". Current version:",R.version," Watch version:",x.version)}),C})}function LA(i,n){const r=Ve(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function Kl(i,n){const r=Ve(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.ze.getTargetData(a,n).next(h=>h?(l=h,Te.resolve(l)):r.ze.allocateTargetId(a).next(g=>(l=new ru(n,g,0,a.currentSequenceNumber),r.ze.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Un.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function Yl(i,n,r){return zm.apply(this,arguments)}function zm(){return(zm=(0,ve.Z)(function*(i,n,r){const a=Ve(i),l=a.Un.get(n),h=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",h,g=>a.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!zi(g))throw g;Pe("LocalStore",`Failed to update sequence numbers for target ${n}: ${g}`)}a.Un=a.Un.remove(n),a.qn.delete(l.target)})).apply(this,arguments)}function Zm(i,n,r){const a=Ve(i);let l=_t.min(),h=jt();return a.persistence.runTransaction("Execute query","readonly",g=>function(C,D,x){const R=Ve(C),P=R.qn.get(x);return void 0!==P?Te.resolve(R.Un.get(P)):R.ze.getTargetData(D,x)}(a,g,Ai(n)).next(C=>{if(C)return l=C.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(g,C.targetId).next(D=>{h=D})}).next(()=>a.Bn.getDocumentsMatchingQuery(g,n,r?l:_t.min(),r?h:jt())).next(C=>({documents:C,Gn:h})))}function lb(i,n){const r=Ve(i),a=Ve(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",h=>a.Et(h,n).next(g=>g?g.target:null))}function OE(i){const n=Ve(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,l,h){const g=Ve(a);let C=qi(),D=vE(h);const x=uu(l),R=IDBKeyRange.lowerBound(D,!0);return x.Kt({index:kn.readTimeIndex,range:R},(P,Z)=>{const Y=Vm(g.N,Z);C=C.insert(Y.key,Y),D=Z.readTime}).next(()=>({Tn:C,readTime:YI(D)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function PE(){return(PE=(0,ve.Z)(function*(i){const n=Ve(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const l=uu(a);let h=_t.min();return l.Kt({index:kn.readTimeIndex,reverse:!0},(g,C,D)=>{C.readTime&&(h=YI(C.readTime)),D.done()}).next(()=>h)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Kd(){return(Kd=(0,ve.Z)(function*(i,n,r,a){const l=Ve(i);let h=jt(),g=qi(),C=aE();for(const R of r){const P=n.zn(R.metadata.name);R.document&&(h=h.add(P)),g=g.insert(P,n.Hn(R)),C=C.insert(P,n.Jn(R.metadata.readTime))}const D=l.jn.newChangeBuffer({trackRemovals:!0}),x=yield Kl(l,(R=a,Ai(Ul(Vt.fromString(`__bundle__/docs/${R}`)))));var R;return l.persistence.runTransaction("Apply bundle documents","readwrite",R=>ub(R,D,g,_t.min(),C).next(P=>(D.apply(R),P)).next(P=>l.ze.removeMatchingKeysForTargetId(R,x.targetId).next(()=>l.ze.addMatchingKeys(R,h,x.targetId)).next(()=>l.Qn.vn(R,P)).next(()=>P)))})).apply(this,arguments)}function Ym(i,n){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,ve.Z)(function*(i,n,r=jt()){const a=yield Kl(i,Ai(EE(n.bundledQuery))),l=Ve(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const g=je(n.readTime);if(a.snapshotVersion.compareTo(g)>=0)return l.Je.saveNamedQuery(h,n);const C=a.withResumeToken(jn.EMPTY_BYTE_STRING,g);return l.Un=l.Un.insert(C.targetId,C),l.ze.updateTargetData(h,C).next(()=>l.ze.removeMatchingKeysForTargetId(h,a.targetId)).next(()=>l.ze.addMatchingKeys(h,r,a.targetId)).next(()=>l.Je.saveNamedQuery(h,n))})})).apply(this,arguments)}class VA{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Te.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:je(a.createTime)}),Te.resolve()}getNamedQuery(n,r){return Te.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:EE(a.bundledQuery),readTime:je(a.readTime)}),Te.resolve();var a}}class kE{constructor(){this.Zn=new Rn(wr.ts),this.es=new Rn(wr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new wr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new wr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new qe(new Vt([])),a=new wr(r,n),l=new wr(r,n+1),h=[];return this.es.forEachInRange([a,l],g=>{this.rs(g),h.push(g.key)}),h}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new qe(new Vt([])),a=new wr(r,n),l=new wr(r,n+1);let h=jt();return this.es.forEachInRange([a,l],g=>{h=h.add(g.key)}),h}containsKey(n){const r=new wr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class wr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return qe.comparator(n.key,r.key)||Tt(n.ls,r.ls)}static ns(n,r){return Tt(n.ls,r.ls)||qe.comparator(n.key,r.key)}}class UA{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Rn(wr.ts)}checkEmpty(n){return Te.resolve(0===this.In.length)}addMutationBatch(n,r,a,l){const h=this.fs;this.fs++;const g=new yE(h,r,a,l);this.In.push(g);for(const C of l)this.ds=this.ds.add(new wr(C.key,h)),this.Ht.addToCollectionParentIndex(n,C.key.path.popLast());return Te.resolve(g)}lookupMutationBatch(n,r){return Te.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),h=l<0?0:l;return Te.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Te.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new wr(r,0),l=new wr(r,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([a,l],g=>{const C=this.ws(g.ls);h.push(C)}),Te.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Rn(Tt);return r.forEach(l=>{const h=new wr(l,0),g=new wr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,g],C=>{a=a.add(C.ls)})}),Te.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1;let h=a;qe.isDocumentKey(h)||(h=h.child(""));const g=new wr(new qe(h),0);let C=new Rn(Tt);return this.ds.forEachWhile(D=>{const x=D.key.path;return!!a.isPrefixOf(x)&&(x.length===l&&(C=C.add(D.ls)),!0)},g),Te.resolve(this.gs(C))}gs(n){const r=[];return n.forEach(a=>{const l=this.ws(a);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){ot(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return Te.forEach(r.mutations,l=>{const h=new wr(l.key,r.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new wr(r,0),l=this.ds.firstAfterOrEqual(a);return Te.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return Te.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class BA{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Zn(qe.comparator),this.size=0}addEntry(n,r,a){const l=r.key,h=this.docs.get(l),g=h?h.size:0,C=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:C,readTime:a}),this.size+=C-g,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return Te.resolve(a?a.document.clone():cn.newInvalidDocument(r))}getEntries(n,r){let a=qi();return r.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.clone():cn.newInvalidDocument(l))}),Te.resolve(a)}getDocumentsMatchingQuery(n,r,a){let l=qi();const h=new qe(r.path.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:C,value:{document:D,readTime:x}}=g.getNext();if(!r.path.isPrefixOf(C.path))break;x.compareTo(a)<=0||Wf(r,D)&&(l=l.insert(D.key,D.clone()))}return Te.resolve(l)}Es(n,r){return Te.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new jA(this)}getSize(n){return Te.resolve(this.size)}}class jA extends jm{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Te.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class HA{constructor(n){this.persistence=n,this.Ts=new ip(r=>$f(r),Od),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Is=0,this.As=new kE,this.targetCount=0,this.Rs=ea.se()}forEachTarget(n,r){return this.Ts.forEach((a,l)=>r(l)),Te.resolve()}getLastRemoteSnapshotVersion(n){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Te.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),Te.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new ea(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Te.resolve()}updateTargetData(n,r){return this.ae(r),Te.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Te.resolve()}removeTargets(n,r,a){let l=0;const h=[];return this.Ts.forEach((g,C)=>{C.sequenceNumber<=r&&null===a.get(C.targetId)&&(this.Ts.delete(g),h.push(this.removeMatchingKeysForTargetId(n,C.targetId)),l++)}),Te.waitFor(h).next(()=>l)}getTargetCount(n){return Te.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return Te.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),Te.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const l=this.persistence.referenceDelegate,h=[];return l&&r.forEach(g=>{h.push(l.markPotentiallyOrphaned(n,g))}),Te.waitFor(h)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Te.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return Te.resolve(a)}containsKey(n,r){return Te.resolve(this.As.containsKey(r))}}class $A{constructor(n,r){this.bs={},this.Le=new nr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new HA(this),this.Ht=new xA,this.He=new BA(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new _E(r),this.Je=new VA(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new UA(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){Pe("MemoryPersistence","Starting transaction:",n);const l=new GA(this.Le.next());return this.referenceDelegate.vs(),a(l).next(h=>this.referenceDelegate.Vs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ss(n,r){return Te.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class GA extends WI{constructor(n){super(),this.currentSequenceNumber=n}}class FE{constructor(n){this.persistence=n,this.Ds=new kE,this.Cs=null}static Ns(n){return new FE(n)}get xs(){if(this.Cs)return this.Cs;throw Qe()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),Te.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),Te.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Te.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(h=>this.xs.add(h.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,a=>{const l=qe.fromPath(a);return this.ks(n,l).next(h=>{h||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Te.or([()=>Te.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function db(i,n){return`firestore_clients_${i}_${n}`}function hb(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function fb(i,n){return`firestore_targets_${i}_${n}`}class Qm{constructor(n,r,a,l){this.user=n,this.batchId=r,this.state=a,this.error=l}static $s(n,r,a){const l=JSON.parse(a);let h,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(h=new Se(l.error.code,l.error.message))),g?new Qm(n,r,l.state,h):(zn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ta{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Se(a.error.code,a.error.message))),h?new ta(n,a.state,l):(zn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Jm{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let l="object"==typeof a&&a.activeTargetIds instanceof Array,h=Kf();for(let g=0;l&&g<a.activeTargetIds.length;++g)l=Im(a.activeTargetIds[g]),h=h.add(a.activeTargetIds[g]);return l?new Jm(n,h):(zn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class LE{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new LE(r.clientId,r.onlineState):(zn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class VE{constructor(){this.activeTargetIds=Kf()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Yd{constructor(n,r,a,l,h){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Zn(Tt),this.started=!1,this.Ks=[];const g=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=db(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new VE),this.Ws=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(C){return`firestore_bundle_loaded_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,ve.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const h=n.getItem(db(n.persistenceKey,l));if(h){const g=Jm.$s(l,h);g&&(n.qs=n.qs.insert(g.clientId,g))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const l=n.Xs(a);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(fb(this.persistenceKey,n));if(a){const l=ta.$s(n,a);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(fb(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(l=>{this.ni(l)}),this.currentUser=n,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Pe("SharedClientState","READ",n,r),r}setItem(n,r){Pe("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Pe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(Pe("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ve.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const l=r.ai(a.key);return r.ci(l,null)}{const l=r.ui(a.key,a.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const l=r.hi(a.key,a.newValue);if(l)return r.li(l)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const l=r.fi(a.key,a.newValue);if(l)return r.di(l)}}else if(a.key===r.Hs){if(null!==a.newValue){const l=r.Xs(a.newValue);if(l)return r.Zs(l)}}else if(a.key===r.Qs){const l=function(h){let g=nr.T;if(null!=h)try{const C=JSON.parse(h);ot("number"==typeof C),g=C}catch(C){zn("SharedClientState","Failed to read sequence number from WebStorage",C)}return g}(a.newValue);l!==nr.T&&r.sequenceNumberHandler(l)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const l=new Qm(this.currentUser,n,r,a),h=hb(this.persistenceKey,this.currentUser,n);this.setItem(h,l.Os())}ni(n){const r=hb(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const l=fb(this.persistenceKey,n),h=new ta(n,r,a);this.setItem(l,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Jm.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),l=Number(a[1]);return Qm.$s(new mr(void 0!==a[2]?a[2]:null),l,r)}fi(n,r){const a=this.zs.exec(n),l=Number(a[1]);return ta.$s(l,r)}Xs(n){return LE.$s(n)}li(n){var r=this;return(0,ve.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),h=this.ti(a),g=[],C=[];return h.forEach(D=>{l.has(D)||g.push(D)}),l.forEach(D=>{h.has(D)||C.push(D)}),this.syncEngine.gi(g,C).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=Kf();return n.forEach((a,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class cu{constructor(){this.yi=new VE,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new VE,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class pb{Ei(n){}shutdown(){}}class gb{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class qA{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class Xm extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,l){const h=this.Bi(n,r);Pe("RestConnection","Sending: ",h,a);const g={};return this.Ui(g,l),this.qi(n,h,g,a).then(C=>(Pe("RestConnection","Received: ",C),C),C=>{throw wm("RestConnection",`${n} failed with error: `,C,"url: ",h,"request:",a),C})}Ki(n,r,a,l){return this.Li(n,r,a,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Nd,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${nN[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,l){return new Promise((h,g)=>{const C=new Hv;C.listenOnce(rI.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Em.NO_ERROR:const x=C.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(x)),h(x);break;case Em.TIMEOUT:Pe("Connection",'RPC "'+n+'" timed out'),g(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:const R=C.getStatus();if(Pe("Connection",'RPC "'+n+'" failed with status:',R,"response text:",C.getResponseText()),R>0){const P=C.getResponseJson().error;if(P&&P.status&&P.message){const Z=function(Y){const we=Y.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(we)>=0?we:de.UNKNOWN}(P.status);g(new Se(Z,P.message))}else g(new Se(de.UNKNOWN,"Server responded with status "+C.getStatus()))}else g(new Se(de.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Pe("Connection",'RPC "'+n+'" completed.')}});const D=JSON.stringify(l);C.send(r,"POST",D,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=new Ff,h=rm(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new eA({})),this.Ui(g.initMessageHeaders,r),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const C=a.join("");Pe("Connection","Creating WebChannel: "+C,g);const D=l.createWebChannel(C,g);let x=!1,R=!1;const P=new qA({vi:Y=>{R?Pe("Connection","Not sending because WebChannel is closed:",Y):(x||(Pe("Connection","Opening WebChannel transport."),D.open(),x=!0),Pe("Connection","WebChannel sending:",Y),D.send(Y))},Vi:()=>D.close()}),Z=(Y,we,Ue)=>{Y.listen(we,He=>{try{Ue(He)}catch(St){setTimeout(()=>{throw St},0)}})};return Z(D,Lf.EventType.OPEN,()=>{R||Pe("Connection","WebChannel transport opened.")}),Z(D,Lf.EventType.CLOSE,()=>{R||(R=!0,Pe("Connection","WebChannel transport closed"),P.$i())}),Z(D,Lf.EventType.ERROR,Y=>{R||(R=!0,wm("Connection","WebChannel transport errored:",Y),P.$i(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),Z(D,Lf.EventType.MESSAGE,Y=>{var we;if(!R){const Ue=Y.data[0];ot(!!Ue);const He=Ue,St=He.error||(null===(we=He[0])||void 0===we?void 0:we.error);if(St){Pe("Connection","WebChannel received error:",St);const Ut=St.status;let bt=function(pi){const aT=$n[pi];if(void 0!==aT)return NI(aT)}(Ut),Kt=St.message;void 0===bt&&(bt=de.INTERNAL,Kt="Unknown error status: "+Ut+" with message "+St.message),R=!0,P.$i(new Se(bt,Kt)),D.close()}else Pe("Connection","WebChannel received:",Ue),P.Oi(Ue)}}),Z(h,Bv.STAT_EVENT,Y=>{Y.stat===jv_PROXY?Pe("Connection","Detected buffering proxy"):Y.stat===jv_NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function mb(){return"undefined"!=typeof window?window:null}function ey(){return"undefined"!=typeof document?document:null}function Qd(i){return new Qx(i,!0)}class ty{constructor(n,r,a=1e3,l=1.5,h=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=l,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-a);l>0&&Pe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class ny{constructor(n,r,a,l,h,g){this.Oe=n,this.er=a,this.nr=l,this.credentialsProvider=h,this.listener=g,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ty(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,ve.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,ve.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,ve.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(zn(r.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===de.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const l=new Se(de.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,ve.Z)(function*(){n.state=0,n.start()}))}pr(n){return Pe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yb extends ny{constructor(n,r,a,l,h){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,h),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(D=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:Qe(),l=n.targetChange.targetIds||[],h=function(D,x){return D.D?(ot(void 0===x||"string"==typeof x),jn.fromBase64String(x||"")):(ot(void 0===x||x instanceof Uint8Array),jn.fromUint8Array(x||new Uint8Array))}(i,n.targetChange.resumeToken),g=n.targetChange.cause,C=g&&function(D){const x=void 0===D.code?de.UNKNOWN:NI(D.code);return new Se(x,D.message||"")}(g);r=new uE(a,l,h,C||null)}else if("documentChange"in n){const a=n.documentChange,l=Si(i,a.document.name),h=je(a.document.updateTime),g=new vr({mapValue:{fields:a.document.fields}}),C=cn.newFoundDocument(l,h,g);r=new Yf(a.targetIds||[],a.removedTargetIds||[],C.key,C)}else if("documentDelete"in n){const a=n.documentDelete,l=Si(i,a.document),h=a.readTime?je(a.readTime):_t.min(),g=cn.newNoDocument(l,h);r=new Yf([],a.removedTargetIds||[],g.key,g)}else if("documentRemove"in n){const a=n.documentRemove,l=Si(i,a.document);r=new Yf([],a.removedTargetIds||[],l,null)}else{if(!("filter"in n))return Qe();{const a=n.filter,h=new pA(a.count||0);r=new Pm(a.targetId,h)}}var D;return r}(this.N,n),a=function(l){if(!("targetChange"in l))return _t.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?_t.min():h.readTime?je(h.readTime):_t.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=eu(this.N),r.addTarget=function(l,h){let g;const C=h.target;return g=Gf(C)?{documents:mE(l,C)}:{query:VI(l,C)},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?g.resumeToken=cE(l,h.resumeToken):h.snapshotVersion.compareTo(_t.min())>0&&(g.readTime=Gd(l,h.snapshotVersion.toTimestamp())),g}(this.N,n);const a=function(i,n){const r=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=eu(this.N),r.removeTarget=n,this.wr(r)}}class _b extends ny{constructor(n,r,a,l,h){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,h),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ot(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(ot(void 0!==n),i.map(r=>function(a,l){let h=je(a.updateTime?a.updateTime:l);return h.isEqual(_t.min())&&(h=je(l)),new bI(h,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=je(n.commitTime);return this.listener.vr(a,r)}return ot(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=eu(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>Xf(this.N,a))};this.wr(r)}}class WA extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Se(de.UNKNOWN,l.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Se(de.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class zA{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(zn(r),this.$r=!1):Pe("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class vb{constructor(n,r,a,l,h){var g=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(C=>{a.enqueueAndForget((0,ve.Z)(function*(){var D;Xl(g)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,ve.Z)(function*(x){const R=Ve(x);R.Kr.add(4),yield na(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield sp(R)}),function(x){return D.apply(this,arguments)})(g))}))}),this.Wr=new zA(a,l)}}function sp(i){return ry.apply(this,arguments)}function ry(){return(ry=(0,ve.Z)(function*(i){if(Xl(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function na(i){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,ve.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function UE(i,n){const r=Ve(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),Jl(r)?du(r):rc(r).cr()&&kt(r,n))}function ra(i,n){const r=Ve(i),a=rc(r);r.qr.delete(n),a.cr()&&ia(r,n),0===r.qr.size&&(a.cr()?a.lr():Xl(r)&&r.Wr.set("Unknown"))}function kt(i,n){i.Gr.Y(n.targetId),rc(i).Ir(n)}function ia(i,n){i.Gr.Y(n),rc(i).Ar(n)}function du(i){i.Gr=new yA({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),rc(i).start(),i.Wr.Or()}function Jl(i){return Xl(i)&&!rc(i).ar()&&i.qr.size>0}function Xl(i){return 0===Ve(i).Kr.size}function lt(i){i.Gr=void 0}function Zi(i){return op.apply(this,arguments)}function op(){return(op=(0,ve.Z)(function*(i){i.qr.forEach((n,r)=>{kt(i,n)})})).apply(this,arguments)}function ec(i,n){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,ve.Z)(function*(i,n){lt(i),Jl(i)?(i.Wr.Lr(n),du(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function wb(i,n,r){return iy.apply(this,arguments)}function iy(){return(iy=(0,ve.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof uE&&2===n.state&&n.cause)try{yield(a=(0,ve.Z)(function*(l,h){const g=h.cause;for(const C of h.targetIds)l.qr.has(C)&&(yield l.remoteSyncer.rejectListen(C,g),l.qr.delete(C),l.Gr.removeTarget(C))}),function(l,h){return a.apply(this,arguments)})(i,n)}catch(a){Pe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield BE(i,a)}else if(n instanceof Yf?i.Gr.rt(n):n instanceof Pm?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(_t.min()))try{const a=yield kA(i.localStore);r.compareTo(a)>=0&&(yield function(l,h){const g=l.Gr._t(h);return g.targetChanges.forEach((C,D)=>{if(C.resumeToken.approximateByteSize()>0){const x=l.qr.get(D);x&&l.qr.set(D,x.withResumeToken(C.resumeToken,h))}}),g.targetMismatches.forEach(C=>{const D=l.qr.get(C);if(!D)return;l.qr.set(C,D.withResumeToken(jn.EMPTY_BYTE_STRING,D.snapshotVersion)),ia(l,C);const x=new ru(D.target,C,1,D.sequenceNumber);kt(l,x)}),l.remoteSyncer.applyRemoteEvent(g)}(i,r))}catch(a){Pe("RemoteStore","Failed to raise snapshot:",a),yield BE(i,a)}var a})).apply(this,arguments)}function BE(i,n,r){return jE.apply(this,arguments)}function jE(){return(jE=(0,ve.Z)(function*(i,n,r){if(!zi(n))throw n;i.Kr.add(1),yield na(i),i.Wr.set("Offline"),r||(r=()=>kA(i.localStore)),i.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield sp(i)}))})).apply(this,arguments)}function Cb(i,n){return n().catch(r=>BE(i,r,n))}function Cr(i){return dn.apply(this,arguments)}function dn(){return(dn=(0,ve.Z)(function*(i){const n=Ve(i),r=Ni(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Is(n);)try{const l=yield LA(n.localStore,a);if(null===l){0===n.Ur.length&&r.lr();break}a=l.batchId,Ib(n,l)}catch(l){yield BE(n,l)}bb(n)&&HE(n)})).apply(this,arguments)}function Is(i){return Xl(i)&&i.Ur.length<10}function Ib(i,n){i.Ur.push(n);const r=Ni(i);r.cr()&&r.br&&r.Pr(n.mutations)}function bb(i){return Xl(i)&&!Ni(i).ar()&&i.Ur.length>0}function HE(i){Ni(i).start()}function $E(i){return hu.apply(this,arguments)}function hu(){return(hu=(0,ve.Z)(function*(i){Ni(i).Sr()})).apply(this,arguments)}function ap(i){return GE.apply(this,arguments)}function GE(){return(GE=(0,ve.Z)(function*(i){const n=Ni(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function tc(i,n,r){return qE.apply(this,arguments)}function qE(){return(qE=(0,ve.Z)(function*(i,n,r){const a=i.Ur.shift(),l=np.from(a,n,r);yield Cb(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Cr(i)})).apply(this,arguments)}function Db(i,n){return up.apply(this,arguments)}function up(){return(up=(0,ve.Z)(function*(i,n){var r;n&&Ni(i).br&&(yield(r=(0,ve.Z)(function*(a,l){if(xI(h=l.code)&&h!==de.ABORTED){const g=a.Ur.shift();Ni(a).hr(),yield Cb(a,()=>a.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield Cr(a)}var h}),function(a,l){return r.apply(this,arguments)})(i,n)),bb(i)&&HE(i)})).apply(this,arguments)}function nc(i,n){return lp.apply(this,arguments)}function lp(){return(lp=(0,ve.Z)(function*(i,n){const r=Ve(i);n?(r.Kr.delete(2),yield sp(r)):n||(r.Kr.add(2),yield na(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function rc(i){return i.zr||(i.zr=function(n,r,a){const l=Ve(n);return l.Cr(),new yb(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:Zi.bind(null,i),Ci:ec.bind(null,i),Tr:wb.bind(null,i)}),i.jr.push(function(){var n=(0,ve.Z)(function*(r){r?(i.zr.hr(),Jl(i)?du(i):i.Wr.set("Unknown")):(yield i.zr.stop(),lt(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function Ni(i){return i.Hr||(i.Hr=function(n,r,a){const l=Ve(n);return l.Cr(),new _b(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:$E.bind(null,i),Ci:Db.bind(null,i),Vr:ap.bind(null,i),vr:tc.bind(null,i)}),i.jr.push(function(){var n=(0,ve.Z)(function*(r){r?(i.Hr.hr(),yield Cr(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Pe("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class WE{constructor(n,r,a,l,h){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(n,r,a,l,h){const g=Date.now()+a,C=new WE(n,r,g,l,h);return C.start(a),C}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sa(i,n){if(zn("AsyncQueue",`${n}: ${i}`),zi(i))return new Se(de.UNAVAILABLE,`${n}: ${i}`);throw i}class ic{constructor(n){this.comparator=n?(r,a)=>n(r,a)||qe.comparator(r.key,a.key):(r,a)=>qe.comparator(r.key,a.key),this.keyedMap=oE(),this.sortedSet=new Zn(this.comparator)}static emptySet(n){return new ic(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof ic)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new ic;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class zE{constructor(){this.Jr=new Zn(qe.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Qe():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class sc{constructor(n,r,a,l,h,g,C,D){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=D}static fromInitialDocuments(n,r,a,l){const h=[];return r.forEach(g=>{h.push({type:0,doc:g})}),new sc(n,r,ic.emptySet(r),h,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Fd(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class sy{constructor(){this.Xr=void 0,this.listeners=[]}}class ZA{constructor(){this.queries=new ip(n=>Rm(n),Fd),this.onlineState="Unknown",this.Zr=new Set}}function cp(i,n){return dp.apply(this,arguments)}function dp(){return(dp=(0,ve.Z)(function*(i,n){const r=Ve(i),a=n.query;let l=!1,h=r.queries.get(a);if(h||(l=!0,h=new sy),l)try{h.Xr=yield r.onListen(a)}catch(g){const C=sa(g,`Initialization of query '${Hi(n.query)}' failed`);return void n.onError(C)}r.queries.set(a,h),h.listeners.push(n),n.eo(r.onlineState),h.Xr&&n.no(h.Xr)&&oc(r)})).apply(this,arguments)}function Tb(i,n){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,ve.Z)(function*(i,n){const r=Ve(i),a=n.query;let l=!1;const h=r.queries.get(a);if(h){const g=h.listeners.indexOf(n);g>=0&&(h.listeners.splice(g,1),l=0===h.listeners.length)}if(l)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function ct(i,n){const r=Ve(i);let a=!1;for(const l of n){const g=r.queries.get(l.query);if(g){for(const C of g.listeners)C.no(l)&&(a=!0);g.Xr=l}}a&&oc(r)}function rN(i,n,r){const a=Ve(i),l=a.queries.get(n);if(l)for(const h of l.listeners)h.onError(r);a.queries.delete(n)}function oc(i){i.Zr.forEach(n=>{n.next()})}class ZE{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const l of n.docChanges)3!==l.type&&a.push(l);n=new sc(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=sc.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class KA{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class Sb{constructor(n){this.N=n}zn(n){return Si(this.N,n)}Hn(n){return n.metadata.exists?fE(this.N,n.document,!1):cn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return je(n)}}class iN{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=YA(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new Sb(this.N);for(const l of n)if(l.metadata.queries){const h=a.zn(l.metadata.name);for(const g of l.metadata.queries){const C=(r.get(g)||jt()).add(h);r.set(g,C)}}return r}complete(){var n=this;return(0,ve.Z)(function*(){const r=yield function(i,n,r,a){return Kd.apply(this,arguments)}(n.localStore,new Sb(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const l of n.queries)yield Ym(n.localStore,l,a.get(l.name));return n.progress.taskState="Success",new tN(Object.assign({},n.progress),r)})()}}function YA(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class xb{constructor(n){this.key=n}}class Ir{constructor(n){this.key=n}}class Nb{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=jt(),this.mutatedKeys=jt(),this.po=CI(n),this.Eo=new ic(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new zE,l=r?r.Eo:this.Eo;let h=r?r.mutatedKeys:this.mutatedKeys,g=l,C=!1;const D=qf(this.query)&&l.size===this.query.limit?l.last():null,x=Ko(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((R,P)=>{const Z=l.get(R),Y=Wf(this.query,P)?P:null,we=!!Z&&this.mutatedKeys.has(Z.key),Ue=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let He=!1;Z&&Y?Z.data.isEqual(Y.data)?we!==Ue&&(a.track({type:3,doc:Y}),He=!0):this.Ro(Z,Y)||(a.track({type:2,doc:Y}),He=!0,(D&&this.po(Y,D)>0||x&&this.po(Y,x)<0)&&(C=!0)):!Z&&Y?(a.track({type:0,doc:Y}),He=!0):Z&&!Y&&(a.track({type:1,doc:Z}),He=!0,(D||x)&&(C=!0)),He&&(Y?(g=g.add(Y),h=Ue?h.add(R):h.delete(R)):(g=g.delete(R),h=h.delete(R)))}),qf(this.query)||Ko(this.query))for(;g.size>this.query.limit;){const R=qf(this.query)?g.last():g.first();g=g.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{Eo:g,Ao:a,Ln:C,mutatedKeys:h}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const h=n.Ao.Yr();h.sort((x,R)=>function(P,Z){const Y=we=>{switch(we){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return Y(P)-Y(Z)}(x.type,R.type)||this.po(x.doc,R.doc)),this.bo(a);const g=r?this.Po():[],C=0===this.yo.size&&this.current?1:0,D=C!==this.mo;return this.mo=C,0!==h.length||D?{snapshot:new sc(this.query,n.Eo,l,h,n.mutatedKeys,0===C,D,!1),vo:g}:{vo:g}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new zE,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=jt(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new Ir(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new xb(a))}),r}So(n){this._o=n.Gn,this.yo=jt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return sc.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class QA{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class KE{constructor(n){this.key=n,this.Co=!1}}class JA{constructor(n,r,a,l,h,g){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.No={},this.xo=new ip(C=>Rm(C),Fd),this.ko=new Map,this.$o=new Set,this.Oo=new Zn(qe.comparator),this.Fo=new Map,this.Mo=new kE,this.Lo={},this.Bo=new Map,this.Uo=ea.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function XA(i,n){return YE.apply(this,arguments)}function YE(){return(YE=(0,ve.Z)(function*(i,n){const r=sr(i);let a,l;const h=r.xo.get(n);if(h)a=h.targetId,r.sharedClientState.addLocalQueryTarget(a),l=h.view.Do();else{const g=yield Kl(r.localStore,Ai(n)),C=r.sharedClientState.addLocalQueryTarget(g.targetId);a=g.targetId,l=yield QE(r,n,a,"current"===C),r.isPrimaryClient&&UE(r.remoteStore,g)}return l})).apply(this,arguments)}function QE(i,n,r,a){return JE.apply(this,arguments)}function JE(){return(JE=(0,ve.Z)(function*(i,n,r,a){i.Ko=(R,P,Z)=>{return(Y=(0,ve.Z)(function*(we,Ue,He,St){let Ut=Ue.view.Io(He);Ut.Ln&&(Ut=yield Zm(we.localStore,Ue.query,!1).then(({documents:pi})=>Ue.view.Io(pi,Ut)));const bt=St&&St.targetChanges.get(Ue.targetId),Kt=Ue.view.applyChanges(Ut,we.isPrimaryClient,bt);return Mb(we,Ue.targetId,Kt.vo),Kt.snapshot}),function(we,Ue,He,St){return Y.apply(this,arguments)})(i,R,P,Z);var Y};const l=yield Zm(i.localStore,n,!0),h=new Nb(n,l.Gn),g=h.Io(l.documents),C=$d.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),D=h.applyChanges(g,i.isPrimaryClient,C);Mb(i,r,D.vo);const x=new QA(n,r,h);return i.xo.set(n,x),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),D.snapshot})).apply(this,arguments)}function eS(i,n){return hp.apply(this,arguments)}function hp(){return(hp=(0,ve.Z)(function*(i,n){const r=Ve(i),a=r.xo.get(n),l=r.ko.get(a.targetId);if(l.length>1)return r.ko.set(a.targetId,l.filter(h=>!Fd(h,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Yl(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),ra(r.remoteStore,a.targetId),uc(r,a.targetId)}).catch(au))):(uc(r,a.targetId),yield Yl(r.localStore,a.targetId,!0))})).apply(this,arguments)}function XE(){return(XE=(0,ve.Z)(function*(i,n,r){const a=oy(i);try{const l=yield function(h,g){const C=Ve(h),D=rr.now(),x=g.reduce((P,Z)=>P.add(Z.key),jt());let R;return C.persistence.runTransaction("Locally write mutations","readwrite",P=>C.Qn.Pn(P,x).next(Z=>{R=Z;const Y=[];for(const we of g){const Ue=TI(we,R.get(we.key));null!=Ue&&Y.push(new Qo(we.key,Ue,Sm(Ue.value.mapValue),Pn.exists(!0)))}return C.In.addMutationBatch(P,D,Y,g)})).then(P=>(P.applyToLocalDocumentSet(R),{batchId:P.batchId,changes:R}))}(a.localStore,n);a.sharedClientState.addPendingMutation(l.batchId),function(h,g,C){let D=h.Lo[h.currentUser.toKey()];D||(D=new Zn(Tt)),D=D.insert(g,C),h.Lo[h.currentUser.toKey()]=D}(a,l.batchId,r),yield oa(a,l.changes),yield Cr(a.remoteStore)}catch(l){const h=sa(l,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function e0(i,n){return fp.apply(this,arguments)}function fp(){return(fp=(0,ve.Z)(function*(i,n){const r=Ve(i);try{const a=yield FA(r.localStore,n);n.targetChanges.forEach((l,h)=>{const g=r.Fo.get(h);g&&(ot(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Co=!0:l.modifiedDocuments.size>0?ot(g.Co):l.removedDocuments.size>0&&(ot(g.Co),g.Co=!1))}),yield oa(r,a,n)}catch(a){yield au(a)}})).apply(this,arguments)}function Rb(i,n,r){const a=Ve(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const l=[];a.xo.forEach((h,g)=>{const C=g.view.eo(n);C.snapshot&&l.push(C.snapshot)}),function(h,g){const C=Ve(h);C.onlineState=g;let D=!1;C.queries.forEach((x,R)=>{for(const P of R.listeners)P.eo(g)&&(D=!0)}),D&&oc(C)}(a.eventManager,n),l.length&&a.No.Tr(l),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function sN(i,n,r){return t0.apply(this,arguments)}function t0(){return(t0=(0,ve.Z)(function*(i,n,r){const a=Ve(i);a.sharedClientState.updateQueryState(n,"rejected",r);const l=a.Fo.get(n),h=l&&l.key;if(h){let g=new Zn(qe.comparator);g=g.insert(h,cn.newNoDocument(h,_t.min()));const C=jt().add(h),D=new Hd(_t.min(),new Map,new Rn(Tt),g,C);yield e0(a,D),a.Oo=a.Oo.remove(h),a.Fo.delete(n),a0(a)}else yield Yl(a.localStore,n,!1).then(()=>uc(a,n,r)).catch(au)})).apply(this,arguments)}function nS(i,n){return n0.apply(this,arguments)}function n0(){return(n0=(0,ve.Z)(function*(i,n){const r=Ve(i),a=n.batch.batchId;try{const l=yield PA(r.localStore,n);o0(r,a,null),s0(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield oa(r,l)}catch(l){yield au(l)}})).apply(this,arguments)}function rS(i,n,r){return r0.apply(this,arguments)}function r0(){return(r0=(0,ve.Z)(function*(i,n,r){const a=Ve(i);try{const l=yield function(h,g){const C=Ve(h);return C.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let x;return C.In.lookupMutationBatch(D,g).next(R=>(ot(null!==R),x=R.keys(),C.In.removeMutationBatch(D,R))).next(()=>C.In.performConsistencyCheck(D)).next(()=>C.Qn.Pn(D,x))})}(a.localStore,n);o0(a,n,r),s0(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield oa(a,l)}catch(l){yield au(l)}})).apply(this,arguments)}function ac(){return(ac=(0,ve.Z)(function*(i,n){const r=Ve(i);Xl(r.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(h){const g=Ve(h);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>g.In.getHighestUnacknowledgedBatchId(C))}(r.localStore);if(-1===a)return void n.resolve();const l=r.Bo.get(a)||[];l.push(n),r.Bo.set(a,l)}catch(a){const l=sa(a,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function s0(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function o0(i,n,r){const a=Ve(i);let l=a.Lo[a.currentUser.toKey()];if(l){const h=l.get(n);h&&(r?h.reject(r):h.resolve(),l=l.remove(n)),a.Lo[a.currentUser.toKey()]=l}}function uc(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||Xd(i,a)})}function Xd(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(ra(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),a0(i))}function Mb(i,n,r){for(const a of r)a instanceof xb?(i.Mo.addReference(a.key,n),Ob(i,a)):a instanceof Ir?(Pe("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||Xd(i,a.key)):Qe()}function Ob(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(Pe("SyncEngine","New document in limbo: "+r),i.$o.add(a),a0(i))}function a0(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new qe(Vt.fromString(n)),a=i.Uo.next();i.Fo.set(a,new KE(r)),i.Oo=i.Oo.insert(r,a),UE(i.remoteStore,new ru(Ai(Ul(r.path)),a,2,nr.T))}}function oa(i,n,r){return u0.apply(this,arguments)}function u0(){return(u0=(0,ve.Z)(function*(i,n,r){const a=Ve(i),l=[],h=[],g=[];var C;a.xo.isEmpty()||(a.xo.forEach((C,D)=>{g.push(a.Ko(D,n,r).then(x=>{if(x){a.isPrimaryClient&&a.sharedClientState.updateQueryState(D.targetId,x.fromCache?"not-current":"current"),l.push(x);const R=NE.kn(D.targetId,x);h.push(R)}}))}),yield Promise.all(g),a.No.Tr(l),yield(C=(0,ve.Z)(function*(D,x){const R=Ve(D);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Te.forEach(x,Z=>Te.forEach(Z.Nn,Y=>R.persistence.referenceDelegate.addReference(P,Z.targetId,Y)).next(()=>Te.forEach(Z.xn,Y=>R.persistence.referenceDelegate.removeReference(P,Z.targetId,Y)))))}catch(P){if(!zi(P))throw P;Pe("LocalStore","Failed to update sequence numbers: "+P)}for(const P of x){const Z=P.targetId;if(!P.fromCache){const Y=R.Un.get(Z),Ue=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);R.Un=R.Un.insert(Z,Ue)}}}),function(D,x){return C.apply(this,arguments)})(a.localStore,h))})).apply(this,arguments)}function sS(i,n){return l0.apply(this,arguments)}function l0(){return(l0=(0,ve.Z)(function*(i,n){const r=Ve(i);if(!r.currentUser.isEqual(n)){Pe("SyncEngine","User change. New user:",n.toKey());const a=yield qm(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(g=>{g.forEach(C=>{C.reject(new Se(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield oa(r,a.Wn)}var l})).apply(this,arguments)}function Pb(i,n){const r=Ve(i),a=r.Fo.get(n);if(a&&a.Co)return jt().add(a.key);{let l=jt();const h=r.ko.get(n);if(!h)return l;for(const g of h){const C=r.xo.get(g);l=l.unionWith(C.view.To)}return l}}function oS(i,n){return c0.apply(this,arguments)}function c0(){return(c0=(0,ve.Z)(function*(i,n){const r=Ve(i),a=yield Zm(r.localStore,n.query,!0),l=n.view.So(a);return r.isPrimaryClient&&Mb(r,n.targetId,l.vo),l})).apply(this,arguments)}function oN(i){return kb.apply(this,arguments)}function kb(){return(kb=(0,ve.Z)(function*(i){const n=Ve(i);return OE(n.localStore).then(r=>oa(n,r))})).apply(this,arguments)}function aN(i,n,r,a){return pp.apply(this,arguments)}function pp(){return(pp=(0,ve.Z)(function*(i,n,r,a){const l=Ve(i),h=yield function(g,C){const D=Ve(g),x=Ve(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",R=>x.Xt(R,C).next(P=>P?D.Qn.Pn(R,P):Te.resolve(null)))}(l.localStore,n);var C;null!==h?("pending"===r?yield Cr(l.remoteStore):"acknowledged"===r||"rejected"===r?(o0(l,n,a||null),s0(l,n),C=n,Ve(Ve(l.localStore).In).te(C)):Qe(),yield oa(l,h)):Pe("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function d0(){return(d0=(0,ve.Z)(function*(i,n){const r=Ve(i);if(sr(r),oy(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),l=yield Fb(r,a.toArray());r.qo=!0,yield nc(r.remoteStore,!0);for(const h of l)UE(r.remoteStore,h)}else if(!1===n&&!1!==r.qo){const a=[];let l=Promise.resolve();r.ko.forEach((h,g)=>{r.sharedClientState.isLocalQueryTarget(g)?a.push(g):l=l.then(()=>(uc(r,g),Yl(r.localStore,g,!0))),ra(r.remoteStore,g)}),yield l,yield Fb(r,a),function(h){const g=Ve(h);g.Fo.forEach((C,D)=>{ra(g.remoteStore,D)}),g.Mo.us(),g.Fo=new Map,g.Oo=new Zn(qe.comparator)}(r),r.qo=!1,yield nc(r.remoteStore,!1)}})).apply(this,arguments)}function Fb(i,n,r){return h0.apply(this,arguments)}function h0(){return(h0=(0,ve.Z)(function*(i,n,r){const a=Ve(i),l=[],h=[];for(const g of n){let C;const D=a.ko.get(g);if(D&&0!==D.length){C=yield Kl(a.localStore,Ai(D[0]));for(const x of D){const R=a.xo.get(x),P=yield oS(a,R);P.snapshot&&h.push(P.snapshot)}}else{const x=yield lb(a.localStore,g);C=yield Kl(a.localStore,x),yield QE(a,Lb(x),g,!1)}l.push(C)}return a.No.Tr(h),l})).apply(this,arguments)}function Lb(i){return wI(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function uS(i){const n=Ve(i);return Ve(Ve(n.localStore).persistence).pn()}function Vb(i,n,r,a){return gp.apply(this,arguments)}function gp(){return(gp=(0,ve.Z)(function*(i,n,r,a){const l=Ve(i);if(l.qo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const h=yield OE(l.localStore),g=Hd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield oa(l,h,g);break}case"rejected":yield Yl(l.localStore,n,!0),uc(l,n,a);break;default:Qe()}})).apply(this,arguments)}function lS(i,n,r){return fu.apply(this,arguments)}function fu(){return(fu=(0,ve.Z)(function*(i,n,r){const a=sr(i);if(a.qo){for(const l of n){if(a.ko.has(l)){Pe("SyncEngine","Adding an already active target "+l);continue}const h=yield lb(a.localStore,l),g=yield Kl(a.localStore,h);yield QE(a,Lb(h),g.targetId,!1),UE(a.remoteStore,g)}for(const l of r)a.ko.has(l)&&(yield Yl(a.localStore,l,!1).then(()=>{ra(a.remoteStore,l),uc(a,l)}).catch(au))}})).apply(this,arguments)}function sr(i){const n=Ve(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=e0.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pb.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=sN.bind(null,n),n.No.Tr=ct.bind(null,n.eventManager),n.No.jo=rN.bind(null,n.eventManager),n}function oy(i){const n=Ve(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=nS.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=rS.bind(null,n),n}class ay{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,ve.Z)(function*(){r.N=Qd(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return ME(this.persistence,new ab,n.initialUser,this.N)}Go(n){return new $A(FE.Ns,this.N)}Wo(n){return new cu}terminate(){var n=this;return(0,ve.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Ub extends ay{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,ve.Z)(function*(){yield r().call(a,n),yield function(i){return PE.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield oy(a.Jo.syncEngine),yield Cr(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return ME(this.persistence,new ab,n.initialUser,this.N)}zo(n){return new ib(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=xE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new sb(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,mb(),ey(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new cu}}class Bb extends Ub{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,ve.Z)(function*(){yield r().call(a,n);const l=a.Jo.syncEngine;a.sharedClientState instanceof Yd&&(a.sharedClientState.syncEngine={_i:aN.bind(null,l),mi:Vb.bind(null,l),gi:lS.bind(null,l),pn:uS.bind(null,l),wi:oN.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var h=(0,ve.Z)(function*(g){yield function(i,n){return d0.apply(this,arguments)}(a.Jo.syncEngine,g),a.gcScheduler&&(g&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):g||a.gcScheduler.stop())});return function(g){return h.apply(this,arguments)}}())})()}Wo(n){const r=mb();if(!Yd.bt(r))throw new Se(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=xE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Yd(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class uy{initialize(n,r){var a=this;return(0,ve.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>Rb(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=sS.bind(null,a.syncEngine),yield nc(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new ZA}createDatastore(n){const r=Qd(n.databaseInfo.databaseId),a=new Xm(n.databaseInfo);return new WA(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,l=n.asyncQueue,h=C=>Rb(this.syncEngine,C,0),g=gb.bt()?new gb:new pb,new vb(r,a,l,h,g);var r,a,l,h,g}createSyncEngine(n,r){return function(a,l,h,g,C,D,x){const R=new JA(a,l,h,g,C,D);return x&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,ve.Z)(function*(r){const a=Ve(r);Pe("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield na(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function f0(i,n=10240){let r=0;return{read:()=>(0,ve.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ly{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class cS{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new yr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,ve.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,ve.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,ve.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),l=Number(a);isNaN(l)&&n.sa(`length string (${a}) is not valid number`);const h=yield n.ia(l);return new KA(JSON.parse(h),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,ve.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,ve.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,ve.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class dS{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,ve.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Se(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,ve.Z)(function*(h,g){const C=Ve(h),D=eu(C.N)+"/documents",x={documents:g.map(Y=>Qf(C.N,Y))},R=yield C.Ki("BatchGetDocuments",D,x),P=new Map;R.forEach(Y=>{const we=function(i,n){return"found"in n?function(r,a){ot(!!a.found);const l=Si(r,a.found.name),h=je(a.found.updateTime),g=new vr({mapValue:{fields:a.found.fields}});return cn.newFoundDocument(l,h,g)}(i,n):"missing"in n?function(r,a){ot(!!a.missing),ot(!!a.readTime);const l=Si(r,a.missing),h=je(a.readTime);return cn.newNoDocument(l,h)}(i,n):Qe()}(C.N,Y);P.set(we.key.toString(),we)});const Z=[];return g.forEach(Y=>{const we=P.get(Y.toString());ot(!!we),Z.push(we)}),Z}),function(h,g){return l.apply(this,arguments)})(r.datastore,n);var l;return a.forEach(l=>r.recordVersion(l)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Zf(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,ve.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,l)=>{const h=qe.fromPath(l);n.mutations.push(new sE(h,n.precondition(h)))}),yield(a=(0,ve.Z)(function*(l,h){const g=Ve(l),C=eu(g.N)+"/documents",D={writes:h.map(x=>Xf(g.N,x))};yield g.Li("Commit",C,D)}),function(l,h){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Qe();r=_t.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new Se(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Pn.updateTime(r):Pn.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(_t.min()))throw new Se(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(r)}return Pn.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class jb{constructor(n,r,a,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=l,this.aa=5,this.rr=new ty(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,ve.Z)(function*(){const r=new dS(n.datastore),a=n.ua(r);a&&a.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(h=>{n.ha(h)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!zo(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!xI(r)}return!1}}class hS{constructor(n,r,a){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mr.UNAUTHENTICATED,this.clientId=qv.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var h=(0,ve.Z)(function*(g){Pe("FirestoreClient","Received user=",g.uid),yield l.credentialListener(g),l.user=g});return function(g){return h.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,ve.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const l=sa(a,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function fS(i,n){return p0.apply(this,arguments)}function p0(){return(p0=(0,ve.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,ve.Z)(function*(h){a.isEqual(h)||(yield qm(n.localStore,h),a=h)});return function(h){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function Hb(i,n){return pu.apply(this,arguments)}function pu(){return(pu=(0,ve.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield $b(i);Pe("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(l=>{return(h=(0,ve.Z)(function*(g,C){const D=Ve(g);D.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const x=Xl(D);D.Kr.add(3),yield na(D),x&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(C),D.Kr.delete(3),yield sp(D)}),function(g,C){return h.apply(this,arguments)})(n.remoteStore,l);var h}),i.onlineComponents=n})).apply(this,arguments)}function $b(i){return cy.apply(this,arguments)}function cy(){return(cy=(0,ve.Z)(function*(i){return i.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield fS(i,new ay)),i.offlineComponents})).apply(this,arguments)}function dy(i){return Gb.apply(this,arguments)}function Gb(){return(Gb=(0,ve.Z)(function*(i){return i.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield Hb(i,new uy)),i.onlineComponents})).apply(this,arguments)}function g0(i){return $b(i).then(n=>n.persistence)}function m0(i){return $b(i).then(n=>n.localStore)}function hy(i){return dy(i).then(n=>n.remoteStore)}function y0(i){return dy(i).then(n=>n.syncEngine)}function eh(i){return _0.apply(this,arguments)}function _0(){return(_0=(0,ve.Z)(function*(i){const n=yield dy(i),r=n.eventManager;return r.onListen=XA.bind(null,n.syncEngine),r.onUnlisten=eS.bind(null,n.syncEngine),r})).apply(this,arguments)}function qb(i,n,r={}){const a=new yr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(l,h,g,C,D){const x=new ly({next:P=>{h.enqueueAndForget(()=>Tb(l,R));const Z=P.docs.has(g);!Z&&P.fromCache?D.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&P.fromCache&&C&&"server"===C.source?D.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(P)},error:P=>D.reject(P)}),R=new ZE(Ul(g.path),x,{includeMetadataChanges:!0,uo:!0});return cp(l,R)}(yield eh(i),i.asyncQueue,n,r,a)})),a.promise}function Wb(i,n,r={}){const a=new yr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(l,h,g,C,D){const x=new ly({next:P=>{h.enqueueAndForget(()=>Tb(l,R)),P.fromCache&&"server"===C.source?D.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(P)},error:P=>D.reject(P)}),R=new ZE(g,x,{includeMetadataChanges:!0,uo:!0});return cp(l,R)}(yield eh(i),i.asyncQueue,n,r,a)})),a.promise}class Kb{constructor(n,r,a,l,h,g,C,D){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.useFetchStreams=D}}class lc{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof lc&&n.projectId===this.projectId&&n.database===this.database}}const v0=new Map;function E0(i,n,r){if(!r)throw new Se(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function Yb(i,n,r,a){if(!0===n&&!0===a)throw new Se(de.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Qb(i){if(!qe.isDocumentKey(i))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Jb(i){if(qe.isDocumentKey(i))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fy(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=function(r){if(r.constructor){const a=/function\s+([^\s(]+)\s*\(/.exec(r.constructor.toString());if(a&&a.length>1)return a[1]}return null}(i);return n?`a custom ${n} object`:"an object"}}return"function"==typeof i?"a function":Qe()}function Ot(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=fy(i);throw new Se(de.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function Xb(i,n){if(n<=0)throw new Se(de.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class th{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,Yb("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class aa{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new th({}),this._settingsFrozen=!1,n instanceof lc?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(a.options.projectId)}(n))}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new th(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new Wx;switch(r.type){case"gapi":const a=r.client;return ot(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new sA(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Se(de.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=v0.get(n);r&&(Pe("ComponentProvider","Removing Datastore"),v0.delete(n),r.terminate())}(this),Promise.resolve()}}class Zt{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Zt(this.firestore,n,this._key)}}class hn{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new hn(this.firestore,n,this._query)}}class oo extends hn{constructor(n,r,a){super(n,r,Ul(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Zt(this.firestore,null,new qe(n))}withConverter(n){return new oo(this.firestore,n,this._path)}}function yp(i,n,...r){if(i=(0,Mt.m9)(i),E0("collection","path",n),i instanceof aa){const a=Vt.fromString(n,...r);return Jb(a),new oo(i,null,a)}{if(!(i instanceof Zt||i instanceof oo))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Vt.fromString(n,...r));return Jb(a),new oo(i.firestore,null,a)}}function py(i,n,...r){if(i=(0,Mt.m9)(i),1===arguments.length&&(n=qv.I()),E0("doc","path",n),i instanceof aa){const a=Vt.fromString(n,...r);return Qb(a),new Zt(i,null,new qe(a))}{if(!(i instanceof Zt||i instanceof oo))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Vt.fromString(n,...r));return Qb(a),new Zt(i.firestore,i instanceof oo?i.converter:null,new qe(a))}}function wS(i,n){return i=(0,Mt.m9)(i),n=(0,Mt.m9)(n),(i instanceof Zt||i instanceof oo)&&(n instanceof Zt||n instanceof oo)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function gy(i,n){return i=(0,Mt.m9)(i),n=(0,Mt.m9)(n),i instanceof hn&&n instanceof hn&&i.firestore===n.firestore&&Fd(i._query,n._query)&&i.converter===n.converter}class w0{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new ty(this,"async_queue_retry"),this.Ea=()=>{const r=ey();r&&Pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=ey();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=ey();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new yr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,ve.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!zi(r))throw r;Pe("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,zn("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=WE.createAndSchedule(this,n,r,a,h=>this.Ra(h));return this._a.push(l),l}Ta(){this.ma&&Qe()}verifyOperationInProgress(){}ba(){var n=this;return(0,ve.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function my(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(i)}class C0{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Mn extends aa{constructor(n,r){super(n,r),this.type="firestore",this._queue=new w0,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||b0(this),this._firestoreClient.terminate()}}function Kn(i){return i._firestoreClient||b0(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function b0(i){var n;const r=i._freezeSettings(),a=(h=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new Kb(i._databaseId,h,i._persistenceKey,(C=r).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var h,C;i._firestoreClient=new hS(i._credentials,i._queue,a)}function tD(i,n,r){const a=new yr;return i.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield fS(i,r),yield Hb(i,n),a.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===de.FAILED_PRECONDITION||h.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var h})).then(()=>a.promise)}function oD(i){if(i._initialized||i._terminated)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gu{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Gr{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Gr(jn.fromBase64String(n))}catch(r){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new Gr(jn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class cc{constructor(n){this._methodName=n}}class yy{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Tt(this._lat,n._lat)||Tt(this._long,n._long)}}const cN=/^__.*__$/;class _p{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new Qo(n,this.data,this.fieldMask,r,this.fieldTransforms):new jd(n,this.data,r,this.fieldTransforms)}}class aD{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new Qo(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function _y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class vy{constructor(n,r,a,l,h,g){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=l,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new vy(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.ka(n),l}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return wp(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(_y(this.Da)&&cN.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class uD{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||Qd(n)}Ba(n,r,a,l=!1){return new vy({Da:n,methodName:r,La:a,path:_r.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function dc(i){const n=i._freezeSettings(),r=Qd(i._databaseId);return new uD(i._databaseId,!!n.ignoreUndefinedProperties,r)}function Ey(i,n,r,a,l,h={}){const g=i.Ba(h.merge||h.mergeFields?2:0,n,r,l);vp("Data must be an object, but it was:",g,a);const C=N0(a,g);let D,x;if(h.merge)D=new kl(g.fieldMask),x=g.fieldTransforms;else if(h.mergeFields){const R=[];for(const P of h.mergeFields){const Z=Ep(n,P,r);if(!g.contains(Z))throw new Se(de.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);M0(R,Z)||R.push(Z)}D=new kl(R),x=g.fieldTransforms.filter(P=>D.covers(P.field))}else D=null,x=g.fieldTransforms;return new _p(new vr(C),D,x)}class hc extends cc{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof hc}}function T0(i,n,r){return new vy({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class wy extends cc{_toFieldTransform(n){return new Ja(n.path,new Ld)}isEqual(n){return n instanceof wy}}class Cy extends cc{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=T0(this,n,!0),a=this.Ua.map(h=>ao(h,r)),l=new Yo(a);return new Ja(n.path,l)}isEqual(n){return this===n}}class A0 extends cc{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=T0(this,n,!0),a=this.Ua.map(h=>ao(h,r)),l=new Bl(a);return new Ja(n.path,l)}isEqual(n){return this===n}}class dN extends cc{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Ud(n.N,Jv(n.N,this.qa));return new Ja(n.path,r)}isEqual(n){return this===n}}function Iy(i,n,r,a){const l=i.Ba(1,n,r);vp("Data must be an object, but it was:",l,a);const h=[],g=vr.empty();Pl(a,(D,x)=>{const R=R0(n,D,r);x=(0,Mt.m9)(x);const P=l.$a(R);if(x instanceof hc)h.push(R);else{const Z=ao(x,P);null!=Z&&(h.push(R),g.set(R,Z))}});const C=new kl(h);return new aD(g,C,l.fieldTransforms)}function S0(i,n,r,a,l,h){const g=i.Ba(1,n,r),C=[Ep(n,a,r)],D=[l];if(h.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<h.length;Z+=2)C.push(Ep(n,h[Z])),D.push(h[Z+1]);const x=[],R=vr.empty();for(let Z=C.length-1;Z>=0;--Z)if(!M0(x,C[Z])){const Y=C[Z];let we=D[Z];we=(0,Mt.m9)(we);const Ue=g.$a(Y);if(we instanceof hc)x.push(Y);else{const He=ao(we,Ue);null!=He&&(x.push(Y),R.set(Y,He))}}const P=new kl(x);return new aD(R,P,g.fieldTransforms)}function x0(i,n,r,a=!1){return ao(r,i.Ba(a?4:3,n))}function ao(i,n){if(lD(i=(0,Mt.m9)(i)))return vp("Unsupported field value:",n,i),N0(i,n);if(i instanceof cc)return function(r,a){if(!_y(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const l=[];let h=0;for(const g of r){let C=ao(g,a.Oa(h));null==C&&(C={nullValue:"NULL_VALUE"}),l.push(C),h++}return{arrayValue:{values:l}}}(i,n)}return function(r,a){if(null===(r=(0,Mt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Jv(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=rr.fromDate(r);return{timestampValue:Gd(a.N,l)}}if(r instanceof rr){const l=new rr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gd(a.N,l)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gr)return{bytesValue:cE(a.N,r._byteString)};if(r instanceof Zt){const l=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw a.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dE(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${fy(r)}`)}(i,n)}function N0(i,n){const r={};return aI(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Pl(i,(a,l)=>{const h=ao(l,n.Na(a));null!=h&&(r[a]=h)}),{mapValue:{fields:r}}}function lD(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof rr||i instanceof yy||i instanceof Gr||i instanceof Zt||i instanceof cc)}function vp(i,n,r){if(!lD(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=fy(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function Ep(i,n,r){if((n=(0,Mt.m9)(n))instanceof gu)return n._internalPath;if("string"==typeof n)return R0(i,n);throw wp("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const DS=new RegExp("[~\\*/\\[\\]]");function R0(i,n,r){if(n.search(DS)>=0)throw wp(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new gu(...n.split("."))._internalPath}catch(a){throw wp(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function wp(i,n,r,a,l){const h=a&&!a.isEmpty(),g=void 0!==l;let C=`Function ${n}() called with invalid data`;r&&(C+=" (via `toFirestore()`)"),C+=". ";let D="";return(h||g)&&(D+=" (found",h&&(D+=` in field ${a}`),g&&(D+=` in document ${l}`),D+=")"),new Se(de.INVALID_ARGUMENT,C+i+D)}function M0(i,n){return i.some(r=>r.isEqual(n))}class nh{constructor(n,r,a,l,h){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new TS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(Cp("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class TS extends nh{data(){return super.data()}}function Cp(i,n){return"string"==typeof n?R0(i,n):n instanceof gu?n._internalPath:n._delegate._internalPath}class mu{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ua extends nh{constructor(n,r,a,l,h,g){super(n,r,a,l,g),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(Cp("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Ip extends ua{data(n={}){return super.data(n)}}class la{constructor(n,r,a,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new mu(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new Ip(this._firestore,this._userDataWriter,a.key,a,new mu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(g=>({type:"added",doc:new Ip(a._firestore,a._userDataWriter,g.doc.key,g.doc,new mu(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const C=new Ip(a._firestore,a._userDataWriter,g.doc.key,g.doc,new mu(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let D=-1,x=-1;return 0!==g.type&&(D=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),x=h.indexOf(g.doc.key)),{type:AS(g.type),doc:C,oldIndex:D,newIndex:x}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function AS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function O0(i,n){return i instanceof ua&&n instanceof ua?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof la&&n instanceof la&&i._firestore===n._firestore&&gy(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function P0(i){if(Ko(i)&&0===i.explicitOrderBy.length)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rh{}function ca(i,...n){for(const r of n)i=r._apply(i);return i}class SS extends rh{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=dc(n.firestore),a=function(l,h,g,C,D,x,R){let P;if(D.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on FieldPath.documentId().`);if("in"===x||"not-in"===x){FS(R,x);const Y=[];for(const we of R)Y.push(kS(C,l,we));P={arrayValue:{values:Y}}}else P=kS(C,l,R)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||FS(R,x),P=x0(g,"where",R,"in"===x||"not-in"===x);const Z=Rr.create(D,x,P);return function(Y,we){if(we.v()){const He=Qv(Y);if(null!==He&&!He.isEqual(we.field))throw new Se(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${He.toString()}' and '${we.field.toString()}'`);const St=Yv(Y);null!==St&&LS(0,we.field,St)}const Ue=function(He,St){for(const Ut of He.filters)if(St.indexOf(Ut.op)>=0)return Ut.op;return null}(Y,function(He){switch(He){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(we.op));if(null!==Ue)throw new Se(de.INVALID_ARGUMENT,Ue===we.op?`Invalid query. You cannot use more than one '${we.op.toString()}' filter.`:`Invalid query. You cannot use '${we.op.toString()}' filters with '${Ue.toString()}' filters.`)}(l,Z),Z}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new hn(n.firestore,n.converter,function(l,h){const g=l.filters.concat([h]);return new eo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,a))}}class NS extends rh{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,l,h){if(null!==a.startAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Cn(l,h);return function(C,D){if(null===Yv(C)){const x=Qv(C);null!==x&&LS(0,x,D.field)}}(a,g),g}(n._query,this.Ka,this.Wa);return new hn(n.firestore,n.converter,function(a,l){const h=a.explicitOrderBy.concat([l]);return new eo(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class RS extends rh{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new hn(n.firestore,n.converter,cA(n._query,this.Ga,this.za))}}class MS extends rh{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=PS(n,this.type,this.Ha,this.Ja);return new hn(n.firestore,n.converter,(l=r,new eo((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}class OS extends rh{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=PS(n,this.type,this.Ha,this.Ja);return new hn(n.firestore,n.converter,(l=r,new eo((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function PS(i,n,r,a){if(r[0]=(0,Mt.m9)(r[0]),r[0]instanceof nh)return function(l,h,g,C,D){if(!C)throw new Se(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const x=[];for(const R of kd(l))if(R.field.isKeyField())x.push(Rd(h,C.key));else{const P=C.data.field(R.field);if(Fl(P))throw new Se(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const Z=R.field.canonicalString();throw new Se(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}x.push(P)}return new Pd(x,D)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const l=dc(i.firestore);return function(h,g,C,D,x,R){const P=h.explicitOrderBy;if(x.length>P.length)throw new Se(de.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let Y=0;Y<x.length;Y++){const we=x[Y];if(P[Y].field.isKeyField()){if("string"!=typeof we)throw new Se(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof we}`);if(!Nm(h)&&-1!==we.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${we}' contains a slash.`);const Ue=h.path.child(Vt.fromString(we));if(!qe.isDocumentKey(Ue))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Ue}' is not because it contains an odd number of segments.`);const He=new qe(Ue);Z.push(Rd(g,He))}else{const Ue=x0(C,D,we);Z.push(Ue)}}return new Pd(Z,R)}(i._query,i.firestore._databaseId,l,n,r,a)}}function kS(i,n,r){if("string"==typeof(r=(0,Mt.m9)(r))){if(""===r)throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nm(n)&&-1!==r.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(Vt.fromString(r));if(!qe.isDocumentKey(a))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Rd(i,new qe(a))}if(r instanceof Zt)return Rd(i,r._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(r)}.`)}function FS(i,n){if(!Array.isArray(i)||0===i.length)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function LS(i,n,r){if(!r.isEqual(n))throw new Se(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class dD{convertValue(n,r="none"){switch(Qa(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Hn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Bf(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Qe()}}convertObject(n,r){const a={};return Pl(n.fields,(l,h)=>{a[l]=this.convertValue(h,r)}),a}convertGeoPoint(n){return new yy(Hn(n.latitude),Hn(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=cI(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Ll(n));default:return null}}convertTimestamp(n){const r=Xs(n);return new rr(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=Vt.fromString(n);ot(Wd(a));const l=new lc(a.get(1),a.get(3)),h=new qe(a.popFirst(5));return l.isEqual(r)||zn(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function k0(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class _N extends dD{constructor(n){super(),this.firestore=n}convertBytes(n){return new Gr(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Zt(this.firestore,null,r)}}class VS{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=dc(n)}set(n,r,a){this._verifyNotCommitted();const l=yu(n,this._firestore),h=k0(l.converter,r,a),g=Ey(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,a);return this._mutations.push(g.toMutation(l._key,Pn.none())),this}update(n,r,a,...l){this._verifyNotCommitted();const h=yu(n,this._firestore);let g;return g="string"==typeof(r=(0,Mt.m9)(r))||r instanceof gu?S0(this._dataReader,"WriteBatch.update",h._key,r,a,l):Iy(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(g.toMutation(h._key,Pn.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=yu(n,this._firestore);return this._mutations=this._mutations.concat(new Zf(r._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yu(i,n){if((i=(0,Mt.m9)(i)).firestore!==n)throw new Se(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class fc extends dD{constructor(n){super(),this.firestore=n}convertBytes(n){return new Gr(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Zt(this.firestore,null,r)}}function hD(i,n,r){i=Ot(i,Zt);const a=Ot(i.firestore,Mn),l=k0(i.converter,n,r);return bp(a,[Ey(dc(a),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Pn.none())])}function HS(i,n,r,...a){i=Ot(i,Zt);const l=Ot(i.firestore,Mn),h=dc(l);let g;return g="string"==typeof(n=(0,Mt.m9)(n))||n instanceof gu?S0(h,"updateDoc",i._key,n,r,a):Iy(h,"updateDoc",i._key,n),bp(l,[g.toMutation(i._key,Pn.exists(!0))])}function $S(i,...n){var r,a,l;i=(0,Mt.m9)(i);let h={includeMetadataChanges:!1},g=0;"object"!=typeof n[g]||my(n[g])||(h=n[g],g++);const C={includeMetadataChanges:h.includeMetadataChanges};if(my(n[g])){const P=n[g];n[g]=null===(r=P.next)||void 0===r?void 0:r.bind(P),n[g+1]=null===(a=P.error)||void 0===a?void 0:a.bind(P),n[g+2]=null===(l=P.complete)||void 0===l?void 0:l.bind(P)}let D,x,R;if(i instanceof Zt)x=Ot(i.firestore,Mn),R=Ul(i._key.path),D={next:P=>{n[g]&&n[g](F0(x,i,P))},error:n[g+1],complete:n[g+2]};else{const P=Ot(i,hn);x=Ot(P.firestore,Mn),R=P._query;const Z=new fc(x);D={next:Y=>{n[g]&&n[g](new la(x,Z,P,Y))},error:n[g+1],complete:n[g+2]},P0(i._query)}return function(P,Z,Y,we){const Ue=new ly(we),He=new ZE(Z,Ue,Y);return P.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return cp(yield eh(P),He)})),()=>{Ue.Xo(),P.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Tb(yield eh(P),He)}))}}(Kn(x),R,C,D)}function bp(i,n){return function(r,a){const l=new yr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,n,r){return XE.apply(this,arguments)}(yield y0(r),a,l)})),l.promise}(Kn(i),n)}function F0(i,n,r){const a=r.docs.get(n._key),l=new fc(i);return new ua(i,l,n._key,a,new mu(r.hasPendingWrites,r.fromCache),n.converter)}class L0 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=dc(n)}get(n){const r=yu(n,this._firestore),a=new _N(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return Qe();const h=l[0];if(h.isFoundDocument())return new nh(this._firestore,a,h.key,h,r.converter);if(h.isNoDocument())return new nh(this._firestore,a,r._key,null,r.converter);throw Qe()})}set(n,r,a){const l=yu(n,this._firestore),h=k0(l.converter,r,a),g=Ey(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,a);return this._transaction.set(l._key,g),this}update(n,r,a,...l){const h=yu(n,this._firestore);let g;return g="string"==typeof(r=(0,Mt.m9)(r))||r instanceof gu?S0(this._dataReader,"Transaction.update",h._key,r,a,l):Iy(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,g),this}delete(n){const r=yu(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=yu(n,this._firestore),a=new fc(this._firestore);return super.get(n).then(l=>new ua(this._firestore,a,r._key,l._document,new mu(!1,!1),r.converter))}}function sh(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Se("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function U0(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function ZS(){if("undefined"==typeof atob)throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){Nd=i})(Ii.SDK_VERSION),(0,Ii._registerComponent)(new G_.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new Mn(r,new sI(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,Ii.registerVersion)("@firebase/firestore","3.0.2",void 0);class by{constructor(n){this._delegate=n}static fromBase64String(n){return ZS(),new by(Gr.fromBase64String(n))}static fromUint8Array(n){return U0(),new by(Gr.fromUint8Array(n))}toBase64(){return ZS(),this._delegate.toBase64()}toUint8Array(){return U0(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yD(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class DN{enableIndexedDbPersistence(n,r){return function(i,n){oD(i=Ot(i,Mn));const r=Kn(i),a=i._freezeSettings(),l=new uy;return tD(r,l,new Ub(l,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){oD(i=Ot(i,Mn));const n=Kn(i),r=i._freezeSettings(),a=new uy;return tD(n,a,new Bb(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Se(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new yr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(r=(0,ve.Z)(function*(a){if(!Wi.bt())return Promise.resolve();const l=a+"main";yield Wi.delete(l)}),function(a){return r.apply(this,arguments)})(xE(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class Dp{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof lc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&wm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var l;const h=(i=Ot(i,aa))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==n&&wm("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let g,C;if("string"==typeof a.mockUserToken)g=a.mockUserToken,C=mr.MOCK_USER;else{g=(0,Mt.Sg)(a.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new mr(D)}i._credentials=new iA(new rA(g,C))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const n=yield g0(i),r=yield hy(i);return n.setNetworkEnabled(!0),function(a){const l=Ve(a);return l.Kr.delete(0),sp(l)}(r)}))}(Kn(i=Ot(i,Mn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const n=yield g0(i),r=yield hy(i);return n.setNetworkEnabled(!1),(a=(0,ve.Z)(function*(l){const h=Ve(l);h.Kr.add(0),yield na(h),h.Wr.set("Offline")}),function(l){return a.apply(this,arguments)})(r);var a}))}(Kn(i=Ot(i,Mn)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,Yb("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new yr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,n){return ac.apply(this,arguments)}(yield y0(n),r)})),r.promise}(Kn(i=Ot(i,Mn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new ly(n);return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return a=yield eh(i),l=r,Ve(a).Zr.add(l),void l.next();var a,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return a=yield eh(i),l=r,void Ve(a).Zr.delete(l);var a,l}))}}(Kn(i=Ot(i,Mn)),my(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new uo(this,yp(this._delegate,n))}catch(r){throw hi(r,"collection()","Firestore.collection()")}}doc(n){try{return new Ds(this,py(this._delegate,n))}catch(r){throw hi(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new fi(this,function(i,n){if(i=Ot(i,aa),E0("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hn(i,null,(r=n,new eo(Vt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw hi(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new yr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const a=yield(l=i,dy(l).then(h=>h.datastore));var l;new jb(i.asyncQueue,a,n,r).run()})),r.promise}(Kn(i),r=>n(new L0(i,r)))}(this._delegate,r=>n(new YS(this,r)))}batch(){return Kn(this._delegate),new Ty(new VS(this._delegate,n=>bp(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Kn(i=Ot(i,Mn)),a=new C0;return function(i,n,r,a){const l=function(h,g){let C;return C="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,x){if(D instanceof Uint8Array)return f0(D,x);if(D instanceof ArrayBuffer)return f0(new Uint8Array(D),x);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new cS(D,g);var D}(r,Qd(n));i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function(i,n,r){const a=Ve(i);var l;(l=(0,ve.Z)(function*(h,g,C){try{const D=yield g.getMetadata();if(yield function(Z,Y){const we=Ve(Z),Ue=je(Y.createTime);return we.persistence.runTransaction("hasNewerBundle","readonly",He=>we.Je.getBundleMetadata(He,Y.id)).then(He=>!!He&&He.createTime.compareTo(Ue)>=0)}(h.localStore,D))return yield g.close(),void C._completeWith((Z=D,{taskState:"Success",documentsLoaded:Z.totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}));C._updateProgress(YA(D));const x=new iN(D,h.localStore,g.N);let R=yield g.Qo();for(;R;){const Z=yield x.fo(R);Z&&C._updateProgress(Z),R=yield g.Qo()}const P=yield x.complete();yield oa(h,P.Tn,void 0),yield function(Z,Y){const we=Ve(Z);return we.persistence.runTransaction("Save bundle","readwrite",Ue=>we.Je.saveBundleMetadata(Ue,Y))}(h.localStore,D),C._completeWith(P.progress)}catch(D){wm("SyncEngine",`Loading bundle failed with ${D}`),C._failWith(D)}var Z}),function(h,g,C){return l.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield y0(i),l,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,ve.Z)(function*(){return function(r,a){const l=Ve(r);return l.persistence.runTransaction("Get named query","readonly",h=>l.Je.getNamedQuery(h,a))}(yield m0(i),n)}))}(Kn(i=Ot(i,Mn)),n).then(r=>r?new hn(i,null,r.query):null)}(this._delegate,n).then(r=>r?new fi(this,r):null)}}class Dy extends dD{constructor(n){super(),this.firestore=n}convertBytes(n){return new by(new Gr(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return Ds.forKey(r,this.firestore,null)}}class YS{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Dy(n)}get(n){const r=gc(n);return this._delegate.get(r).then(a=>new oh(this._firestore,new ua(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const l=gc(n);return a?(sh("Transaction.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const h=gc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(n){const r=gc(n);return this._delegate.delete(r),this}}class Ty{constructor(n){this._delegate=n}set(n,r,a){const l=gc(n);return a?(sh("WriteBatch.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const h=gc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(n){const r=gc(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class pc{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new Ip(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Tp(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=pc.INSTANCES;let l=a.get(n);l||(l=new WeakMap,a.set(n,l));let h=l.get(r);return h||(h=new pc(n,new Dy(n),r),l.set(r,h)),h}}pc.INSTANCES=new WeakMap;class Ds{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Dy(n)}static forPath(n,r,a){if(n.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Ds(r,new Zt(r._delegate,a,new qe(n)))}static forKey(n,r,a){return new Ds(r,new Zt(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new uo(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new uo(this.firestore,yp(this._delegate,n))}catch(r){throw hi(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Mt.m9)(n))instanceof Zt&&wS(this._delegate,n)}set(n,r){r=sh("DocumentReference.set",r);try{return r?hD(this._delegate,n,r):hD(this._delegate,n)}catch(a){throw hi(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?HS(this._delegate,n):HS(this._delegate,n,r,...a)}catch(l){throw hi(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return bp(Ot(i.firestore,Mn),[new Zf(i._key,Pn.none())])}(this._delegate)}onSnapshot(...n){const r=_D(n),a=QS(n,l=>new oh(this.firestore,new ua(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return $S(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ot(i,Zt);const n=Ot(i.firestore,Mn),r=Kn(n),a=new fc(n);return function(i,n){const r=new yr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(a=(0,ve.Z)(function*(l,h,g){try{const C=yield function(D,x){const R=Ve(D);return R.persistence.runTransaction("read document","readonly",P=>R.Qn.An(P,x))}(l,h);C.isFoundDocument()?g.resolve(C):C.isNoDocument()?g.resolve(null):g.reject(new Se(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const D=sa(C,`Failed to get document '${h} from cache`);g.reject(D)}}),function(l,h,g){return a.apply(this,arguments)})(yield m0(i),n,r);var a})),r.promise}(r,i._key).then(l=>new ua(n,a,i._key,l,new mu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ot(i,Zt);const n=Ot(i.firestore,Mn);return qb(Kn(n),i._key,{source:"server"}).then(r=>F0(n,i,r))}(this._delegate):function(i){i=Ot(i,Zt);const n=Ot(i.firestore,Mn);return qb(Kn(n),i._key).then(r=>F0(n,i,r))}(this._delegate),r.then(a=>new oh(this.firestore,new ua(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new Ds(this.firestore,this._delegate.withConverter(n?pc.getInstance(this.firestore,n):null))}}function hi(i,n,r){return i.message=i.message.replace(n,r),i}function _D(i){for(const n of i)if("object"==typeof n&&!yD(n))return n;return{}}function QS(i,n){var r,a;let l;return l=yD(i[0])?i[0]:yD(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(n(h))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(a=l.complete)||void 0===a?void 0:a.bind(l)}}class oh{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new Ds(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return O0(this._delegate,n._delegate)}}class Tp extends oh{data(n){const r=this._delegate.data(n);return function(i,n){i||Qe()}(void 0!==r),r}}class fi{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Dy(n)}where(n,r,a){try{return new fi(this.firestore,ca(this._delegate,function(i,n,r){const a=n,l=Cp("where",i);return new SS(l,a,r)}(n,r,a)))}catch(l){throw hi(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new fi(this.firestore,ca(this._delegate,function(i,n="asc"){const r=n,a=Cp("orderBy",i);return new NS(a,r)}(n,r)))}catch(a){throw hi(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new fi(this.firestore,ca(this._delegate,function(i){return Xb("limit",i),new RS("limit",i,"F")}(n)))}catch(r){throw hi(r,"limit()","Query.limit()")}}limitToLast(n){try{return new fi(this.firestore,ca(this._delegate,function(i){return Xb("limitToLast",i),new RS("limitToLast",i,"L")}(n)))}catch(r){throw hi(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new fi(this.firestore,ca(this._delegate,function(...i){return new MS("startAt",i,!0)}(...n)))}catch(r){throw hi(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new fi(this.firestore,ca(this._delegate,function(...i){return new MS("startAfter",i,!1)}(...n)))}catch(r){throw hi(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new fi(this.firestore,ca(this._delegate,function(...i){return new OS("endBefore",i,!0)}(...n)))}catch(r){throw hi(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new fi(this.firestore,ca(this._delegate,function(...i){return new OS("endAt",i,!1)}(...n)))}catch(r){throw hi(r,"endAt()","Query.endAt()")}}isEqual(n){return gy(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ot(i,hn);const n=Ot(i.firestore,Mn),r=Kn(n),a=new fc(n);return function(i,n){const r=new yr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(a=(0,ve.Z)(function*(l,h,g){try{const C=yield Zm(l,h,!0),D=new Nb(h,C.Gn),x=D.Io(C.documents),R=D.applyChanges(x,!1);g.resolve(R.snapshot)}catch(C){const D=sa(C,`Failed to execute query '${h} against cache`);g.reject(D)}}),function(l,h,g){return a.apply(this,arguments)})(yield m0(i),n,r);var a})),r.promise}(r,i._query).then(l=>new la(n,a,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ot(i,hn);const n=Ot(i.firestore,Mn),r=Kn(n),a=new fc(n);return Wb(r,i._query,{source:"server"}).then(l=>new la(n,a,i,l))}(this._delegate):function(i){i=Ot(i,hn);const n=Ot(i.firestore,Mn),r=Kn(n),a=new fc(n);return P0(i._query),Wb(r,i._query).then(l=>new la(n,a,i,l))}(this._delegate),r.then(a=>new B0(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=_D(n),a=QS(n,l=>new B0(this.firestore,new la(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return $S(this._delegate,r,a)}withConverter(n){return new fi(this.firestore,this._delegate.withConverter(n?pc.getInstance(this.firestore,n):null))}}class AN{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Tp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class B0{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new fi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Tp(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new AN(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new Tp(this._firestore,a))})}isEqual(n){return O0(this._delegate,n._delegate)}}class uo extends fi{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Ds(this.firestore,n):null}doc(n){try{return new Ds(this.firestore,void 0===n?py(this._delegate):py(this._delegate,n))}catch(r){throw hi(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Ot(i.firestore,Mn),a=py(i),l=k0(i.converter,n);return bp(r,[Ey(dc(i.firestore),"addDoc",a._key,l,null!==i.converter,{}).toMutation(a._key,Pn.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new Ds(this.firestore,r))}isEqual(n){return wS(this._delegate,n._delegate)}withConverter(n){return new uo(this.firestore,this._delegate.withConverter(n?pc.getInstance(this.firestore,n):null))}}function gc(i){return Ot(i,Zt)}class j0{constructor(...n){this._delegate=new gu(...n)}static documentId(){return new j0(_r.keyField().canonicalString())}isEqual(n){return(n=(0,Mt.m9)(n))instanceof gu&&this._delegate._internalPath.isEqual(n._internalPath)}}class mc{constructor(n){this._delegate=n}static serverTimestamp(){const n=new wy("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new mc(n)}static delete(){const n=new hc("deleteField");return n._methodName="FieldValue.delete",new mc(n)}static arrayUnion(...n){const r=function(...i){return new Cy("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new mc(r)}static arrayRemove(...n){const r=function(...i){return new A0("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new mc(r)}static increment(n){const r=function(i){return new dN("increment",i)}(n);return r._methodName="FieldValue.increment",new mc(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const H0={Firestore:Dp,GeoPoint:yy,Timestamp:rr,Blob:by,Transaction:YS,WriteBatch:Ty,DocumentReference:Ds,DocumentSnapshot:oh,Query:fi,QueryDocumentSnapshot:Tp,QuerySnapshot:B0,CollectionReference:uo,FieldPath:j0,FieldValue:mc,setLogLevel:function(i){!function(i){Ml.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new G_.wA("firestore-compat",r=>((n,r)=>new Dp(n,r,new DN))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},H0)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.2")}(cC.Z);var XS=k(6682),yc=k(309),ex=k(7771),tx=k(8858);class $0 extends Ar.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new vD(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,h=a.length;let g;if(this.closed)throw new jc.N;if(this.isStopped||this.hasError?g=Qh.w.EMPTY:(this.observers.push(n),g=new tx.W(this,n)),l&&n.add(n=new yc.ht(n,l)),r)for(let C=0;C<h&&!n.closed;C++)n.next(a[C]);else for(let C=0;C<h&&!n.closed;C++)n.next(a[C].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),g}_getNow(){return(this.scheduler||ex.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,l=this._events,h=l.length;let g=0;for(;g<h&&!(n-l[g].time<a);)g++;return h>r&&(g=Math.max(g,h-r)),g>0&&l.splice(0,g),l}}class vD{constructor(n,r){this.time=n,this.value=r}}function G0(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let l,g,h=0,C=!1,D=!1;return function(R){let P;h++,!l||C?(C=!1,l=new $0(i,n,a),P=l.subscribe(this),g=R.subscribe({next(Z){l.next(Z)},error(Z){C=!0,l.error(Z)},complete(){D=!0,g=void 0,l.complete()}}),D&&(g=void 0)):P=l.subscribe(this),this.add(()=>{h--,P.unsubscribe(),P=void 0,g&&!D&&r&&0===h&&(g.unsubscribe(),g=void 0,l=void 0)})}}(a))}function q0(i,n){return n?vn(()=>i,n):vn(()=>i)}var Ay=k(3101),rx=k(7841);const Sy=new m.OlP("angularfire2.auth.use-emulator"),W0=new m.OlP("angularfire2.auth.settings"),z0=new m.OlP("angularfire2.auth.tenant-id"),xy=new m.OlP("angularfire2.auth.langugage-code"),ED=new m.OlP("angularfire2.auth.use-device-language"),Ki=new m.OlP("angularfire.auth.persistence"),wD=(i,n,r,a,l,h,g,C)=>(0,fr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=n.runOutsideAngular(()=>i.auth());if(r&&D.useEmulator(...r),a&&(D.tenantId=a),D.languageCode=l,h&&D.useDeviceLanguage(),g)for(const[x,R]of Object.entries(g))D.settings[x]=R;return C&&D.setPersistence(C),D},[r,a,l,h,g,C]);let CD=(()=>{class i{constructor(r,a,l,h,g,C,D,x,R,P,Z){const Y=new Ar.xQ,we=(0,nt.of)(void 0).pipe((0,yc.QV)(g.outsideAngular),vn(()=>h.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6780)))),(0,ft.U)(()=>(0,tt.on)(r,h,a)),(0,ft.U)(Ue=>wD(Ue,h,C,x,R,P,D,Z)),G0({bufferSize:1,refCount:!1}));if(Au(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,nt.of)(null);else{we.pipe(Ro()).subscribe();const He=we.pipe(vn(bt=>bt.getRedirectResult().then(Kt=>Kt,()=>null)),fr.iC,G0({bufferSize:1,refCount:!1})),St=we.pipe(vn(bt=>new Jr.y(Kt=>({unsubscribe:h.runOutsideAngular(()=>bt.onAuthStateChanged(pi=>Kt.next(pi),pi=>Kt.error(pi),()=>Kt.complete()))})))),Ut=we.pipe(vn(bt=>new Jr.y(Kt=>({unsubscribe:h.runOutsideAngular(()=>bt.onIdTokenChanged(pi=>Kt.next(pi),pi=>Kt.error(pi),()=>Kt.complete()))}))));this.authState=He.pipe(q0(St),(0,Ay.R)(g.outsideAngular),(0,yc.QV)(g.insideAngular)),this.user=He.pipe(q0(Ut),(0,Ay.R)(g.outsideAngular),(0,yc.QV)(g.insideAngular)),this.idToken=this.user.pipe(vn(bt=>bt?(0,tn.D)(bt.getIdToken()):(0,nt.of)(null))),this.idTokenResult=this.user.pipe(vn(bt=>bt?(0,tn.D)(bt.getIdTokenResult()):(0,nt.of)(null))),this.credential=(0,XS.T)(He,Y,this.authState.pipe(Ci(bt=>!bt))).pipe((0,ft.U)(bt=>(null==bt?void 0:bt.user)?bt:null),(0,Ay.R)(g.outsideAngular),(0,yc.QV)(g.insideAngular))}return(0,tt.pX)(this,we,h,{spy:{apply:(Ue,He,St)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&St.then(Ut=>Y.next(Ut))}}})}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(tt.Dh),m.LFG(tt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(fr.HU),m.LFG(Sy,8),m.LFG(W0,8),m.LFG(z0,8),m.LFG(xy,8),m.LFG(ED,8),m.LFG(Ki,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function ID(i,n){return function(i,n=bT.z){return new Jr.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function Z0(i,n){return ID(i,n).pipe((0,ft.U)(r=>({payload:r,type:"query"})))}function K0(i,n){return Z0(i,n).pipe(Yu(void 0),$_(),(0,ft.U)(([r,a])=>{const l=a.payload.docChanges(),h=l.map(g=>({type:g.type,payload:g}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((g,C)=>{const D=l.find(R=>R.doc.ref.isEqual(g.ref)),x=null==r?void 0:r.payload.docs.find(R=>R.ref.isEqual(g.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(g.metadata)||!D&&x&&JSON.stringify(x.metadata)===JSON.stringify(g.metadata)||h.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:g}})}),h}))}function bD(i,n,r){return K0(i,r).pipe(xa((a,l)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return Y0(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return Y0(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Y0(i,n.oldIndex,1)}return i}(i,a))}),i}(a,l.map(h=>h.payload),n),[]),r=>r.lift(new AT(void 0,void 0)),(0,ft.U)(a=>a.map(l=>({type:l.type,payload:l}))))}function Y0(i,n,r,...a){const l=i.slice();return l.splice(n,r,...a),l}function Q0(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class TD{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=K0(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,ft.U)(a=>a.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(Yu(void 0),$_(),Ci(([a,l])=>l.length>0||!a),(0,ft.U)(([a,l])=>l),fr.iC)}auditTrail(n){return this.stateChanges(n).pipe(xa((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=Q0(n);return bD(this.query,r,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(n={}){return Z0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),fr.iC)}get(n){return(0,tn.D)(this.query.get(n)).pipe(fr.iC)}add(n){return this.ref.add(n)}doc(n){return new ax(this.ref.doc(n),this.afs)}}class ax{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:l,query:h}=ah(a,r);return new TD(l,h,this.afs)}snapshotChanges(){return function(i,n){return ID(i,n).pipe(Yu(void 0),$_(),(0,ft.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,tn.D)(this.ref.get(n)).pipe(fr.iC)}}class AD{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?K0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),Ci(r=>r.length>0),fr.iC):K0(this.query,this.afs.schedulers.outsideAngular).pipe(fr.iC)}auditTrail(n){return this.stateChanges(n).pipe(xa((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=Q0(n);return bD(this.query,r,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(n={}){return Z0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(a=>a.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),fr.iC)}get(n){return(0,tn.D)(this.query.get(n)).pipe(fr.iC)}}const J0=new m.OlP("angularfire2.enableFirestorePersistence"),SD=new m.OlP("angularfire2.firestore.persistenceSettings"),ux=new m.OlP("angularfire2.firestore.settings"),xD=new m.OlP("angularfire2.firestore.use-emulator");function ah(i,n=(r=>r)){return{query:n(i),ref:i}}let _c=(()=>{class i{constructor(r,a,l,h,g,C,D,x,R,P,Z,Y,we,Ue,He,St){this.schedulers=D;const Ut=(0,tt.on)(r,C,a),bt=R;P&&wD(Ut,C,Z,we,Ue,He,Y,St),[this.firestore,this.persistenceEnabled$]=(0,fr.cc)(`${Ut.name}.firestore`,"AngularFirestore",Ut.name,()=>{const Kt=C.runOutsideAngular(()=>Ut.firestore());if(h&&Kt.settings(h),bt&&Kt.useEmulator(...bt),l&&!Au(g)){const pi=()=>{try{return(0,tn.D)(Kt.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(aT){return"undefined"!=typeof console&&console.warn(aT),(0,nt.of)(!1)}};return[Kt,C.runOutsideAngular(pi)]}return[Kt,(0,nt.of)(!1)]},[h,bt,l])}collection(r,a){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:g}=ah(l,a),C=this.schedulers.ngZone.run(()=>h);return new TD(C,g,this)}collectionGroup(r,a){const l=a||(g=>g),h=this.firestore.collectionGroup(r);return new AD(l(h),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>a);return new ax(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(tt.Dh),m.LFG(tt.xv,8),m.LFG(J0,8),m.LFG(ux,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(fr.HU),m.LFG(SD,8),m.LFG(xD,8),m.LFG(CD,8),m.LFG(Sy,8),m.LFG(W0,8),m.LFG(z0,8),m.LFG(xy,8),m.LFG(ED,8),m.LFG(Ki,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),ND=(()=>{class i{constructor(){rx.Z.registerVersion("angularfire",fr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:J0,useValue:!0},{provide:SD,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[_c]}),i})(),lx=(()=>{class i{constructor(r){this.bd=r,this.rutaDeLaColeccion="/logs",this.referenciaAlaColeccion=r.collection(this.rutaDeLaColeccion)}CreateLog(r){return this.referenciaAlaColeccion.add(Object.assign({},r))}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(_c))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ap=(()=>{class i{constructor(r,a,l,h,g){this.afs=r,this.afAuth=a,this.router=l,this.ngZone=h,this.logger=g,this.singUpError="",this.singInError="",this.afAuth.authState.subscribe(C=>{if(C){this.userData=C,localStorage.setItem("user",JSON.stringify(this.userData));const D=localStorage.getItem("user");D&&JSON.parse(D)}else localStorage.setItem("user",""),JSON.parse("")})}SignIn(r,a){return this.afAuth.signInWithEmailAndPassword(r,a).then(l=>{this.ngZone.run(()=>{this.router.navigate([""])}),this.SetUserData(l.user,"sign in")}).catch(l=>{console.log(l),this.singInError=l})}SignUp(r,a){return this.afAuth.createUserWithEmailAndPassword(r,a).then(l=>{this.SetUserData(l.user,"creation"),alert("Account creation succeed"),this.router.navigate([""])})}get isLoggedIn(){const r=localStorage.getItem("user");return!!r&&null!==JSON.parse(r)}get getUser(){const r=localStorage.getItem("user");return JSON.parse(r||"")}AuthLogin(r){return this.afAuth.signInWithPopup(r).then(a=>{this.ngZone.run(()=>{this.router.navigate([""])}),this.SetUserData(a.user,"logged in")}).catch(a=>{this.singInError=a})}SetUserData(r,a){const l={uid:r.uid,email:r.email,displayName:r.displayName},h=new Date,g=h.getDate()+"/"+(h.getMonth()+1)+"/"+h.getFullYear()+" @ "+h.getHours()+":"+h.getMinutes()+":"+h.getSeconds();this.logger.CreateLog({activity:`User ${a}`,user:l,date:g}),localStorage.setItem("user",JSON.stringify(l))}SignOut(){return this.afAuth.signOut().then(()=>{this.SetUserData(JSON.parse(localStorage.getItem("user")||""),"sign out"),localStorage.removeItem("user"),this.router.navigate(["login"]),console.log(this.isLoggedIn)})}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(_c),m.LFG(CD),m.LFG(xr),m.LFG(m.R0b),m.LFG(lx))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),NN=(()=>{class i{constructor(r){this.bd=r,this.rutaDeLaColeccion="/mensajes",this.referenciaAlaColeccion=r.collection(this.rutaDeLaColeccion)}CreateMensaje(r){return this.referenciaAlaColeccion.add(Object.assign({},r))}GetMensajes(){return this.referenciaAlaColeccion.valueChanges()}}return i.\u0275fac=function(r){return new(r||i)(m.LFG(_c))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var RN=k(1555);function Sp(i,n){return new Jr.y(r=>{const a=i.length;if(0===a)return void r.complete();const l=new Array(a);let h=0,g=0;for(let C=0;C<a;C++){const D=(0,tn.D)(i[C]);let x=!1;r.add(D.subscribe({next:R=>{x||(x=!0,g++),l[C]=R},error:R=>r.error(R),complete:()=>{h++,(h===a||!x)&&(g===a&&r.next(n?n.reduce((R,P,Z)=>(R[P]=l[Z],R),{}):l),r.complete())}}))}})}let X0=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(m.Qsj),m.Y36(m.SBq))},i.\u0275dir=m.lG2({type:i}),i})(),vc=(()=>{class i extends X0{}return i.\u0275fac=function(){let n;return function(a){return(n||(n=m.n5z(i)))(a||i)}}(),i.\u0275dir=m.lG2({type:i,features:[m.qOj]}),i})();const lo=new m.OlP("NgValueAccessor"),MD={provide:lo,useExisting:(0,m.Gpc)(()=>uh),multi:!0},PN=new m.OlP("CompositionEventMode");let uh=(()=>{class i extends X0{constructor(r,a,l){super(r,a),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=j()?j().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(PN,8))},i.\u0275dir=m.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&m.NdJ("input",function(h){return a._handleInput(h.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(h){return a._compositionEnd(h.target.value)})},features:[m._Bn([MD]),m.qOj]}),i})();const qr=new m.OlP("NgValidators"),da=new m.OlP("NgAsyncValidators");function Np(i){return null!=i}function FD(i){const n=(0,m.QGY)(i)?(0,tn.D)(i):i;return(0,m.CqO)(n),n}function My(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function nw(i,n){return n.map(r=>r(i))}function dx(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function rw(i){return null!=i?function(i){if(!i)return null;const n=i.filter(Np);return 0==n.length?null:function(r){return My(nw(r,n))}}(dx(i)):null}function lh(i){return null!=i?function(i){if(!i)return null;const n=i.filter(Np);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,Da.k)(n))return Sp(n,null);if((0,RN.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return Sp(r.map(a=>n[a]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return Sp(i=1===i.length&&(0,Da.k)(i[0])?i[0]:i,null).pipe((0,ft.U)(r=>n(...r)))}return Sp(i,null)}(nw(r,n).map(FD)).pipe((0,ft.U)(My))}}(dx(i)):null}function VD(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function UD(i){return i?Array.isArray(i)?i:[i]:[]}function Oy(i,n){return Array.isArray(i)?i.includes(n):i===n}function BD(i,n){const r=UD(n);return UD(i).forEach(l=>{Oy(r,l)||r.push(l)}),r}function jD(i,n){return UD(n).filter(r=>!Oy(i,r))}let HD=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=rw(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=lh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=m.lG2({type:i}),i})(),Wr=(()=>{class i extends HD{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=m.n5z(i)))(a||i)}}(),i.\u0275dir=m.lG2({type:i,features:[m.qOj]}),i})();class Ec extends HD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $D{constructor(n){this._cd=n}is(n){var r,a,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===l?void 0:l[n])}}let iw=(()=>{class i extends $D{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(Ec,2))},i.\u0275dir=m.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&m.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[m.qOj]}),i})(),GD=(()=>{class i extends $D{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(Wr,10))},i.\u0275dir=m.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){2&r&&m.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))("ng-submitted",a.is("submitted"))},features:[m.qOj]}),i})();function Rp(i,n){aw(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Fy(i,n)})}(i,n),function(i,n){const r=(a,l)=>{n.valueAccessor.writeValue(a),l&&n.viewToModelUpdate(a)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Fy(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Mp(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function aw(i,n){const r=function(i){return i._rawValidators}(i);null!==n.validator?i.setValidators(VD(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const a=function(i){return i._rawAsyncValidators}(i);null!==n.asyncValidator?i.setAsyncValidators(VD(a,n.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const l=()=>i.updateValueAndValidity();Mp(n._rawValidators,l),Mp(n._rawAsyncValidators,l)}function Fy(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Op(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const ch="VALID",Pp="INVALID",wc="PENDING",Cc="DISABLED";function kp(i){return(Ly(i)?i.validators:i)||null}function Fp(i){return Array.isArray(i)?rw(i):i||null}function dh(i,n){return(Ly(n)?n.asyncValidators:i)||null}function dw(i){return Array.isArray(i)?lh(i):i||null}function Ly(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class hw{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=Fp(this._rawValidators),this._composedAsyncValidatorFn=dw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ch}get invalid(){return this.status===Pp}get pending(){return this.status==wc}get disabled(){return this.status===Cc}get enabled(){return this.status!==Cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=Fp(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=dw(n)}addValidators(n){this.setValidators(BD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(BD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(jD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(jD(n,this._rawAsyncValidators))}hasValidator(n){return Oy(this._rawValidators,n)}hasAsyncValidator(n){return Oy(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=wc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Cc,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=ch,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ch||this.status===wc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cc:ch}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=wc,this._hasOwnPendingAsyncValidator=!0;const r=FD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let a=i;return n.forEach(l=>{a=a instanceof Uy?a.controls.hasOwnProperty(l)?a.controls[l]:null:a instanceof Cx&&a.at(l)||null}),a}(this,n)}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Cc:this.errors?Pp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wc)?wc:this._anyControlsHaveStatus(Pp)?Pp:ch}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ly(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vy extends hw{constructor(n=null,r,a){super(kp(r),dh(a,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Op(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Op(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Uy extends hw{constructor(n,r,a){super(kp(r),dh(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=r instanceof Vy?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((l,h)=>{a=r(a,l,h)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class Cx extends hw{constructor(n,r,a){super(kp(r),dh(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((a,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,l)=>{this.at(l)&&this.at(l).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof Vy?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const Ix={provide:Wr,useExisting:(0,m.Gpc)(()=>Lp)},Ic=(()=>Promise.resolve(null))();let Lp=(()=>{class i extends Wr{constructor(r,a){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new m.vpe,this.form=new Uy({},rw(r),lh(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ic.then(()=>{const a=this._findContainer(r.path);r.control=a.registerControl(r.name,r.control),Rp(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ic.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name),Op(this._directives,r)})}addFormGroup(r){Ic.then(()=>{const a=this._findContainer(r.path),l=new Uy({});(function(i,n){aw(i,n)})(l,r),a.registerControl(r.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ic.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,a){Ic.then(()=>{this.form.get(r.path).setValue(a)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function(i,n){i._syncPendingControls(),n.forEach(r=>{const a=r.control;"submit"===a.updateOn&&a._pendingChange&&(r.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(qr,10),m.Y36(da,10))},i.\u0275dir=m.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,a){1&r&&m.NdJ("submit",function(h){return a.onSubmit(h)})("reset",function(){return a.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Ix]),m.qOj]}),i})();const jy={provide:Ec,useExisting:(0,m.Gpc)(()=>Vp)},zD=(()=>Promise.resolve(null))();let Vp=(()=>{class i extends Ec{constructor(r,a,l,h){super(),this.control=new Vy,this._registered=!1,this.update=new m.vpe,this._parent=r,this._setValidators(a),this._setAsyncValidators(l),this.valueAccessor=function(i,n){if(!n)return null;let r,a,l;return Array.isArray(n),n.forEach(h=>{h.constructor===uh?r=h:function(i){return Object.getPrototypeOf(i.constructor)===vc}(h)?a=h:l=h}),l||a||r||null}(0,h)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){zD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const a=r.isDisabled.currentValue,l=""===a||a&&"false"!==a;zD.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(Wr,9),m.Y36(qr,10),m.Y36(da,10),m.Y36(lo,10))},i.\u0275dir=m.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([jy]),m.qOj,m.TTD]}),i})(),yw=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=m.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),ha=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({}),i})();const KN={provide:qr,useExisting:(0,m.Gpc)(()=>Gy),multi:!0};let Gy=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?function(i){return function(i){return null==i||0===i.length}(i.value)?{required:!0}:null}(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=m.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,a){2&r&&m.uIk("required",a.required?"":null)},inputs:{required:"required"},features:[m._Bn([KN])]}),i})(),o=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[ha]]}),i})(),u=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[o]}),i})();function E(i,n){if(1&i&&(m.TgZ(0,"div"),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.qZA(),m.TgZ(5,"span"),m._uU(6),m.qZA(),m.qZA()),2&i){const r=n.$implicit;m.xp6(2),m.hij(" ",r.usuario.email,": "),m.xp6(2),m.hij(" ",r.mensaje,""),m.xp6(2),m.hij(" ",r.hora,"")}}function b(i,n){if(1&i){const r=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"div",1),m.YNc(2,E,7,3,"div",2),m.qZA(),m.TgZ(3,"div",3),m.TgZ(4,"input",4),m.NdJ("ngModelChange",function(l){return m.CHM(r),m.oxw().mensaje=l}),m.qZA(),m.TgZ(5,"button",5),m.NdJ("click",function(){return m.CHM(r),m.oxw().enviarMensaje()}),m._uU(6,"Enviar"),m.qZA(),m.qZA(),m.qZA()}if(2&i){const r=m.oxw();m.xp6(2),m.Q6J("ngForOf",r.mensajes),m.xp6(2),m.Q6J("ngModel",r.mensaje)}}let T=(()=>{class i{constructor(r,a){this.chat=r,this.auth=a,this.mensajes=[],this.chatService=r,this.authService=a,this.mensajes=r.GetMensajes().subscribe(l=>this.mensajes=l)}enviarMensaje(){if(!this.mensaje)return;const l={usuario:this.authService.getUser,hora:(new Date).toLocaleString(),mensaje:this.mensaje};this.chatService.CreateMensaje(l),this.mensaje=""}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(NN),m.Y36(Ap))},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-chat"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mt-4"],[4,"ngFor","ngForOf"],[1,"display-flex","flex-direction-row"],["type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(r,a){1&r&&m.YNc(0,b,7,2,"div",0),2&r&&m.Q6J("ngIf",a.authService.isLoggedIn)},directives:[Pi,Xi,uh,iw,Vp],styles:[""]}),i})();function A(i,n){if(1&i&&(m.TgZ(0,"div"),m.TgZ(1,"h1"),m._uU(2,"Info del Usuario"),m.qZA(),m.TgZ(3,"h2"),m._uU(4),m.qZA(),m.qZA()),2&i){const r=m.oxw();m.xp6(4),m.Oqu(r.authService.getUser.email)}}function G(i,n){if(1&i&&(m.TgZ(0,"span",9),m._uU(1),m.qZA()),2&i){const r=m.oxw();m.xp6(1),m.Oqu(r.singUpError)}}const J=[{path:"home",component:(()=>{class i{constructor(r){this.auth=r,this.authService=r}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(Ap))},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-home"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(r,a){1&r&&(m.YNc(0,A,5,1,"div",0),m._UZ(1,"app-chat")),2&r&&m.Q6J("ngIf",a.authService.isLoggedIn)},directives:[Pi,T],styles:[""]}),i})()},{path:"login",component:(()=>{class i{constructor(r){this.auth=r,this.authService=r}ngOnInit(){}accesoRapido(){this.password="test@test.com",this.email="test@test.com"}loggedIn(){var r;null===(r=this.authService)||void 0===r||r.SignIn(this.email,this.password).then(a=>console.log(a)).catch(a=>console.log(a))}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(Ap))},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"form-signin"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","placeholder","Email address","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-lg","btn-primary","btn-block",3,"click"],[1,"btn","btn-lg","btn-secondary","btn-block",3,"click"]],template:function(r,a){1&r&&(m.TgZ(0,"form",0),m.TgZ(1,"h1",1),m._uU(2,"Please sign in"),m.qZA(),m.TgZ(3,"label",2),m._uU(4,"Email address"),m.qZA(),m.TgZ(5,"input",3),m.NdJ("ngModelChange",function(h){return a.email=h}),m.qZA(),m._UZ(6,"br"),m.TgZ(7,"label",4),m._uU(8,"Password"),m.qZA(),m.TgZ(9,"input",5),m.NdJ("ngModelChange",function(h){return a.password=h}),m.qZA(),m.TgZ(10,"button",6),m.NdJ("click",function(){return a.loggedIn()}),m._uU(11,"Sign in"),m.qZA(),m.TgZ(12,"button",7),m.NdJ("click",function(){return a.accesoRapido()}),m._uU(13,"Acceso Rapido"),m.qZA(),m.qZA()),2&r&&(m.xp6(5),m.Q6J("ngModel",a.email),m.xp6(4),m.Q6J("ngModel",a.password))},directives:[yw,GD,Lp,uh,Gy,iw,Vp],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),i})()},{path:"quiensoy",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-quien-soy"]],decls:2,vars:0,template:function(r,a){1&r&&(m.TgZ(0,"p"),m._uU(1,"quien-soy works!"),m.qZA())},styles:[""]}),i})()},{path:"registrarse",component:(()=>{class i{constructor(r){this.auth=r,this.authService=r}ngOnInit(){}register(){var r;null===(r=this.authService)||void 0===r||r.SignUp(this.email,this.password).then(a=>console.log(a)).catch(a=>{console.log(a),console.log(typeof a),this.singUpError=a})}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(Ap))},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-registro"]],decls:13,vars:3,consts:[[1,"form-signin"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-lg","btn-primary","btn-block",3,"click"],[1,"mt-3"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(r,a){1&r&&(m.TgZ(0,"form",0),m.TgZ(1,"h1",1),m._uU(2,"Please Register"),m.qZA(),m.TgZ(3,"label",2),m._uU(4,"Email address"),m.qZA(),m.TgZ(5,"input",3),m.NdJ("ngModelChange",function(h){return a.email=h}),m.qZA(),m.TgZ(6,"label",4),m._uU(7,"Password"),m.qZA(),m.TgZ(8,"input",5),m.NdJ("ngModelChange",function(h){return a.password=h}),m.qZA(),m.TgZ(9,"button",6),m.NdJ("click",function(){return a.register()}),m._uU(10,"Sign Up"),m.qZA(),m.TgZ(11,"div",7),m.YNc(12,G,2,1,"span",8),m.qZA(),m.qZA()),2&r&&(m.xp6(5),m.Q6J("ngModel",a.email),m.xp6(3),m.Q6J("ngModel",a.password),m.xp6(4),m.Q6J("ngIf",a.singUpError))},directives:[yw,GD,Lp,uh,Gy,iw,Vp,Pi],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),i})()},{path:"",redirectTo:"home",pathMatch:"full"}];let Ne=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[[oC.forRoot(J)],oC]}),i})();function _e(i,n){1&i&&(m.TgZ(0,"a",7),m._uU(1,"Login"),m.qZA())}function Ye(i,n){1&i&&(m.TgZ(0,"a",8),m._uU(1,"Registrarse"),m.qZA())}function st(i,n){if(1&i){const r=m.EpF();m.TgZ(0,"a",9),m.NdJ("click",function(){return m.CHM(r),m.oxw().authService.SignOut()}),m._uU(1,"Desloguearse"),m.qZA()}}let Dt=(()=>{class i{constructor(r){this.auth=r,this.authService=r}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)(m.Y36(Ap))},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-menu-principal"]],decls:9,vars:3,consts:[[1,"site-header","navbar-expand-md","navbar-dark","bg-dark","mb-4"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["routerLink","quiensoy",1,"nav-item","nav-link","py-2","d-none","d-md-inline-block"],["routerLink","home",1,"nav-item","nav-link","py-2","d-none","d-md-inline-block"],["class","nav-item nav-link py-2 d-none d-md-inline-block","routerLink","login",4,"ngIf"],["class","nav-item nav-link py-2 d-none d-md-inline-block","routerLink","registrarse",4,"ngIf"],["class","nav-item nav-link py-2 d-none d-md-inline-block",3,"click",4,"ngIf"],["routerLink","login",1,"nav-item","nav-link","py-2","d-none","d-md-inline-block"],["routerLink","registrarse",1,"nav-item","nav-link","py-2","d-none","d-md-inline-block"],[1,"nav-item","nav-link","py-2","d-none","d-md-inline-block",3,"click"]],template:function(r,a){1&r&&(m.TgZ(0,"nav",0),m.TgZ(1,"div",1),m.TgZ(2,"a",2),m._uU(3,"Quien Soy"),m.qZA(),m.TgZ(4,"a",3),m._uU(5,"Home"),m.qZA(),m.YNc(6,_e,2,0,"a",4),m.YNc(7,Ye,2,0,"a",5),m.YNc(8,st,2,0,"a",6),m.qZA(),m.qZA()),2&r&&(m.xp6(6),m.Q6J("ngIf",!a.authService.isLoggedIn),m.xp6(1),m.Q6J("ngIf",!a.authService.isLoggedIn),m.xp6(1),m.Q6J("ngIf",a.authService.isLoggedIn))},directives:[Lg,Pi],styles:["body[_ngcontent-%COMP%]{min-height:75rem}a[_ngcontent-%COMP%]{color:#fff}"]}),i})(),Qn=(()=>{class i{constructor(){this.title="sala-de-juegos"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=m.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(r,a){1&r&&(m._UZ(0,"app-menu-principal"),m._UZ(1,"router-outlet"))},directives:[Dt,Vg],styles:[""]}),i})(),Qi=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=m.oAB({type:i,bootstrap:[Qn]}),i.\u0275inj=m.cJS({providers:[_c],imports:[[Hu,Ne,tt.hO.initializeApp(Wh_firebaseConfig),ND,u]]}),i})();(0,m.G48)(),t_().bootstrapModule(Qi).catch(i=>console.error(i))},4762:(We,Ce,k)=>{"use strict";k.d(Ce,{ZT:()=>oe,pi:()=>j,_T:()=>ne,mG:()=>pe,Jh:()=>z,XA:()=>H,CR:()=>U,ev:()=>te});var m=function(re,se){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,ue){he.__proto__=ue}||function(he,ue){for(var fe in ue)Object.prototype.hasOwnProperty.call(ue,fe)&&(he[fe]=ue[fe])})(re,se)};function oe(re,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function he(){this.constructor=re}m(re,se),re.prototype=null===se?Object.create(se):(he.prototype=se.prototype,new he)}var j=function(){return(j=Object.assign||function(se){for(var he,ue=1,fe=arguments.length;ue<fe;ue++)for(var Q in he=arguments[ue])Object.prototype.hasOwnProperty.call(he,Q)&&(se[Q]=he[Q]);return se}).apply(this,arguments)};function ne(re,se){var he={};for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&se.indexOf(ue)<0&&(he[ue]=re[ue]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(ue=Object.getOwnPropertySymbols(re);fe<ue.length;fe++)se.indexOf(ue[fe])<0&&Object.prototype.propertyIsEnumerable.call(re,ue[fe])&&(he[ue[fe]]=re[ue[fe]])}return he}function pe(re,se,he,ue){return new(he||(he=Promise))(function(Q,Re){function ze(wt){try{Xe(ue.next(wt))}catch(Bt){Re(Bt)}}function Et(wt){try{Xe(ue.throw(wt))}catch(Bt){Re(Bt)}}function Xe(wt){wt.done?Q(wt.value):function(Q){return Q instanceof he?Q:new he(function(Re){Re(Q)})}(wt.value).then(ze,Et)}Xe((ue=ue.apply(re,se||[])).next())})}function z(re,se){var ue,fe,Q,Re,he={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Re={next:ze(0),throw:ze(1),return:ze(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function ze(Xe){return function(wt){return function(Xe){if(ue)throw new TypeError("Generator is already executing.");for(;he;)try{if(ue=1,fe&&(Q=2&Xe[0]?fe.return:Xe[0]?fe.throw||((Q=fe.return)&&Q.call(fe),0):fe.next)&&!(Q=Q.call(fe,Xe[1])).done)return Q;switch(fe=0,Q&&(Xe=[2&Xe[0],Q.value]),Xe[0]){case 0:case 1:Q=Xe;break;case 4:return he.label++,{value:Xe[1],done:!1};case 5:he.label++,fe=Xe[1],Xe=[0];continue;case 7:Xe=he.ops.pop(),he.trys.pop();continue;default:if(!(Q=(Q=he.trys).length>0&&Q[Q.length-1])&&(6===Xe[0]||2===Xe[0])){he=0;continue}if(3===Xe[0]&&(!Q||Xe[1]>Q[0]&&Xe[1]<Q[3])){he.label=Xe[1];break}if(6===Xe[0]&&he.label<Q[1]){he.label=Q[1],Q=Xe;break}if(Q&&he.label<Q[2]){he.label=Q[2],he.ops.push(Xe);break}Q[2]&&he.ops.pop(),he.trys.pop();continue}Xe=se.call(re,he)}catch(wt){Xe=[6,wt],fe=0}finally{ue=Q=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Xe,wt])}}}function H(re){var se="function"==typeof Symbol&&Symbol.iterator,he=se&&re[se],ue=0;if(he)return he.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ue>=re.length&&(re=void 0),{value:re&&re[ue++],done:!re}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(re,se){var he="function"==typeof Symbol&&re[Symbol.iterator];if(!he)return re;var fe,Re,ue=he.call(re),Q=[];try{for(;(void 0===se||se-- >0)&&!(fe=ue.next()).done;)Q.push(fe.value)}catch(ze){Re={error:ze}}finally{try{fe&&!fe.done&&(he=ue.return)&&he.call(ue)}finally{if(Re)throw Re.error}}return Q}function te(re,se,he){if(he||2===arguments.length)for(var Q,ue=0,fe=se.length;ue<fe;ue++)(Q||!(ue in se))&&(Q||(Q=Array.prototype.slice.call(se,0,ue)),Q[ue]=se[ue]);return re.concat(Q||Array.prototype.slice.call(se))}},8239:(We,Ce,k)=>{"use strict";function m(j,ne,me,ie,Ee,pe,z){try{var F=j[pe](z),B=F.value}catch(H){return void me(H)}F.done?ne(B):Promise.resolve(B).then(ie,Ee)}function oe(j){return function(){var ne=this,me=arguments;return new Promise(function(ie,Ee){var pe=j.apply(ne,me);function z(B){m(pe,ie,Ee,z,F,"next",B)}function F(B){m(pe,ie,Ee,z,F,"throw",B)}z(void 0)})}}k.d(Ce,{Z:()=>oe})}},We=>{We(We.s=9286)}]);